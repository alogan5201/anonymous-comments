/*!
* GeoTools
* Boilerplate for a Static website using EJS and SASS
* example.com
* @author Brenton Cozby -- https://brentoncozby.com
* Copyright 2022. MIT Licensed.
*/

!function(e){function n(n){for(var a,r,i=n[0],l=n[1],d=n[2],u=0,_=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&_.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(c&&c(n);_.length;)_.shift()();return s.push.apply(s,d||[]),t()}function t(){for(var e,n=0;n<s.length;n++){for(var t=s[n],a=!0,i=1;i<t.length;i++){var l=t[i];0!==o[l]&&(a=!1)}a&&(s.splice(n--,1),e=r(r.s=t[0]))}return e}var a={},o={10:0},s=[];function r(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=a,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/js/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=n,i=i.slice();for(var d=0;d<i.length;d++)n(i[d]);var c=l;s.push([48,0]),t()}({12:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n/* harmony import */ var firebase_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2);\n/* harmony import */ var utils_comments__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);\n/* harmony import */ var utils_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6);\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(4);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_7__);\n/* jshint esversion: 8 */\n\n\n\n\n\n\n\n\nconst auth = Object(firebase_auth__WEBPACK_IMPORTED_MODULE_2__[/* getAuth */ "b"])();\nconst db = Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* getDatabase */ "b"])();\nsetTimeout(() => {\n  if (auth.currentUser && auth.currentUser.displayName) {\n    $(\'#panelsStayOpen-collapseOne\').addClass("d-none");\n  }\n}, 50);\nvar myCollapse = document.getElementById(\'myCollapsible\');\nmyCollapse.addEventListener(\'shown.bs.collapse\', function (event) {\n  document.getElementById("my-comment-text-btn").setAttribute("data-bs-toggle", "");\n}); // commentReply( name, id, date, message)\n// comment (id, name, date, message, likes, dislikes)\n\n$(".modal-close-btn").on("click", function (e) {\n  e.preventDefault();\n  const modalId = $(this).parent().parent().parent().parent().attr("id");\n  let modal = modalId == "filterCommentSuccess" ? "success" : "fail";\n  Object(utils_helpers__WEBPACK_IMPORTED_MODULE_5__[/* toggleModal */ "b"])(modal);\n});\n\nDate.prototype.toShortFormat = function () {\n  let monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];\n  let day = this.getDate();\n  let monthIndex = this.getMonth();\n  let monthName = monthNames[monthIndex];\n  let year = this.getFullYear();\n  return `${monthName} ${year}`;\n};\n\nlet today = new Date();\nconst prettyDate = today.toShortFormat();\nconst path = window.location.pathname;\nconst commentRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* ref */ "f"])(db, `messages${path}`);\n/**\n *---------------------------------------------------------------------\n * !! DISPLAY COMMENTS\n * -------------------------------------------------------------------\n */\n\nfunction displayComments() {\n  Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* get */ "a"])(commentRef).then(snapshot => {\n    if (snapshot.exists()) {\n      const data = snapshot.val();\n      const map = new Map(Object.entries(data));\n\n      for (const [key, value] of map.entries()) {\n        let likes = value.likes && value.likes.likes ? value.likes.likes : "";\n        let dislikes = value.dislikes && value.dislikes.dislikes ? value.dislikes.dislikes : "";\n        const dateinfo = value.date ? value.date : "";\n        const commentsList = Object(utils_comments__WEBPACK_IMPORTED_MODULE_4__[/* comment */ "a"])(value.id, value.name, dateinfo, value.message, likes, dislikes);\n        $("#comment-section").append(commentsList);\n\n        if (value.replies) {\n          let ex = Object(utils_comments__WEBPACK_IMPORTED_MODULE_4__[/* extractReplies */ "c"])(value.replies);\n\n          for (let index = 0; index < ex.length; index++) {\n            const element = ex[index];\n            let recipient = $(`#${element.recipient} .other-comments`);\n            let replies = Object(utils_comments__WEBPACK_IMPORTED_MODULE_4__[/* commentReply */ "b"])(element.name, element.id, element.date, element.message);\n            $(recipient[0]).append(`  <div class="col-md-11 p-3 mb-3" >\n   <div class="row ">\n   <div class="col-lg-12 border-start">\n      <div class="d-flex justify-content-between align-items-center border-bottom pb-2">\n     <h6 class="fw-bold text-primary mb-1 ">${element.name}</h6>\n     <p class="text-muted small m-0">\n      ${element.date}\n     </p>\n     </div>\n     <p class="mt-3 mb-0 pb-2">\n     ${element.message}\n     </p>\n   </div>\n   </div>\n     </div>\n\n\n`);\n          }\n        }\n      }\n    } else {}\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\ndisplayComments();\n/**\n *---------------------------------------------------------------------\n * !! COMMENT SUBMIT\n * -------------------------------------------------------------------\n */\n\n$("#comment-form").on("submit", async function (e) {\n  e.preventDefault();\n  e.stopImmediatePropagation();\n  $(\'#comment-form :submit\').prop("disabled", true);\n  $("#comment-btn").html(` <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>\nVerifying..`);\n  let userCheck = auth.currentUser;\n  const inputs = $("#comment-form :input");\n  const children = $(\'#comment-form\').children();\n  let nameInputVal = $("#comment-form").find("input:eq(0)").val();\n  let textInputVal = $("#comment-form").find("textarea:eq(0)").val();\n  let inputName = nameInputVal.length > 0 ? nameInputVal : "Guest";\n\n  if (!userCheck) {\n    guestComment(nameInputVal, textInputVal);\n  } else {\n    const userName = userCheck.isAnonymous ? inputName : auth.currentUser.displayName;\n    userComment(userName, textInputVal);\n  }\n});\n\nasync function guestComment(nameInputVal, textInputVal) {\n  const newUser = await Object(_firebase__WEBPACK_IMPORTED_MODULE_6__[/* createRandomUser */ "a"])();\n  let name = nameInputVal.length > 0 ? nameInputVal : "Guest";\n  let message = textInputVal;\n  let cleanMessage = dompurify__WEBPACK_IMPORTED_MODULE_7___default.a.sanitize(message);\n  let cleanName = dompurify__WEBPACK_IMPORTED_MODULE_7___default.a.sanitize(name);\n  Object(_firebase__WEBPACK_IMPORTED_MODULE_6__[/* handleComment */ "d"])(cleanMessage, cleanName, newUser.uid, path);\n}\n\nasync function userComment(nameInputVal, textInputVal) {\n  let message = textInputVal;\n  let cleanMessage = dompurify__WEBPACK_IMPORTED_MODULE_7___default.a.sanitize(message);\n  let cleanName = dompurify__WEBPACK_IMPORTED_MODULE_7___default.a.sanitize(nameInputVal);\n  Object(_firebase__WEBPACK_IMPORTED_MODULE_6__[/* handleComment */ "d"])(cleanMessage, cleanName, auth.currentUser.uid, path);\n}\n/**\n *---------------------------------------------------------------------\n * !! COMMENT REPLY SUBMIT\n * -------------------------------------------------------------------\n */\n\n\n$("#comment-section").on("click", ".reply-btn", async function (e) {\n  e.preventDefault();\n  let item = $(this);\n  let btn = item[0];\n  let siblings = $(this).parent().parent().siblings();\n  let otherComments = siblings[0]; // let parentTag = $(this).parent().parent().attr(\'id\');\n\n  let parentTag = $(this).parent().parent().attr("id");\n  let grandFather = $(this).parent().parent().parent().children().last().children();\n  let footer = $(this).parent().parent().parent().children().last();\n  let replySection = $(this).parent().parent().parent().children().last().children();\n  const replyFormComponent = Object(utils_comments__WEBPACK_IMPORTED_MODULE_4__[/* replyForm */ "d"])(auth.currentUser);\n  $(footer).append(replyFormComponent);\n  $(replySection).addClass("d-none");\n  btn.disabled = true;\n});\n$("#comment-section").on("submit", \'.reply-form\', async function (e) {\n  e.preventDefault();\n  $(this).find(":submit").prop("disabled", true);\n  $(this).find(":submit").html(` <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>\nVerifying..`);\n  let buttonElm = e.target[2];\n  let formElements = e.target;\n  let name = $(this).find(\':input\').val() || "Guest";\n  let message = $(this).find(\'textarea\').val();\n  let parent = $(this).parent();\n  let siblings = $(this).siblings();\n  let cleanMessage = dompurify__WEBPACK_IMPORTED_MODULE_7___default.a.sanitize(message);\n  let cleanName = dompurify__WEBPACK_IMPORTED_MODULE_7___default.a.sanitize(name);\n  let otherComments = siblings[1];\n  const docId = $(this).parents("div.card").attr("id");\n  let messageText = `${cleanName} ${cleanMessage}`;\n  let replyForm = $(this);\n  let otherSiblings = siblings[0];\n\n  if (!auth.currentUser) {\n    const newUser = await Object(_firebase__WEBPACK_IMPORTED_MODULE_6__[/* createRandomUser */ "a"])();\n    const data = {\n      name: cleanName,\n      text: cleanMessage,\n      uid: newUser.uid,\n      replyTo: docId\n    };\n    const response = await Object(_firebase__WEBPACK_IMPORTED_MODULE_6__[/* sanitizeReply */ "e"])(cleanMessage, cleanName, newUser.uid);\n    submitReply(response, data.replyTo, $(this)); //submitReply( response, data.replyTo )\n  } else {\n    const data = {\n      name: auth.currentUser.displayName,\n      text: cleanMessage,\n      uid: auth.currentUser.uid,\n      replyTo: docId\n    };\n    const response = await Object(_firebase__WEBPACK_IMPORTED_MODULE_6__[/* sanitizeReply */ "e"])(cleanMessage, auth.currentUser.displayName, auth.currentUser.uid);\n    submitReply(response, data.replyTo, $(this));\n  }\n});\n\nasync function submitReply(data, replyTo, item) {\n  if (data.status) {\n    console.log(data.name);\n    console.log(auth.currentUser);\n    let siblings = $(item).siblings();\n    let otherSiblings = siblings[0];\n    let otherComments = siblings[1];\n    const replyFormComponent = Object(utils_comments__WEBPACK_IMPORTED_MODULE_4__[/* replyForm */ "d"])();\n    $(item).find(":submit").prop("disabled", false);\n    let footer = $(`#${replyTo}`).children().last();\n    Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* get */ "a"])(commentRef).then(snapshot => {\n      if (snapshot.exists()) {\n        const payload = snapshot.val();\n        const map = new Map(Object.entries(payload));\n\n        for (const [key, value] of map.entries()) {\n          if (value.id == replyTo) {\n            const postListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* ref */ "f"])(db, `messages${path}${key}/replies`);\n            const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* push */ "e"])(postListRef);\n            return Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* set */ "g"])(newPostRef, {\n              name: data.name,\n              id: data.uid,\n              message: data.message,\n              date: prettyDate,\n              recipient: value.id\n            });\n          }\n        }\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n    setTimeout(() => {\n      $(item).animate({\n        opacity: 0\n      }, function () {\n        $(item).css("display", "none");\n        $(otherSiblings).removeClass("d-none");\n        $(otherSiblings).append(`\n       <div class="col-md-11 p-3 mb-3" >\n   <div class="row ">\n   <div class="col-lg-12 border-start">\n      <div class="d-flex justify-content-between align-items-center border-bottom pb-2">\n     <h6 class="fw-bold text-primary mb-1 ">${data.name}</h6>\n     <p class="text-muted small m-0">\n      ${prettyDate}\n     </p>\n\n\n     </div>\n     <p class="mt-3 mb-0 pb-2">\n     ${data.message}\n     </p>\n   </div>\n   </div>\n\n     </div>\n     `);\n        $(otherComments).animate({\n          opacity: 1\n        }, 500);\n        Object(utils_helpers__WEBPACK_IMPORTED_MODULE_5__[/* toggleModal */ "b"])("success");\n      });\n    }, 500);\n  } else if (data == "user is swearing") {\n    Object(utils_helpers__WEBPACK_IMPORTED_MODULE_5__[/* toggleModal */ "b"])("fail");\n  }\n}\n\nasync function userReply(nameInputVal, textInputVal, userCheck) {\n  let name = nameInputVal.length > 0 ? nameInputVal : "Guest";\n  let message = textInputVal;\n  let cleanMessage = dompurify__WEBPACK_IMPORTED_MODULE_7___default.a.sanitize(message);\n  let cleanName = dompurify__WEBPACK_IMPORTED_MODULE_7___default.a.sanitize(name);\n  const userData = JSON.parse(localStorage.getItem("userData"));\n  Object(_firebase__WEBPACK_IMPORTED_MODULE_6__[/* handleComment */ "d"])(cleanMessage, userCheck.displayName, auth.currentUser.uid, path);\n}\n/**\n *---------------------------------------------------------------------\n * !! THUMBS UP\n * -------------------------------------------------------------------\n */\n\n\n$("#comment-section").on("click", "#thumbs-up", function (e) {\n  e.preventDefault();\n  let btn = $(this);\n  btn[0].disabled = true;\n  let t = $(this);\n  let anchor = t[0];\n  let countText = $(this).children().last().text();\n  let parentTag = $(this).parent().parent().parent().attr("id");\n  Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* onValue */ "d"])(commentRef, snapshot => {\n    snapshot.forEach(childSnapshot => {\n      const childKey = childSnapshot.key;\n      const childData = childSnapshot.val(); //\n\n      if (childData.id == parentTag) {\n        const postListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* ref */ "f"])(db, `messages${path}${childKey}/likes`);\n        const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* push */ "e"])(postListRef);\n        Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* set */ "g"])(Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* ref */ "f"])(db, `messages${path}${childKey}/likes`), {\n          likes: Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* increment */ "c"])(1)\n        });\n      }\n    });\n  }, {\n    onlyOnce: true\n  });\n  let newCount = parseInt(countText) + 1 || 1;\n  $(this).children().first().removeClass("far fa-thumbs-up me-2").addClass("fas fa-thumbs-up me-2");\n  $(this).children().first().css("color", "#0085A1");\n  $(this).children().last().html(newCount);\n});\n/**\n *---------------------------------------------------------------------\n * !! THUMBS DOWN\n * -------------------------------------------------------------------\n */\n\n$("#comment-section").on("click", "#thumbs-down", function (e) {\n  e.preventDefault();\n  let t = $(this);\n  t[0].disabled = true;\n  let anchor = t[0];\n  let countText = $(this).children().last().text();\n  let parentTag = $(this).parent().parent().parent().attr("id");\n  Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* onValue */ "d"])(commentRef, snapshot => {\n    snapshot.forEach(childSnapshot => {\n      const childKey = childSnapshot.key;\n      const childData = childSnapshot.val(); //\n\n      if (childData.id == parentTag) {\n        const postListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* ref */ "f"])(db, `messages${path}${childKey}/likes`);\n        const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* push */ "e"])(postListRef);\n        Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* set */ "g"])(Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* ref */ "f"])(db, `messages${path}${childKey}/dislikes`), {\n          dislikes: Object(firebase_database__WEBPACK_IMPORTED_MODULE_1__[/* increment */ "c"])(1)\n        });\n      }\n    });\n  }, {\n    onlyOnce: true\n  });\n  let newCount = parseInt(countText) + 1 || 1;\n  $(this).children().first().removeClass("far fa-thumbs-down me-2").addClass("fas fa-thumbs-down me-2");\n  $(this).children().first().css("color", "#0085A1");\n  $(this).children().last().html(newCount);\n});\n\n//# sourceURL=webpack:///./src/js/utils/commentscript.js?')},4:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return getIp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return googleSignin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return createRandomUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return handleComment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return sanitizeReply; });\n/* unused harmony export addCommentMessage */\n/* harmony import */ var bootstrap_dist_js_bootstrap_esm_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(0);\n/* harmony import */ var firebase_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2);\n/* harmony import */ var utils_comments__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8);\n/* harmony import */ var utils_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6);\n\n\n\n\n\n\n\nconst firebaseConfig = {\n  apiKey: "AIzaSyBCU8RRxV3qaSyxOgc4ObSWmUhlfnJsYTo",\n  authDomain: "geotools-bc75a.firebaseapp.com",\n  databaseURL: "https://geotools-bc75a-default-rtdb.firebaseio.com",\n  projectId: "geotools-bc75a",\n  storageBucket: "geotools-bc75a.appspot.com",\n  messagingSenderId: "106157954659",\n  appId: "1:106157954659:web:3e189110236a2138438a56",\n  measurementId: "G-Z6GK19K3L0"\n}; // Initialize Firebase\n\nconst app = Object(firebase_app__WEBPACK_IMPORTED_MODULE_1__[/* initializeApp */ "a"])(firebaseConfig);\nconst auth = Object(firebase_auth__WEBPACK_IMPORTED_MODULE_2__[/* getAuth */ "b"])();\nconst db = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* getDatabase */ "b"])();\nconst functions = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_4__[/* getFunctions */ "b"])(app);\nconst prettyDate = Object(utils_helpers__WEBPACK_IMPORTED_MODULE_6__[/* getDate */ "a"])();\n\nif (location.hostname === "localhost") {\n  Object(firebase_functions__WEBPACK_IMPORTED_MODULE_4__[/* connectFunctionsEmulator */ "a"])(functions, "localhost", 5001);\n}\n\nconst path = window.location.pathname;\nconst commentRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* ref */ "f"])(db, `messages${path}`);\nconst commentFormInputs = $("#comment-form :input");\nconst googleProvider = new firebase_auth__WEBPACK_IMPORTED_MODULE_2__[/* GoogleAuthProvider */ "a"](); // login-link-text login-link-icon\n\nObject(firebase_auth__WEBPACK_IMPORTED_MODULE_2__[/* onAuthStateChanged */ "c"])(auth, user => {\n  const userData = localStorage.getItem("userData");\n\n  if (user) {\n    console.log("🚀 ~ file: firebase.js ~ line 50 ~ onAuthStateChanged ~ user", user);\n\n    if (window.location.href.includes("login")) {\n      console.log("login", window.location);\n      console.log(user);\n      let history = localStorage.getItem("page-history") || "/";\n      window.location.replace(history);\n    }\n  }\n});\n\nfunction loginNav() {\n  console.log(\'login nav user login\');\n}\n\nfunction logoutNav() {\n  console.log(\'login nav user already logged in\');\n}\n\nfunction writeUserData(userId, userInfo) {\n  return Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* set */ "g"])(Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* ref */ "f"])(db, "users"), userInfo);\n}\n\nasync function getIp() {\n  const query = await fetch(`https://ipapi.co/json`, {\n    method: "GET"\n  });\n\n  if (query.status !== 200) {\n    alert(query.status);\n    return;\n  }\n\n  const data = await query.json();\n  let lat = data.latitude;\n  let lon = data.longitude;\n  let obj = {\n    lat: lat,\n    lon: lon\n  };\n  localStorage.setItem("userlocation", `${JSON.stringify(obj)}`);\n  return data;\n}\nfunction googleSignin() {\n  return Object(firebase_auth__WEBPACK_IMPORTED_MODULE_2__[/* signInWithRedirect */ "e"])(auth, googleProvider);\n}\n\nfunction googleSignOut() {\n  Object(firebase_auth__WEBPACK_IMPORTED_MODULE_2__[/* signOut */ "f"])(auth);\n}\n\nfunction checkIfUserExists(data) {\n  const uid = data.uid;\n  const userRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* ref */ "f"])(db, `users`);\n  const users = [];\n  return Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* get */ "a"])(userRef).then(snapshot => {\n    if (snapshot.exists()) {\n      const data = snapshot.val();\n      const map = new Map(Object.entries(data));\n      const values = Array.from(map.values());\n      console.log(values);\n\n      for (let index = 0; index < values.length; index++) {\n        const element = values[index];\n        console.log(index, element.id);\n\n        if (element.id == uid) {\n          console.log("user already exists");\n          break;\n        } else {\n          console.log("user does not exist");\n        }\n      }\n    }\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nfunction checkIfAnonymousUserExists() {\n  const userRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* ref */ "f"])(db, `anonymousUsers`);\n  Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* get */ "a"])(userRef).then(snapshot => {\n    if (snapshot.exists()) {\n      const data = snapshot.val();\n      const map = new Map(Object.entries(data));\n\n      for (const [key, value] of map.entries()) {\n        console.log(key, value);\n      }\n    }\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function writeUsertoDatabase(data) {\n  Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* get */ "a"])(db, `users/${data.uid}`).then(snapshot => {\n    if (snapshot.exists()) {\n      console.log(snapshot.val());\n    } else {\n      const userListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* ref */ "f"])(db, `users/${data.uid}`);\n      const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* push */ "e"])(userListRef);\n      return Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* set */ "g"])(newPostRef, data);\n    }\n  }).catch(error => {\n    console.error(error);\n    return error;\n  }).finally(() => {\n    let msg = "Promise complete";\n    console.log(\'Promise completed\');\n    return msg;\n  });\n}\n\nasync function createRandomUser() {\n  const ipAddress = await getIp();\n  return Object(firebase_auth__WEBPACK_IMPORTED_MODULE_2__[/* signInAnonymously */ "d"])(auth).then(data => {\n    let ip = ipAddress || null;\n    let userInfo = {\n      uid: data.user.uid,\n      emailVerified: data.user.emailVerified,\n      isAnonymous: data.user.isAnonymous,\n      metadata: data.user.metadata,\n      ip: ip\n    };\n    let userData = JSON.stringify(userInfo);\n    localStorage.setItem("userData", userData);\n    console.log(userInfo);\n    return userInfo;\n  }).catch(error => {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    return error;\n  });\n}\nasync function handleComment(message, name, userData, path) {\n  const addComment = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_4__[/* httpsCallable */ "c"])(functions, "addComment");\n  addComment({\n    text: message,\n    name: name,\n    uid: userData,\n    page: path\n  }).then(function (result) {\n    // Read result of the Cloud Function.\n    let sanitizedMessage = result.data.text;\n    let sanitizedName = result.data.name;\n    const documentId = result.data.id;\n\n    if (message !== sanitizedMessage) {\n      $(\'#comment-btn\').prop("disabled", false);\n      $("#comment-btn").html("Submit");\n\n      for (let index = 0; index < commentFormInputs.length; index++) {\n        const element = commentFormInputs[index];\n        element.value = "";\n      }\n\n      Object(utils_helpers__WEBPACK_IMPORTED_MODULE_6__[/* toggleModal */ "b"])("fail");\n    } else if (message == sanitizedMessage) {\n      const newCommentData = {\n        id: documentId,\n        name: sanitizedName,\n        date: prettyDate,\n        message: sanitizedMessage\n      };\n      const newComment = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* push */ "e"])(commentRef);\n      Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* set */ "g"])(newComment, newCommentData);\n\n      for (let index = 0; index < commentFormInputs.length; index++) {\n        const element = commentFormInputs[index];\n        element.value = "";\n      }\n\n      let commentComponent = Object(utils_comments__WEBPACK_IMPORTED_MODULE_5__[/* comment */ "a"])(documentId, sanitizedName, prettyDate, sanitizedMessage, "", "");\n      $(\'#comment-btn\').prop("disabled", false);\n      $("#comment-btn").html("Submit");\n      Object(utils_helpers__WEBPACK_IMPORTED_MODULE_6__[/* toggleModal */ "b"])("success");\n      $("#comment-section").append(commentComponent);\n    }\n  }).catch(function (error) {\n    // Getting the Error details.\n    let code = error.code;\n    let message = error.message;\n    let details = error.details;\n    console.error("There was an error when calling the Cloud Function", error);\n    window.alert("There was an error when calling the Cloud Function:\\n\\nError Code: " + code + "\\nError Message:" + message + "\\nError Details:" + details);\n    $(\'#comment-btn\').prop("disabled", false);\n    $("#comment-btn").html("Submit");\n  });\n}\n\nif (!window.location.pathname.includes("login")) {\n  $("#mainNav").on("click", "#sign-out", function (e) {\n    e.preventDefault();\n    console.log(e);\n    Object(firebase_auth__WEBPACK_IMPORTED_MODULE_2__[/* signOut */ "f"])(auth).then(() => {\n      let myModal = new bootstrap_dist_js_bootstrap_esm_min_js__WEBPACK_IMPORTED_MODULE_0__[/* Modal */ "b"](document.getElementById("modalSignOut"));\n      myModal.toggle();\n      toggleLogInNav();\n    }).catch(error => {});\n  });\n}\n\nfunction getUser() {\n  let result = auth.currentUser ? auth.currentUser : null;\n  return result;\n}\n\n$("#login-link-icon").on("click", function (e) {\n  e.preventDefault();\n  localStorage.setItem("page-history", window.location.href);\n  window.location.replace("/login");\n});\nsetTimeout(() => {\n  if ($("#mainNav")) {\n    if (auth.currentUser) {\n      console.log(auth.currentUser.uid);\n      toggleLogOutNav();\n\n      if ($(\'#comment-form\')) {\n        $(\'#panelsStayOpen-collapseOne\').addClass("d-none");\n      }\n    } else {\n      toggleLogInNav();\n    }\n  }\n}, 1000);\n\nfunction toggleLogOutNav() {\n  let logoutNav = `    <div class="nav-item dropdown">\n          <a\n            class="nav-link dropdown-toggle"\n            href="#"\n            id="login-link-icon"\n            role="button"\n            data-bs-toggle="dropdown"\n            aria-expanded="false"\n          >\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n              \x3c!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --\x3e\n              <path\n                d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"\n              /></svg\n          ></a>\n          <ul class="dropdown-menu" aria-labelledby="login-link-icon">\n            <li><a class="dropdown-item" href="#">New project...</a></li>\n            <li><a class="dropdown-item" href="#">Settings</a></li>\n            <li><a class="dropdown-item" href="#">Profile</a></li>\n            <li>\n              <hr class="dropdown-divider" />\n            </li>\n            <li>\n              <a id="sign-out" class="dropdown-item" href="#">Sign out</a>\n            </li>\n          </ul>\n        </div>`;\n  $("#user-profile").html(logoutNav);\n}\n\nfunction toggleLogInNav() {\n  let loginNav = `\n                          <div class="nav-item">\n                            <a class="nav-link" href="/login" id="login-link-icon">\n                              <svg width="15px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0\n                                448 512">\n                                \x3c!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --\x3e\n                                <path d="M224 256c70.7 0 128-57.3 128-128S294.7 0\n                                  224 0 96 57.3 96 128s57.3 128 128 128zm89.6\n                                  32h-16.7c-22.2 10.2-46.9 16-72.9\n                                  16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0\n                                  422.4V464c0 26.5 21.5 48 48 48h352c26.5 0\n                                  48-21.5\n                                  48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"></path></svg></a>\n\n                            </div>\n                         `;\n  $("#user-profile").html(loginNav);\n}\n\nasync function sanitizeReply(message, name, userData, path) {\n  const addComment = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_4__[/* httpsCallable */ "c"])(functions, "addComment");\n  return addComment({\n    text: message,\n    name: name,\n    uid: userData,\n    page: path\n  }).then(function (result) {\n    // Read result of the Cloud Function.\n    let sanitizedMessage = result.data.text;\n    let sanitizedName = result.data.name;\n    const documentId = result.data.id;\n    const userid = result.data.uid;\n\n    if (message !== sanitizedMessage) {\n      let returnmessage = "user is swearing";\n      return returnmessage;\n    } else if (message == sanitizedMessage) {\n      const newCommentData = {\n        id: documentId,\n        name: sanitizedName,\n        date: prettyDate,\n        message: sanitizedMessage,\n        uid: userid,\n        status: true\n      };\n      return newCommentData;\n    }\n\n    return result;\n  }).catch(function (error) {\n    // Getting the Error details.\n    let code = error.code;\n    let message = error.message;\n    let details = error.details;\n    console.error("There was an error when calling the Cloud Function", error);\n    window.alert("There was an error when calling the Cloud Function:\\n\\nError Code: " + code + "\\nError Message:" + message + "\\nError Details:" + details);\n    return error;\n  });\n}\nfunction addCommentMessage(data) {\n  const path = window.location.pathname;\n  const addComment = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_4__[/* httpsCallable */ "c"])(functions, "addComment");\n  const docId = data.docId;\n  addComment({\n    text: data.cleanMessage,\n    name: data.cleanName,\n    uid: data.uid,\n    page: path\n  }).then(function (result) {\n    console.log(result); // Read result of the Cloud Function.\n\n    let sanitizedMessage = result.data.text;\n    let sanitizedName = result.data.name;\n\n    if (data.cleanMessage !== sanitizedMessage) {\n      let message = `message ${cleanMessage} was not clean`;\n      return message;\n    } else {\n      return Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* get */ "a"])(commentRef).then(snapshot => {\n        if (snapshot.exists()) {\n          const data = snapshot.val();\n          const map = new Map(Object.entries(data));\n\n          for (const [key, value] of map.entries()) {\n            if (value.id == docId) {\n              const postListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* ref */ "f"])(db, `messages${path}${key}/replies`);\n              let messageContent = {\n                name: data.sanitizedName,\n                id: data.uid,\n                message: data.sanitizedMessage,\n                date: prettyDate,\n                recipient: value.id\n              };\n              const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* push */ "e"])(postListRef);\n              Object(firebase_database__WEBPACK_IMPORTED_MODULE_3__[/* set */ "g"])(newPostRef, messageContent);\n              return messageContent;\n            }\n          }\n        }\n      }).catch(error => {\n        console.error(error);\n        return error;\n      });\n    }\n  }).catch(function (error) {\n    // Getting the Error details.\n    let code = error.code;\n    let message = error.message;\n    let details = error.details;\n    console.error("There was an error when calling the Cloud Function", error);\n    window.alert("There was an error when calling the Cloud Function:\\n\\nError Code: " + code + "\\nError Message:" + message + "\\nError Details:" + details);\n    return error;\n  });\n}\n/* unused harmony default export */ var _unused_webpack_default_export = ({\n  addCommentMessage,\n  googleSignin,\n  createRandomUser,\n  getIp,\n  sanitizeReply\n});\n\n//# sourceURL=webpack:///./src/js/firebase.js?')},48:function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(49);\n\n\n//# sourceURL=webpack:///multi_./src/js/newConverter.js?")},49:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var utils_commentscript_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n/* harmony import */ var utils_geocoder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n/* harmony import */ var bootstrap_dist_js_bootstrap_esm_min_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);\n/* jshint esversion: 8 */\n\n\n\n\n\n\nfunction test(e) {\n  e.preventDefault();\n}\n\nwindow.addEventListener("DOMContentLoaded", () => {\n  const alertMessage = `\n  <div class="alert alert-primary d-flex align-items-center" role="alert">\n  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Warning:">\n  <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>\n  </svg>\n  <div>\n  No Address Found\n  </div>\n  </div>\n\n  `;\n  const north = document.getElementById("north");\n  const south = document.getElementById("south");\n  const east = document.getElementById("east");\n  const west = document.getElementById("west");\n  const latlonForm = document.getElementById("latlonForm");\n\n  async function convertAddress(city) {\n    const data = await Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* getLatLon */ "f"])(city);\n    return data.data;\n  }\n\n  function ParseDMS(input) {\n    var parts = input.split(/[^\\d\\w]+/);\n    var lat = ConvertDMSToDD(parts[0], parts[1], parts[2], parts[3]);\n    var lng = ConvertDMSToDD(parts[4], parts[5], parts[6], parts[7]);\n  }\n\n  function ParseDMS(input) {\n    var parts = input.split(/[^\\d\\w]+/);\n    var lat = ConvertDMSToDD(parts[0], parts[1], parts[2], parts[3]);\n    var lng = ConvertDMSToDD(parts[4], parts[5], parts[6], parts[7]);\n  }\n\n  function ConvertDMSToDD(arr) {\n    let degrees = arr[0];\n    let minutes = arr[1];\n    let seconds = arr[2];\n    let direction = arr[3];\n    var dd = degrees + minutes / 60 + seconds / (60 * 60);\n\n    if (direction == "S" || direction == "W") {\n      dd = dd * -1;\n    } // Don\'t do anything for N or E\n\n\n    return dd;\n  }\n\n  function DDtoDMS(lat, lon) {\n    //\n    let latitude = Math.abs(lat);\n    let longitude = Math.abs(lon);\n    let dLat = Math.floor(latitude);\n    let mLat = Math.floor((latitude - dLat) * 60);\n    let sLat = Math.round((latitude - dLat - mLat / 60) * 1e3 * 3600) / 1e3;\n    let dLon = Math.floor(longitude);\n    let mLon = Math.floor((longitude - dLon) * 60);\n    let sLon = Math.floor((longitude - dLon - mLon / 60) * 1e3 * 3600) / 1e3;\n    let degreesLatitude = dLat;\n    let minutesLatitude = mLat;\n    let secondsLatitude = sLat;\n    let degreesLongitude = dLon;\n    let minutesLongitude = mLon;\n    let secondsLongitude = sLon;\n    let latResult = `${degreesLatitude}° ${minutesLatitude}\' ${secondsLatitude}\'\'`;\n    let lonResult = `${degreesLongitude}° ${minutesLongitude}\' ${secondsLongitude}\'\'`;\n    let result = {\n      lat: {\n        degrees: degreesLatitude,\n        minutes: minutesLatitude,\n        seconds: secondsLatitude\n      },\n      lon: {\n        degrees: degreesLongitude,\n        minutes: minutesLongitude,\n        seconds: secondsLongitude\n      },\n      popupMessage: {\n        lat: latResult,\n        lon: lonResult\n      }\n    };\n    return result;\n  }\n\n  function check(elm) {\n    document.getElementById(elm).checked = true;\n  }\n\n  const convertLocationData = document.getElementById("convertLocationData");\n  const latInputField = document.getElementById("latInputField");\n  const lonInputField = document.getElementById("lonInputField");\n  const latlonGeocoderBtn = document.getElementById("latlonGeocoderBtn");\n\n  const CoordsApp = function _CoordsApp() {\n    return `\n     <h1>Origin State = [${CoordsApp.state.origin}] </h1> </br>\n     <h1>Destination State = [${CoordsApp.state.destination}] </h1>\n     <h1>User Location = [${CoordsApp.state.userLocation}] </h1>\n     <h1>trackingUser =  ${CoordsApp.state.trackingUser}</h1>\n    `;\n  };\n\n  const myhandler = {\n    set: function (obj, prop, value) {\n      obj[prop] = value;\n    }\n  };\n  CoordsApp.state = new Proxy({\n    origin: [],\n    destination: [],\n    userLocation: [],\n    trackingUser: false\n  }, myhandler);\n  L.mapbox.accessToken = "pk.eyJ1IjoibG9nYW41MjAxIiwiYSI6ImNrcTQybTFoZzE0aDQyeXM1aGNmYnR1MnoifQ.4kRWNfEH_Yao_mmdgrgjPA";\n  const map = L.mapbox.map("map", null, {\n    zoomControl: false\n  }).setView([38.25004425273146, -85.75576792471112], 11);\n  L.mapbox.styleLayer("mapbox://styles/mapbox/streets-v11").addTo(map) // add your tiles to the map\n  .once("load", finishedLoading);\n\n  function finishedLoading() {\n    // first, toggle the class \'done\', which makes the loading screen\n    // fade out\n    setTimeout(() => {\n      $("#map").removeClass("invisible");\n    }, 1000);\n  } // L.marker is a low-level marker constructor in Leaflet.\n\n\n  const marker = L.marker([0, 0], {\n    icon: L.mapbox.marker.icon({\n      "marker-size": "large",\n      "marker-color": "blue"\n    })\n  }).addTo(map);\n  var locationControl = L.control.locate({\n    circleStyle: {\n      opacity: 0\n    },\n    followCircleStyle: {\n      opacity: 0\n    },\n    drawCircle: false,\n    follow: false,\n    setView: false,\n    remainActive: false,\n    showPopup: false,\n    locateOptions: {\n      enableHighAccuracy: true\n    }\n  }).addTo(map);\n\n  async function findAddress(lat, lon) {\n    const d = await Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* getAddress */ "d"])(lat, lon);\n    const data = d.data;\n    return data;\n  }\n\n  map.on("locationfound", async function (e) {\n    let lat = e.latitude;\n    let lon = e.longitude;\n    await updateLocation(lat, lon);\n  });\n  map.on("locationerror", async function (e) {\n    if (e.message == "Geolocation error: Timeout expired.") {\n      const ip = await Object(_firebase__WEBPACK_IMPORTED_MODULE_2__[/* getIp */ "b"])();\n      let lat = ip.latitude;\n      let lon = ip.longitude;\n      await updateLocation(lat, lon);\n    }\n  });\n\n  async function updateLocation(lat, lon) {\n    const result = await findAddress(lat, lon);\n    let address = result.features.length > 0 ? result.features[0].place_name : "";\n    localStorage.setItem("userLatLon", `${lat}, ${lon}`);\n    $("#searchInput").val(address);\n    let alertHtml = result.features.length > 0 ? "" : alertMessage;\n    $(".alerts").html(alertHtml);\n    locationControl.stop();\n    $("#latInputField").val(lat);\n    $("#lonInputField").val(lon);\n    north.checked = lat >= 0;\n    south.check = lat < 0;\n    east.checked = lon >= 0;\n    west.checked = lon < 0;\n    const dmsCalculated = DDtoDMS(lat, lon);\n    document.getElementById("degrees-lat").value = dmsCalculated.lat.degrees;\n    document.getElementById("minutes-lat").value = dmsCalculated.lat.minutes;\n    document.getElementById("seconds-lat").value = dmsCalculated.lat.seconds;\n    document.getElementById("degrees-lon").value = dmsCalculated.lon.degrees;\n    document.getElementById("minutes-lon").value = dmsCalculated.lon.minutes;\n    document.getElementById("seconds-lon").value = dmsCalculated.lon.seconds;\n    let dmsLat = `${dmsCalculated.lat.degrees}° ${dmsCalculated.lat.minutes}\' ${dmsCalculated.lat.degrees}\'\'`;\n    let dmsLon = `${dmsCalculated.lon.degrees}° ${dmsCalculated.lon.minutes}\' ${dmsCalculated.lon.seconds}\'\'`;\n    const data = {\n      address: result.features[0].place_name,\n      lat: lat,\n      lon: lon,\n      dms: {\n        lat: dmsLat,\n        lon: dmsLon\n      }\n    };\n    const p = Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* popupContent */ "h"])(data);\n    var popup = L.popup({\n      autoPan: true,\n      keepInView: true\n    }).setContent(p);\n    map.fitBounds([[lat, lon]], {\n      padding: [50, 50],\n      maxZoom: 13\n    });\n    marker.setLatLng([lat, lon]).bindPopup(popup).openPopup();\n  } // !! First Form form#addressForm\n\n\n  $("#addressForm").on("submit", async function (e) {\n    e.preventDefault();\n    clearAlert();\n    $("form#addressForm :submit").prop("disabled", true);\n    const submitText = "Convert";\n    const value = $(this).find("input:eq(0)").val();\n    $("#addressForm :submit").first().html(` <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>\n  ${submitText}`);\n    const fetchResponse = await convertAddress(value);\n    let lat = fetchResponse.features[0].geometry.coordinates[1];\n    let lon = fetchResponse.features[0].geometry.coordinates[0];\n    const dmsCalculated = DDtoDMS(lat, lon);\n\n    if (fetchResponse.features.length > 0) {\n      $("form#addressForm :submit").prop("disabled", false);\n      const data = {\n        address: fetchResponse.features[0].place_name,\n        lat: lat,\n        lon: lon,\n        dms: {\n          lat: dmsCalculated.popupMessage.lat,\n          lon: dmsCalculated.popupMessage.lon\n        }\n      };\n      firstFormSuccess(data, dmsCalculated);\n    } else {\n      $("form#addressForm :submit").prop("disabled", false);\n      $(".alerts").html(alertMessage);\n    }\n  });\n\n  function firstFormSuccess(data, dmsCalculated) {\n    $("#latlonForm").find("input:eq(0)").val(data.lat);\n    $("#latlonForm").find("input:eq(1)").val(data.lon);\n    $("#degrees-lat").val(dmsCalculated.lat.degrees);\n    $("#minutes-lat").val(dmsCalculated.lat.minutes);\n    $("#seconds-lat").val(dmsCalculated.lat.seconds);\n    $("#degrees-lon").val(dmsCalculated.lon.degrees);\n    $("#minutes-lon").val(dmsCalculated.lon.minutes);\n    $("#seconds-lon").val(dmsCalculated.lon.seconds);\n    const p = Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* popupContent */ "h"])(data);\n    var popup = L.popup({\n      autoPan: true,\n      keepInView: true\n    }).setContent(p);\n    map.fitBounds([[data.lat, data.lon]], {\n      padding: [50, 50],\n      maxZoom: 13\n    });\n    marker.setLatLng([data.lat, data.lon]).bindPopup(popup).openPopup();\n    $("#getRoute").html("Convert");\n  } //! ! Second Form\n\n\n  $("form#latlonForm").submit(async function (e) {\n    e.preventDefault();\n    clearAlert();\n    const submitText = "Convert";\n    $("form#latlonForm :submit").prop("disabled", true);\n    $("form#latlonForm :submit").first().html(` <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>\n    ${submitText}`);\n    const lat = $(this).find("input:eq(0)").val();\n    const lon = $(this).find("input:eq(1)").val();\n    north.checked = lat >= 0;\n    south.check = lat < 0;\n    east.checked = lon >= 0;\n    west.checked = lon < 0;\n    const dmsCalculated = DDtoDMS(lat, lon);\n    const result = await findAddress(lat, lon);\n    let address = result.features.length > 0 ? result.features[0].place_name : "";\n    $("#searchInput").val(address);\n\n    if (result.features.length > 0) {\n      const data = {\n        address: address,\n        lat: lat,\n        lon: lon,\n        dms: {\n          lat: dmsCalculated.popupMessage.lat,\n          lon: dmsCalculated.popupMessage.lon\n        }\n      };\n      $("form#latlonForm :submit").prop("disabled", false);\n      secondFormSuccess(data, dmsCalculated);\n    } else {\n      $("form#latlonForm :submit").prop("disabled", false);\n      $(".alerts").html(alertMessage);\n    }\n  });\n\n  function secondFormSuccess(data, dmsCalculated) {\n    map.fitBounds([[data.lat, data.lon]], {\n      padding: [100, 100],\n      maxZoom: 13\n    });\n    $("#degrees-lat").val(dmsCalculated.lat.degrees);\n    $("#minutes-lat").val(dmsCalculated.lat.minutes);\n    $("#seconds-lat").val(dmsCalculated.lat.seconds);\n    $("#degrees-lon").val(dmsCalculated.lon.degrees);\n    $("#minutes-lon").val(dmsCalculated.lon.minutes);\n    $("#seconds-lon").val(dmsCalculated.lon.seconds);\n    const p = Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* popupContent */ "h"])(data);\n    var popup = L.popup({\n      autoPan: true,\n      keepInView: true\n    }).setContent(p);\n    marker.setLatLng([data.lat, data.lon]).bindPopup(popup).openPopup();\n    $("#latlonForm :submit").html("Convert");\n  } //! ! Third Form\n\n\n  $("form#myDmsForm").submit(async function (e) {\n    e.preventDefault();\n    clearAlert();\n    const submitText = "Convert";\n    $("form#myDmsForm :submit").prop("disabled", true);\n    $("form#myDmsForm :submit").first().html(` <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>\n    ${submitText}`);\n    let latRadio = north.checked ? "N" : "S";\n    let lonRadio = west.checked ? "W" : "E";\n    let test = $(this).find("input:eq(2)").val();\n    console.log(test);\n    let latField = [parseFloat($(this).find("input:eq(2)").val()), parseFloat($(this).find("input:eq(3)").val()), parseFloat($(this).find("input:eq(4)").val()), latRadio];\n    let lonField = [parseFloat($(this).find("input:eq(7)").val()), parseFloat($(this).find("input:eq(8)").val()), parseFloat($(this).find("input:eq(9)").val()), lonRadio];\n    let lat = ConvertDMSToDD(latField);\n    let lon = ConvertDMSToDD(lonField); // let lon = ConvertDMStoDD(lonField)\n\n    let lonReduced = lon.toFixed(8);\n    let latReduced = lat.toFixed(8);\n    const result = await findAddress(lat, lon);\n    latlonForm.elements[0].value = latReduced;\n    latlonForm.elements[1].value = lonReduced;\n\n    if (result.features.length > 0) {\n      let address = result.features[0].place_name;\n      const data = {\n        address: address,\n        lat: lat,\n        lon: lon,\n        dms: {\n          lat: `${latField[0]}° ${latField[1]}\' ${latField[2]}`,\n          lon: `${lonField[0]}° ${lonField[1]}\' ${lonField[2]}`\n        }\n      };\n      $("form#myDmsForm :submit").prop("disabled", false);\n      $("form#myDmsForm :submit").first().html(`${submitText}`);\n      thirdFormSuccess(data);\n    } else {\n      $("form#myDmsForm :submit").prop("disabled", false);\n      $(".alerts").html(alertMessage);\n    }\n  });\n\n  function thirdFormSuccess(data) {\n    $("#searchInput").val(data.address);\n    map.fitBounds([[data.lat, data.lon]], {\n      padding: [100, 100],\n      maxZoom: 13\n    });\n    const p = Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* popupContent */ "h"])(data);\n    var popup = L.popup({\n      autoPan: true,\n      keepInView: true\n    }).setContent(p);\n    marker.setLatLng([data.lat, data.lon]).bindPopup(popup).openPopup();\n  }\n\n  $("#map").on("click", "#getAltitude", function (e) {\n    e.preventDefault();\n    Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* toggleAltitude */ "i"])(this, marker);\n  });\n  map.on("popupopen", function (e) {\n    var px = map.project(e.target._popup._latlng); // find the pixel location on the map where the popup anchor is\n\n    px.y -= e.target._popup._container.clientHeight / 2; // find the height of the popup container, divide by 2, subtract from the Y axis of marker location\n\n    map.panTo(map.unproject(px), {\n      animate: true\n    });\n    $(".leaflet-top.leaflet-left").css("opacity", "0"); // TODO update\n  });\n  map.on("popupclose", function (e) {\n    // TODO update\n    $(".leaflet-top.leaflet-left").css("opacity", "1");\n  });\n\n  function clearAlert() {\n    let alerts = document.querySelector(".alerts");\n\n    if (alerts.innerText.length > 1) {\n      alerts.innerText = "";\n    } else {\n      return;\n    }\n  }\n\n  var bookmarkModal = new bootstrap_dist_js_bootstrap_esm_min_js__WEBPACK_IMPORTED_MODULE_3__[/* Modal */ "b"](document.getElementById("bookmarkModal"), {\n    keyboard: false\n  });\n  var bookmarkToggle = document.getElementById("bookmarkModal"); // relatedTarget\n\n  $("#bookmarkForm").on("submit", function (e) {\n    e.preventDefault();\n    let input = $(this).find("input:eq(0)");\n    console.log(e.target);\n    let locationData = JSON.parse(localStorage.getItem("location-data"));\n    locationData.name = input[0].value;\n    localStorage.setItem("location-data", JSON.stringify(locationData));\n    Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* addBookmark */ "a"])("location-data");\n    bookmarkModal.hide(bookmarkToggle);\n    $(this).find("input:eq(0)").val("");\n    let p = Object(utils_geocoder__WEBPACK_IMPORTED_MODULE_1__[/* popupContent */ "h"])(locationData);\n    marker.setPopupContent(p);\n  });\n});\n\n//# sourceURL=webpack:///./src/js/newConverter.js?')},5:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return generateUID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return clearForm; });\n/* unused harmony export altitudeLoading */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return popupContent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return addBookmark; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return getLatLon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return getAddress; });\n/* unused harmony export toggleBookmark */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return toggleAltitude; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return getMatrix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return getGeojson; });\n/* unused harmony export closePopup */\n/* harmony import */ var firebase_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);\n/* harmony import */ var bootstrap_dist_js_bootstrap_esm_min_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);\n\n\n\n\nDate.prototype.toShortFormat = function () {\n  let monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];\n  let day = this.getDate();\n  let monthIndex = this.getMonth();\n  let monthName = monthNames[monthIndex];\n  let year = this.getFullYear();\n  return `${monthName} ${year}`;\n};\n\nlet today = new Date();\nconst prettyDate = today.toShortFormat();\nfunction generateUID() {\n  const uid = Object(uuid__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"])();\n  return uid;\n}\nconst functions = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_0__[/* getFunctions */ "b"])();\nfunction clearForm(form) {\n  var inputs = form.elements;\n  let i;\n\n  for (i = 0; i < inputs.length; i++) {\n    if (inputs[i].nodeName === "INPUT") {\n      // Update text input\n      inputs[i].value = "";\n    }\n  }\n}\nfunction altitudeLoading() {\n  let data = ` <div class="  altitude mx-auto">\n  <button class="btn btn-outline-primary border-0 text-center my-auto" type="button" disabled="">\n  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n</button>\n</div>\n<div class=" border ms-auto">\n  <button type="button" class="btn btn-outline-primary  btn-sm text-right   bookmark-btn" data-bs-toggle="button" autocomplete="off">Bookmark <i class="far fa-bookmark"></i></button>\n</div>`;\n  return data;\n}\nfunction popupContent(input) {\n  const uid = generateUID();\n\n  function createElement(field, className) {\n    let output = `<li class="list-group-item border-0 pt-2 px-1 border-bottom location-name ${className}"> ${field}</li>`;\n    return output;\n  }\n\n  let altitude = input.altitude ? input.altitude : null;\n  let weatherData = input.weather ? input.weather : null;\n  let address = input.address ? input.address : null;\n  let name = input.name ? input.name : null;\n  let id = input.uid ? input.uid : uid;\n  let storedData = {\n    name: name,\n    address: address,\n    lat: input.lat,\n    lon: input.lon,\n    dms: {\n      lat: input.dms.lat,\n      lon: input.dms.lon\n    },\n    weather: weatherData,\n    path: window.location.pathname,\n    uid: id,\n    date: prettyDate,\n    altitude: altitude\n  };\n  let nameElm = input.name ? createElement(input.name.charAt(0).toUpperCase() + input.name.slice(1), "bookmark-name fs-6") : "";\n  localStorage.setItem("location-data", JSON.stringify(storedData));\n\n  if (input.origin || input.destination) {\n    saveOriginDestination(input);\n  }\n\n  let addressElm = input.address ? createElement(input.address, "address fs-6") : "";\n  let distance = input.distance ? createElement(input.distance, "distance fs-6") : "";\n  let origin = input.origin ? "origin" : "";\n  let originTitle = input.origin ? createElement("Origin", "origin-title fs-6") : "";\n  let destination = input.destination ? "destination" : "";\n  let destinationTitle = input.destination ? createElement("Destination", "destination-title fs-6") : "";\n  let weather = input.weather ? `    <li class="list-group-item border-0 px-1 fs-6 py-0">\n    <div class="hstack gap-3">\n<div class = "weather" > ${input.weather.currentWeather}</div>\n<div class=""><span> <img style="max-width: 50px" src="http://openweathermap.org/img/wn/${input.weather.imgIcon}@2x.png" class="img-fluid rounded-start" alt="..."></span></div>\n<div class="temp">${input.weather.temp}°F</div>\n</div></li>` : "";\n  let bookmarked = input.name ? `<button type="button" class="badge bg-primary border border-primary text-white btn-sm text-right   ${origin} ${destination}" data-bs-toggle="button" autocomplete="off" disabled>Bookmark <i class="fas fa-bookmark"></i></button>` : `<button type="button" class="${origin} ${destination} badge bg-transparent border border-primary text-primary btn-sm text-right   bookmark-btn" data-bs-toggle="modal" data-bs-target="#bookmarkModal" data-bs-uid="${uid}">Bookmark <i class="far fa-bookmark"></i></button>`;\n  let altitudeElm = altitude ? `<strong class="${origin}${destination}">${altitude}</strong>` : `<button class="badge bg-primary border-white  getAltitude ${origin}${destination}  getAltitude" id="getAltitude" type="button" >\nGet Altitude\n</button>`;\n  const data = `  <div id = "popupContent" class="row popupContent position-relative">\n  <div class="col p-0 popup-content">\n\n    <div class="card-body px-3 pt-2 pb-1">\n      <ul class="list-group border-0">\n      ${destinationTitle} ${originTitle} ${nameElm} ${weather} ${addressElm}\n        <li class="list-group-item border-0 px-1 pb-1 fs-6 pt-2">  Latitude: <span\n              class="lat">${input.lat} </span></li>\n        <li class="list-group-item border-0 px-1 fs-6 py-0">\n         Longitude:\n               <span class="lon">${input.lon}</span></li>\n        <li class="list-group-item border-0 px-1 fs-6 pt-0 pb-1 dms"> ${input.dms.lat} ${input.dms.lon}</li>\n        ${distance}\n        <li class="list-group-item border-0 px-1 pt-1 fs-6 py-0 pb-1  border-top">\n          <div class="hstack">\n            <div class="  altitude me-auto">\n        ${altitudeElm}\n            </div>\n            <div class=" border ms-auto">\n             ${bookmarked}\n            </div>\n        </li>\n      </ul>\n    </div>\n\n  </div>\n\n</div> `;\n  return data;\n}\nlet toast = `\n\n\n<div class="col p-0 popup-bookmark" style="padding-top: 2rem;">\n\n<div class="card-body ps-4 pe-4 pt-4 pb-3">\n  <ul class="list-group border-0" style="justify-content: end;">\n<li class=" invisible list-group-item border-0 px-1 pt-1 fs-6 py-0 pb-1  border-top" style="padding-right: 0 !important;">\n      <div class="hstack">\n\n        <div class=" border ms-auto">\n          <button type="button" class="badge bg-transparent border border-secondary text-secondary btn-sm text-right   bookmark-btn" data-bs-toggle="button" autocomplete="off">Cancel</button>\n        </div>\n    </div></li>\n    <form class="bookmark-form" role="form">\n\n    <div class="input-group ms-auto " style="margin-left: auto !important;">\n    <input type="text" class="form-control bookmark-input" placeholder="Boomark Name" aria-label="Recipient\'s\n      username" aria-describedby="add-bookmark-btn" required>\n    <button class="btn btn-outline-secondary" type="submit" id="add-bookmark-btn">+</button>\n  </div>\n    </form>\n\n\n    <li class=" invisible list-group-item border-0 px-1 pt-1 fs-6 py-0 pb-1  border-top" style="padding-right: 0 !important;">\n      <div class="hstack">\n\n        <div class=" border ms-auto">\n          <button type="button" class="badge bg-transparent border border-secondary text-secondary btn-sm text-right   bookmark-btn" data-bs-toggle="button" autocomplete="off">Cancel</button>\n        </div>\n    </div></li>\n  </ul>\n</div>\n</div>\n\n\n`;\n\nfunction saveOriginDestination(input) {\n  const uid = generateUID();\n  const address = input.address ? input.address : null;\n  const name = input.name ? input.name : null;\n  const altitude = input.altitude ? input.altitude : null;\n\n  if (input.origin) {\n    let originData = {\n      address: address,\n      name: name,\n      lat: input.lat,\n      lon: input.lon,\n      dms: {\n        lat: input.dms.lat,\n        lon: input.dms.lon\n      },\n      origin: true,\n      uid: uid,\n      date: prettyDate,\n      path: window.location.pathname,\n      altitude: altitude\n    };\n    localStorage.setItem("origin-data", JSON.stringify(originData));\n  } else if (input.destination) {\n    let destinationData = {\n      address: address,\n      name: name,\n      lat: input.lat,\n      lon: input.lon,\n      dms: {\n        lat: input.dms.lat,\n        lon: input.dms.lon\n      },\n      destination: true,\n      uid: uid,\n      date: prettyDate,\n      path: window.location.pathname,\n      altitude: altitude\n    };\n    localStorage.setItem("destination-data", JSON.stringify(destinationData));\n  }\n}\n\nfunction addBookmark(entryKey) {\n  let allEntries = "bookmarks"; // Parse any JSON previously stored in allEntries\n\n  var existingEntries = JSON.parse(localStorage.getItem(allEntries));\n  if (existingEntries == null) existingEntries = [];\n  const entry = JSON.parse(localStorage.getItem(entryKey));\n  entry.bookmarked = true; // Save allEntries back to local storage\n\n  existingEntries.push(entry);\n  localStorage.setItem(allEntries, JSON.stringify(existingEntries));\n}\nasync function getLatLon(city) {\n  const getLatLonData = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_0__[/* httpsCallable */ "c"])(functions, "getLatLon");\n  return getLatLonData({\n    city: city\n  }).then(function (result) {\n    let data = JSON.stringify(result);\n    return result;\n  }).catch(function (error) {\n    // Getting the Error details.\n    let code = error.code;\n    let message = error.message;\n    let details = error.details;\n    console.error("There was an error when calling the Cloud Function", error);\n    window.alert("There was an error when calling the Cloud Function:\\n\\nError Code: " + code + "\\nError Message:" + message + "\\nError Details:" + details);\n  });\n}\nasync function getAddress(lat, lon) {\n  const getLatLonData = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_0__[/* httpsCallable */ "c"])(functions, "getAddress");\n  return getLatLonData({\n    lat: lat,\n    lon: lon\n  }).then(function (result) {\n    return result;\n  }).catch(function (error) {\n    // Getting the Error details.\n    let code = error.code;\n    let message = error.message;\n    let details = error.details;\n    console.error("There was an error when calling the Cloud Function", error);\n    window.alert("There was an error when calling the Cloud Function:\\n\\nError Code: " + code + "\\nError Message:" + message + "\\nError Details:" + details);\n  });\n}\n\nasync function getElevation(lat, lon) {\n  const getElevationData = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_0__[/* httpsCallable */ "c"])(functions, "getElevation");\n  return getElevationData({\n    lat: lat,\n    lon: lon\n  }).then(function (result) {\n    return result;\n  }).catch(function (error) {\n    // Getting the Error details.\n    let code = error.code;\n    let message = error.message;\n    let details = error.details;\n    console.error("There was an error when calling the Cloud Function", error);\n    window.alert("There was an error when calling the Cloud Function:\\n\\nError Code: " + code + "\\nError Message:" + message + "\\nError Details:" + details);\n  });\n}\n\nasync function getAltitude(lon, lat) {\n  // Construct the API request\n  const elvevationResponse = await getElevation(lat, lon);\n  const data = elvevationResponse.data; // Display the longitude and latitude values\n  // Get all the returned features\n\n  const allFeatures = data.features; // For each returned feature, add elevation data to the elevations array\n\n  const elevations = allFeatures.map(feature => feature.properties.ele); // In the elevations array, find the largest value\n\n  const highestElevation = Math.max(...elevations);\n  setTimeout(() => {\n    $(".altitude").removeClass("mx-auto").addClass("me-auto");\n    $(".altitude").html(`<strong>${highestElevation} meters</strong>  `);\n  }, 500);\n}\n\nfunction toggleBookmark(item, marker) {\n  $(item).prop("disabled", true);\n  $(item).removeClass("bg-transparent text-primary").addClass("bg-primary text-white");\n  $(item).children().last().removeClass("far").addClass("fas");\n  $(item).text("Bookmarked");\n  let locationData = JSON.parse(localStorage.getItem("location-data"));\n  let newPopupContent = $(item).parents("div.popupContent").parent().html(); //marker.setPopupContent(newPopupContent);\n\n  $(item).parents("div.popupContent").html(toast);\n}\nasync function toggleAltitude(item, marker) {\n  let width = $(item).width();\n  let hstack = $(item).parent().parent();\n  $(hstack).children().first().removeClass("me-auto").addClass("mx-auto");\n  $(hstack).children().first().html(`\n   <button class="btn btn-outline-primary border-0 text-center mx-auto" type="button" disabled style = "width:${width}px !important">\n   <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n </button>\n `);\n  let coords = marker.getLatLng();\n  const elvevationResponse = await getElevation(coords.lat, coords.lng);\n  const data = elvevationResponse.data; // Display the longitude and latitude values\n  // Get all the returned features\n\n  const allFeatures = data.features; // For each returned feature, add elevation data to the elevations array\n\n  const elevations = allFeatures.map(feature => feature.properties.ele); // In the elevations array, find the largest value\n\n  const highestElevation = Math.max(...elevations);\n  setTimeout(() => {\n    $(".altitude").removeClass("mx-auto").addClass("me-auto");\n    $(".altitude").html(`<strong>${highestElevation} meters</strong>  `);\n    let locationData = JSON.parse(localStorage.getItem("location-data"));\n    let len = locationData;\n    let last = locationData[len - 1];\n    locationData.altitude = `${highestElevation} meters`;\n    let bookmarks = JSON.parse(localStorage.getItem("bookmarks"));\n    localStorage.setItem("location-data", JSON.stringify(locationData));\n\n    if (bookmarks) {\n      const contains = (arr, criteria) => arr.some(v => criteria(v));\n\n      const bookmarkCheck = contains(bookmarks, v => v.uid == locationData.uid);\n\n      if (bookmarkCheck) {\n        const lastIndex = (arr, predicate) => arr.map(item => predicate(item)).lastIndexOf(true);\n\n        let r = lastIndex(bookmarks, i => i.uid == locationData.uid);\n        bookmarks[r].altitude = `${highestElevation} meters`;\n        localStorage.setItem("bookmarks", JSON.stringify(bookmarks));\n      }\n    }\n\n    let newPopupContent = $(item).parents("div.popupContent").parent().html();\n    marker.setPopupContent(newPopupContent);\n  }, 500);\n}\nasync function getMatrix(first, second) {\n  const getMatrixData = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_0__[/* httpsCallable */ "c"])(functions, "getMatrix");\n  return getMatrixData({\n    first: first,\n    second: second\n  }).then(function (result) {\n    return result;\n  }).catch(function (error) {\n    // Getting the Error details.\n    let code = error.code;\n    let message = error.message;\n    let details = error.details;\n    console.error("There was an error when calling the Cloud Function", error);\n    window.alert("There was an error when calling the Cloud Function:\\n\\nError Code: " + code + "\\nError Message:" + message + "\\nError Details:" + details);\n  });\n}\nfunction getGeojson(first, second) {\n  const blank = {\n    lat: 0,\n    lon: 0,\n    title: ""\n  };\n  const destination = second || blank;\n  const geojson = {\n    type: "FeatureCollection",\n    features: [{\n      type: "Feature",\n      geometry: {\n        type: "Point",\n        coordinates: [first.lon, first.lat]\n      },\n      properties: {\n        title: "Origin",\n        description: first.title,\n        "marker-color": "#35A2D1",\n        "marker-size": "large",\n        "marker-symbol": "1"\n      }\n    }, {\n      type: "Feature",\n      geometry: {\n        type: "Point",\n        coordinates: [destination.lon, destination.lat]\n      },\n      properties: {\n        title: "Destination",\n        description: destination.title,\n        "marker-color": "#fc4353",\n        "marker-size": "large",\n        "marker-symbol": "2"\n      }\n    }]\n  };\n  return geojson;\n}\n/*\n\n, toggleBookmark,\n  toggleAltitude\n} from "utils/geocoder";\n\n\n\n\n\n */\n\nfunction closePopup(marker) {\n  const popupCheck = marker.isPopupOpen();\n\n  if (popupCheck) {\n    marker.closePopup();\n  }\n}\n/* unused harmony default export */ var _unused_webpack_default_export = ({\n  getLatLon,\n  getAddress,\n  getAltitude,\n  getMatrix,\n  getGeojson,\n  generateUID,\n  addBookmark,\n  altitudeLoading,\n  toggleBookmark,\n  toggleAltitude,\n  closePopup\n});\n\n//# sourceURL=webpack:///./src/js/utils/geocoder.js?')},6:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return toggleModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getDate; });\n/* harmony import */ var bootstrap_dist_js_bootstrap_esm_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n\nlet filterCommentSuccess = new bootstrap_dist_js_bootstrap_esm_min_js__WEBPACK_IMPORTED_MODULE_0__[/* Modal */ \"b\"](document.getElementById('filterCommentSuccess'), {\n  keyboard: false\n});\nlet filterCommentFail = new bootstrap_dist_js_bootstrap_esm_min_js__WEBPACK_IMPORTED_MODULE_0__[/* Modal */ \"b\"](document.getElementById('filterCommentFail'), {\n  keyboard: false\n});\nfunction toggleModal(id) {\n  const modal = id == \"success\" ? filterCommentSuccess.toggle() : filterCommentFail.toggle();\n  return modal;\n}\n\nDate.prototype.toShortFormat = function () {\n  let monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  let day = this.getDate();\n  let monthIndex = this.getMonth();\n  let monthName = monthNames[monthIndex];\n  let year = this.getFullYear();\n  return `${monthName} ${year}`;\n};\n\nfunction getDate() {\n  let today = new Date();\n  const prettyDate = today.toShortFormat();\n  return prettyDate;\n}\n/* unused harmony default export */ var _unused_webpack_default_export = ({\n  getDate,\n  toggleModal\n});\n\n//# sourceURL=webpack:///./src/js/utils/helpers.js?")},8:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export popupContent */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return commentReply; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return comment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return replyForm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return extractReplies; });\nfunction popupContent(data) {\n  let result = `  <div class="row">\n\n            <div class="col">\n\n\n     <div class="modal-content rounded-6 shadow">\n\n      <div class="modal-body py-3">\n\n\n        <p>This is a modal sheet, a variation of the modal that docs itself to the bottom of the viewport like the newer share sheets in iOS.</p>\n      </div>\n      <div class="modal-footer flex-column border-top-0">\n\n   <button type="button" id="getAltitude"class="btn btn-primary">Get Altitude</button>\n\n\n  <button type="button" class="btn  bookmark-btn  btn-light text-primary border-primary"> Bookmark <i class="far fa-bookmark"></i></button>\n\n\n\n\n      </div>\n    </div>\n            </div>\n        </div>`;\n  return result;\n}\nfunction commentReply(name, id, date, message) {\n  let data = `  <div class="col-md-11 p-3 mb-3" id=${id} >\n       <div class="row ">\n       <div class="col-lg-12 border-start">\n          <div class="d-flex justify-content-between align-items-center border-bottom pb-2">\n         <h6 class="fw-bold text-primary mb-1 ">${name}</h6>\n         <p class="text-muted small m-0">\n          ${date}\n         </p>\n         </div>\n         <p class="mt-3 mb-0 pb-2">\n         ${message}\n         </p>\n       </div>\n       </div>\n         </div>`;\n  return data;\n}\nfunction comment(id, name, date, message, likes, dislikes) {\n  let data = `\n   <div class="col-md-12 col-lg-12 col-xl-12">\n     <div class="card border-0 " id=${id} style="background-color: transparent">\n       <div class="card-body">\n         <div class="d-flex justify-content-between align-items-center border-bottom pb-2">\n           <h6 class="fw-bold text-primary mb-1 ">${name}</h6>\n           <p class="text-muted m-0">\n             ${date}\n           </p>\n         </div>\n         <p class="mt-3 mb-0 pb-2">\n           ${message}\n         </p>\n\n         <div class=" d-flex justify-content-start">\n           <button  id="thumbs-up" role="button" class="d-flex align-items-center me-3 btn btn-link  border-0" style="background-color: transparent !important; padding-left: 0 !important; margin-right: 0.25rem  !important">\n             <i class="far fa-thumbs-up me-2"></i> <span id="count">${likes}</span>\n           </button>\n             <button  id="thumbs-down" role="button" class="d-flex align-items-center me-3 btn btn-link  border-0" style="background-color: transparent !important; padding-left: 0 !important; margin-right: 0.25rem  !important">\n             <i class="far fa-thumbs-down me-2"></i> <span id="count">${dislikes}</span>\n           </button>\n           <button id= "reply-btn" class="d-flex align-items-center me-3 reply-btn btn btn-link  border-0" style="background-color: transparent !important; padding-left: 0 !important; margin-right: 0.25rem  !important">\n             <i class="far fa-comment-dots me-2"></i>\n             <p class="m-0">Reply</p>\n           </button>\n\n         </div>\n       </div>\n       <div class="card-footer py-3 border-0  row " style="background-color: transparent !important">\n         <div class="other-comments">\n\n         </div>\n       </div>\n     </div>\n   </div>`;\n  return data;\n}\nfunction replyForm(user) {\n  let userField = user && user.isAnonymous ? ` <div class="mb-3">\n        <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="replyName" placeholder="Name (Optional)">\n      </div>` : "";\n  let data = `<form class="reply-form">\n <div class="d-flex flex-start w-100 ">\n     <div class="col-md-11 p-3 mb-3">\n    <div class="form-outline w-100">\n${userField}\n      <textarea class="form-control" id="textAreaExample" rows="4" style="background: #fff;" placeholder="Write a comment."></textarea>\n\n    </div>\n\n    <button type="submit" id="reply-btn" class="btn btn-primary btn-sm mt-3">Send <i class="far fa-paper-plane"></i></button>\n   </div>\n\n    </div>\n\n\n</form>`;\n  return data;\n}\nfunction extractReplies(replies) {\n  let response = [];\n  const map = new Map(Object.entries(replies));\n\n  for (const [key, value] of map.entries()) {\n    let newObject = {\n      id: key,\n      name: value.name,\n      message: value.message,\n      date: value.date,\n      recipient: value.recipient\n    };\n    response.push(newObject);\n  }\n\n  return response;\n}\n/* unused harmony default export */ var _unused_webpack_default_export = ({\n  comment,\n  commentReply,\n  extractReplies\n});\n\n//# sourceURL=webpack:///./src/js/utils/comments.js?')}});