<!DOCTYPE html>
<html lang="en" dir="ltr">
    <%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>
    <body class="film-location film-details">
        <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
<![endif]-->
        <noscript>
            <h3>Please enable JavaScript in order to view this site properly.</h3>
        </noscript>
        <%- include(`${partials}/nav`); -%>
        <main class="mb-4 mt-5">
            <div class="container px-4 px-lg-5">
                <%- include(`${partials}/autocomplete`); -%>
                <div class="row align-items-md-stretch">
                    <div class="col-md-12">
                        <div class="card mb-3" id="film-details">
                            <div class="row g-0">
                                <div class="col-md-8 px-3 py-3">
                                    <div class="card-body">
                                        <h3 class="card-title">The Pianist</h3>
                                        <p class="card-text mb-0">
                                            <span id="mainPlotContent"> A Polish Jewish musician struggles to survive the destruction of the Warsaw ghetto of World War II. In this adaptation of the autobiography  The Pianist: The Extraordinary True Story of One Man's Survival in Warsaw, 1939-1945,  Wladyslaw Szpilman, a Polish Jewish radio station pianist, sees Warsaw change gradually as World War II begins. Szpilman is forced into the Warsaw Ghetto, but is later separated from his family during Operation Reinhard. From this time until the concentration camp prisoners are released, Szpilman hides in various locations among the ruins of Warsaw. Jwelch5742 Filmmaker Roman Polanski, who as a boy growing up in Poland watched while the Nazis devastated his country during World War II, directed this downbeat drama ba... </span>
                                                
                                                    <div class="collapse" id="movieLocationCollapsible">
                                                        <span id="metaPlotContent"class="additional-information"> sed on the story of a privileged musician who spent five years struggling against the Nazi occupation of Warsaw. Wladyslaw Szpilman (Adrien Brody) is a gifted classical pianist born to a wealthy Jewish family in Poland. The Szpilmans have a large and comfortable flat in Warsaw which Wladyslaw shares with his mother and father (Maureen Lipman and Frank Finlay), his sisters Halina and Regina (Jessica Kate Meyer and Julia Rayner), and his brother, Henryk (Ed Stoppard). While Wladyslaw and his family are aware of the looming presence of German forces and Hitler's designs on Poland, they're convinced that the Nazis are a menace which will pass, and that England and France will step forward to aid Poland in the event of a real crisis. Wladyslaw's naivete is shattered when a German bomb rips through a radio studio while he performs a recital for broadcast. During the early stages of the Nazi occupation, as a respected artist, he still imagines himself above the danger, using his pull to obtain employment papers for his father and landing a supposedly safe job playing piano in a restaurant. But as the German grip tightens upon Poland, Wladyslaw and his family are selected for deportation to a Nazi concentration camp. Refusing to face a certain death, Wladyslaw goes into hiding in a comfortable apartment provided by a friend. However, when his benefactor goes missing, Wladyslaw is left to fend for himself and he spends the next several years dashing from one abandoned home to another, desperate to avoid capture by German occupation troops. A Jewish pianist named Wladislaw Szpilman was playing the piano on the radio station when an explosion occurred outside. It was the beginning of German Nazi occupation in Polland. When he returned home, his family was arguing over how they could keep the rest of their money so the German's couldn't see it. When they looked out the window, they saw their area was fenced. Since then, their life has become in a difficult situation. The German's deported his family and forcibly took on train way to concentration camp. Szpilman was left behind in the Warsaw Ghetto and struggled alone for survival. judytrinidad A brilliant pianist, a Polish Jew, witnesses the restrictions Germans place on Jews in the Polish capital, from restricted access to the building of the Warsaw ghetto. As his family is rounded up to be shipped off to the German Nazi labor camps, he escapes deportation and eludes capture by living in the ruins of Warsaw. Anonymous The true story of Wladyslaw Szpilman who, in the 1930s, was known as the most accomplished piano player in all of Poland, if not Europe. At the outbreak of the Second World War, however, Szpilman becomes subject to the anti-Jewish laws imposed by the conquering Germans. By the start of the 1940s, Szpilman has seen his world go from piano concert halls to the Jewish Ghetto of Warsaw and then must suffer the tragedy of his family deported to a German concentration camps, while Szpilman is conscripted into a forced German Labor Compound. At last deciding to escape, Szpilman goes into hiding as a Jewish refugee where he is witness to the Warsaw Ghetto Uprising (April 19, 1943 - May 16, 1943) and the Warsaw Uprising (1 August to 2 October 1944) Anthony Hughes  </span>
                                                    </div>
                                                    <p>
                                                        <a class="btn btn-link show-more-less collapsed"
                                                           id="myCollapsibleBtn"
                                                           role="button"></a>
                                                    </p>
                                                
                                            </p>
                                    </div>
                                </div>
                                <div class="col-md-4 justify-self-end">
                                        <img src="https://m.media-amazon.com/images/M/MV5BOWRiZDIxZjktMTA1NC00MDQ2LWEzMjUtMTliZmY3NjQ3ODJiXkEyXkFqcGdeQXVyNjU0OTQ0OTY@.jpg"
                                             class="img-fluid rounded-start"
                                             alt="The Pianist"/>
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="map-container">
                        <div id="map"></div>
                        <div id="loader">
                            <div class="spinner-border" role="status">
                                <span class="sr-only d-none">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table">
                    <tr class="table__header">
                        <th class="table__cell">Location</th>
                        <th class="table__cell">Coordiantes</th>
                    </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Instalatorów, 02-237 Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.1990712</span>, <span class="lon">20.9540464</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Krakowskie Przedmieście, 00-325 Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.2422587</span>, <span class="lon">21.0156274</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Ząbkowska, Targowa 45, Warsaw, Masovian Voivodeship 03-733, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.2518735</span>, <span class="lon">21.0382635</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Beelitz, Brandenburg, Germany</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.236358</span>, <span class="lon">12.970004</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Kozia, 05-075 Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.2422355</span>, <span class="lon">21.2288247</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.21667</span>, <span class="lon">21.03333</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">TVN, Wiertnicza 166, Warsaw, Masovian Voivodeship 02-981, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.179715</span>, <span class="lon">21.073216</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Stalowa, 03-425 Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.261284175</span>, <span class="lon">21.0425981820251</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.21667</span>, <span class="lon">21.03333</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Kobyłka, Kobyłka, Masovian Voivodeship 05-230, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.3361935</span>, <span class="lon">21.2142455</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.21667</span>, <span class="lon">21.03333</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.21667</span>, <span class="lon">21.03333</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Babelsberg Nord, Potsdam, Brandenburg, Germany</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.396806</span>, <span class="lon">13.102277</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Jüterbog, Brandenburg, Germany</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">51.991649</span>, <span class="lon">13.080113</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Konopacka, 03-428 Warsaw, Masovian Voivodeship, Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.259560175</span>, <span class="lon">21.0382973768159</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Potsdam, Brandenburg, Germany</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.400931</span>, <span class="lon">13.05914</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Poland</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.1246099075455</span>, <span class="lon">19.30063630556</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Studio Babelsberg, August-Bebel-Str. 26-53, Potsdam, Brandenburg 14482, Germany</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.387806</span>, <span class="lon">13.120573</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Germany</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">51.1334813439932</span>, <span class="lon">10.0183432948567</span></a>
                            </td>
                        </tr>
                    </table>
            </div>
        </main>
        <%- include(`${partials}/footer`); -%> <%- include(`${partials}/page-scripts/movie-location-scripts`); -%>
        <script type="text/javascript">
var locations =[{"bbox": [[52.179715, 21.073216], [52.1990712, 20.9540464], [52.21667, 21.03333]], "data": [{"lat": 52.1990712, "lon": 20.9540464, "name": "Instalator\u00f3w, 02-237 Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.2422587, "lon": 21.0156274, "name": "Krakowskie Przedmie\u015bcie, 00-325 Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.2518735, "lon": 21.0382635, "name": "Z\u0105bkowska, Targowa 45, Warsaw, Masovian Voivodeship 03-733, Poland"}, {"lat": 52.236358, "lon": 12.970004, "name": "Beelitz, Brandenburg, Germany"}, {"lat": 52.2422355, "lon": 21.2288247, "name": "Kozia, 05-075 Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.21667, "lon": 21.03333, "name": "Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.179715, "lon": 21.073216, "name": "TVN, Wiertnicza 166, Warsaw, Masovian Voivodeship 02-981, Poland"}, {"lat": 52.261284175, "lon": 21.0425981820251, "name": "Stalowa, 03-425 Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.21667, "lon": 21.03333, "name": "Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.3361935, "lon": 21.2142455, "name": "Koby\u0142ka, Koby\u0142ka, Masovian Voivodeship 05-230, Poland"}, {"lat": 52.21667, "lon": 21.03333, "name": "Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.21667, "lon": 21.03333, "name": "Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.396806, "lon": 13.102277, "name": "Babelsberg Nord, Potsdam, Brandenburg, Germany"}, {"lat": 51.991649, "lon": 13.080113, "name": "J\u00fcterbog, Brandenburg, Germany"}, {"lat": 52.259560175, "lon": 21.0382973768159, "name": "Konopacka, 03-428 Warsaw, Masovian Voivodeship, Poland"}, {"lat": 52.400931, "lon": 13.05914, "name": "Potsdam, Brandenburg, Germany"}, {"lat": 52.1246099075455, "lon": 19.30063630556, "name": "Poland"}, {"lat": 52.387806, "lon": 13.120573, "name": "Studio Babelsberg, August-Bebel-Str. 26-53, Potsdam, Brandenburg 14482, Germany"}, {"lat": 51.1334813439932, "lon": 10.0183432948567, "name": "Germany"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                          
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
else if (!locations[0].bbox){

  console.log('no box')
  console.log(locations[0].data[0].lat)
  let lat = locations[0].data[0].lat
  let lon = locations[0].data[0].lon
map.setView([lat, lon], 20);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
        </script>
    </body>
</html>