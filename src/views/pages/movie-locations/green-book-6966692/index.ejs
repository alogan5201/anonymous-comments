<!DOCTYPE html>
<html lang="en" dir="ltr">
    <%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>
    <body class="film-location film-details">
        <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
<![endif]-->
        <noscript>
            <h3>Please enable JavaScript in order to view this site properly.</h3>
        </noscript>
        <%- include(`${partials}/nav`); -%>
        <main class="mb-4 mt-5">
            <div class="container px-4 px-lg-5">
                     <%- include(`${partials}/autocomplete`); -%>
                <div class="row align-items-md-stretch">
                    <div class="col-md-12">
                        <div class="card mb-3" id="film-details">
                            <div class="row g-0">
                                <div class="col-md-8 px-3 py-3">
                                    <div class="card-body">
                                        <h3 class="card-title">Green Book</h3>
                                        <p class="card-text mb-0">
                                            <span id="mainPlotContent">A working-class Italian-American bouncer becomes the driver of an African-American classical pianist on a tour of venues through the 1960s American South. In 1962, Tony  Tony Lip  Vallelonga, a tough bouncer, is looking for work when his nightclub is closed for renovations. The most promising offer turns out to be the driver for the African-American classical pianist Don Shirley for a concert tour into the Deep South states. Although hardly enthused at working for a black man, Tony accepts the job and they begin their trek armed with The Negro Motorist Green Book, a travel guide for safe travel through America's racial segregation. Together, the snobbishly erudite pianist and the crudely practical bouncer can barely get along with their cla...</span>
                                                
                                                    <div class="collapse" id="movieLocationCollapsible">
                                                        <div id = "module"></div>
                                                        <span id="metaPlotContent"class="additional-information">shing attitudes to life and ideals. However, as the disparate pair witness and endure America's appalling injustices on the road, they find a newfound respect for each other's talents and start to face them together. In doing so, they would nurture a friendship and understanding that would change both their lives. Kenneth Chisholm (kchishol@rogers.com) New York City bouncer Frank  Tony Lip  Vallelonga is searching for new employment after his nightclub is closed for renovations, eventually landing an interview as a driver for  Doc  Don Shirley, a famed pianist. Their first encounter does not go well, as Tony's flippant, uncultured behavior clashes with Don's sophisticated, reserved demeanor. However, Don eventually hires Tony on the strength of others' word, as he needs someone who can help him stay out of trouble during an eight-week concert tour through the Deep South. They embark with plans to return home on Christmas Eve. Tony is given a copy of the Green Book by Don's record studio: a guide for black travelers to find safe havens throughout the segregated South. They begin the tour in the Midwest before eventually heading further south. Tony and Don clash over their differences, as Tony feels uncomfortable being asked to act properly, while Don is disgusted by Tony's habits. Regardless, Tony finds himself impressed with Don's talent on the piano, and increasingly disgusted by the discriminatory treatment the latter receives by the hosts when he is not on stage. After a bar incident leads to a group of white men threatening Don's life, Tony rescues him by threatening to pull a gun on them. He instructs Don not to go out without him for the rest of the tour. Dr Don Shirley is a world-class African-American pianist, who is about to embark on a concert tour in the Deep South in 1962. In need of a driver and protection, Shirley recruits Tony Lip, a tough-talking bouncer from an Italian-American neighbourhood in the Bronx. Despite their differences, the two men soon develop an unexpected bond while confronting racism and danger in an era of segregation. Jwelch5742 In early-1960s openly and legally segregated America, two polar opposites--the distinguished and refined African-American classical pianist, Don Shirley, and the uncultivated Italian-American nightclub bouncer, Tony Vallelonga--are about to form an unlikely friendship. With New York's Copacabana Club being renovated, Don and his new problem-solver chauffeur embark on a lengthy two-month concert tour through the hostile Deep South, equipped only with a subtly tremendous talent, a serenely resilient dignity, and a little vert guide book for visitors--The Negro Motorist Green-Book. Before endless kilometres of unfriendly territory, a single man chooses the hard way for the sake of progress; however, can one person make a difference? Nick Riganas October, 1962. Italian-American Bronx native Tony Vallelonga - long called Tony Lip by those that know him for being able to BS his way out of anything - largely uses that ability to BS, his street smarts and his fists to do his job in  customer relations  (i.e. a glorified bouncer) at the Copa, where he has to deal with well dressed toughs and thugs, albeit with a smile and often without they knowing that he is screwing them. Like most of his Italian-American friends and family, he is a working class bigot, as demonstrated by his actions concerning some black laborers who did work in his and his wife Dolores' apartment. With the Copa closed for renovations until the new year, Tony has to find another job in the interim, he, without telling Dolores, pawning some of his valuables in the meantime to put food on their and their two adolescent sons' table. When he is given the inside scoop on a job working for Dr. Don Shirley, he only did not know before meeting Dr. Shirley that the Dr. refers to his multiple Ph.D.s, and that he is a classically trained pianist (the head of the popular music playing Don Shirley Trio) instead of a physician, but arguably most importantly that he is a well educated, wealthy and refined black man. The job is not only as chauffeur as Tony initially thought, but to be his all-expenses and well paid general foot soldier, especially in the area of security, for the eight week tour he has arranged for the trio with his record label, much of that tour in the Deep South (the last scheduled date being December 23rd in Birmingham, Alabama) hence the need for especially that security in he being black. Renegotiating the terms, learning that Dr. Shirley actually recruited him based on his reputation for being able to get the job done, and getting the okay from Dolores in the stipulation that he make it home for Christmas or else, Tony accepts the job. Beyond the obvious hazards of the race relations aspect of the job once they get to the Deep South, they will not only have to get over their own differences as humans in their moral and ethical values to survive with each other for eight weeks, but deal with the general role reversal of the uneducated white man being subservient to the well-educated black man. In that aspect, Dr. Shirley may have other issues in the Deep South as not fitting into either the white or black populations in general. Huggo</span>
                                                    </div>
                                                    <p>
                                                        <a class="btn btn-link show-more-less collapsed"
                                                               id="myCollapsibleBtn"
                                                      
                                                           role="button"
                                                       >
                                                        </a>
                                                    </p>
                                                
                                            </p>
                                    </div>
                                </div>
                                <div class="col-md-4 justify-self-end">
                                        <img src="https://m.media-amazon.com/images/M/MV5BYzIzYmJlYTYtNGNiYy00N2EwLTk4ZjItMGYyZTJiOTVkM2RlXkEyXkFqcGdeQXVyODY1NDk1NjE@.jpg"
                                             class="img-fluid rounded-start"
                                             alt="Green Book"/>
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="map-container">
                        <div id="map"></div>
                        <div id="loader">
                            <div class="spinner-border" role="status">
                                <span class="sr-only d-none">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table">
                    <tr class="table__header">
                        <th class="table__cell">Location</th>
                        <th class="table__cell">Coordiantes</th>
                    </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Burnside, Darrow, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.13881</span>, <span class="lon">-90.923987</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">McAlister Auditorium, 6823 Saint Charles Ave, New Orleans, Louisiana 70118, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.939943</span>, <span class="lon">-90.119083</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Carnegie Hall, 881 7th Ave, New York, New York 10019, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.7650625</span>, <span class="lon">-73.97995900000001</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">English Turn Golf and Country Club, 1 Clubhouse Dr, New Orleans, Louisiana 70131, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.906123</span>, <span class="lon">-89.954386</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Ruby's Roadhouse, 840 Lamarque St, Mandeville, Louisiana 70448, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.361668</span>, <span class="lon">-90.058467</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">International House Hotel, 221 Camp St, New Orleans, Louisiana 70130, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.951099499999998</span>, <span class="lon">-90.0689295</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Carver Theater, 2101 Orleans Ave, New Orleans, Louisiana 70116, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.967086</span>, <span class="lon">-90.076657</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Clover Grill, 900 Bourbon St, New Orleans, Louisiana 70116, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.960269</span>, <span class="lon">-90.064136</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">New Orleans Athletic Club, 222 N Rampart St, New Orleans, Louisiana 70112, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.9568375</span>, <span class="lon">-90.0713345</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">New Orleans Marriott Metairie at Lakeway, 3838 N Causeway Blvd, Metairie, Louisiana 70002, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.018059</span>, <span class="lon">-90.155064</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Macon, Georgia, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.840695</span>, <span class="lon">-83.632402</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">New Orleans, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.949932</span>, <span class="lon">-90.070116</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Fayard Hall, Hammond, Louisiana 70401, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.514549</span>, <span class="lon">-90.466606</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">New Orleans East, New Orleans, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.063395</span>, <span class="lon">-89.955011</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Amite, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.726575</span>, <span class="lon">-90.508982</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">129 Roosevelt Way, New Orleans, Louisiana 70112, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.954375</span>, <span class="lon">-90.072845</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Saenger Theatre, 1101 Canal St, New Orleans, Louisiana 70112, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.956114499999998</span>, <span class="lon">-90.0727235</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">St. Charles Parish, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.91</span>, <span class="lon">-90.36</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">French Quarter, New Orleans, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.959506</span>, <span class="lon">-90.065567</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.93749930159</span>, <span class="lon">-92.305998069584</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Burnside, Darrow, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.13881</span>, <span class="lon">-90.923987</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">New Orleans, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.949932</span>, <span class="lon">-90.070116</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Hammond, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.504358</span>, <span class="lon">-90.4612</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Metairie, Louisiana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">29.989993</span>, <span class="lon">-90.150543</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">39.3812661305678</span>, <span class="lon">-97.9222112121185</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Georgia, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.3305706594</span>, <span class="lon">-83.2572560296474</span></a>
                            </td>
                        </tr>
                    </tr>
            </table>
        </div>
    </div>
</main>
    <%- include(`${partials}/footer`); -%> <%- include(`${partials}/page-scripts/movie-location-scripts`); -%>

<script type="text/javascript">
var locations =[{"bbox": [[29.906123, -89.954386], [29.91, -90.36], [29.939943, -90.119083]], "data": [{"lat": 30.13881, "lon": -90.923987, "name": "Burnside, Darrow, Louisiana, United States"}, {"lat": 29.939943, "lon": -90.119083, "name": "McAlister Auditorium, 6823 Saint Charles Ave, New Orleans, Louisiana 70118, United States"}, {"lat": 40.7650625, "lon": -73.97995900000001, "name": "Carnegie Hall, 881 7th Ave, New York, New York 10019, United States"}, {"lat": 29.906123, "lon": -89.954386, "name": "English Turn Golf and Country Club, 1 Clubhouse Dr, New Orleans, Louisiana 70131, United States"}, {"lat": 30.361668, "lon": -90.058467, "name": "Ruby\u0027s Roadhouse, 840 Lamarque St, Mandeville, Louisiana 70448, United States"}, {"lat": 29.951099499999998, "lon": -90.0689295, "name": "International House Hotel, 221 Camp St, New Orleans, Louisiana 70130, United States"}, {"lat": 29.967086, "lon": -90.076657, "name": "Carver Theater, 2101 Orleans Ave, New Orleans, Louisiana 70116, United States"}, {"lat": 29.960269, "lon": -90.064136, "name": "Clover Grill, 900 Bourbon St, New Orleans, Louisiana 70116, United States"}, {"lat": 29.9568375, "lon": -90.0713345, "name": "New Orleans Athletic Club, 222 N Rampart St, New Orleans, Louisiana 70112, United States"}, {"lat": 30.018059, "lon": -90.155064, "name": "New Orleans Marriott Metairie at Lakeway, 3838 N Causeway Blvd, Metairie, Louisiana 70002, United States"}, {"lat": 32.840695, "lon": -83.632402, "name": "Macon, Georgia, United States"}, {"lat": 29.949932, "lon": -90.070116, "name": "New Orleans, Louisiana, United States"}, {"lat": 30.514549, "lon": -90.466606, "name": "Fayard Hall, Hammond, Louisiana 70401, United States"}, {"lat": 30.063395, "lon": -89.955011, "name": "New Orleans East, New Orleans, Louisiana, United States"}, {"lat": 30.726575, "lon": -90.508982, "name": "Amite, Louisiana, United States"}, {"lat": 29.954375, "lon": -90.072845, "name": "129 Roosevelt Way, New Orleans, Louisiana 70112, United States"}, {"lat": 29.956114499999998, "lon": -90.0727235, "name": "Saenger Theatre, 1101 Canal St, New Orleans, Louisiana 70112, United States"}, {"lat": 29.91, "lon": -90.36, "name": "St. Charles Parish, Louisiana, United States"}, {"lat": 29.959506, "lon": -90.065567, "name": "French Quarter, New Orleans, Louisiana, United States"}, {"lat": 30.93749930159, "lon": -92.305998069584, "name": "Louisiana, United States"}, {"lat": 30.13881, "lon": -90.923987, "name": "Burnside, Darrow, Louisiana, United States"}, {"lat": 29.949932, "lon": -90.070116, "name": "New Orleans, Louisiana, United States"}, {"lat": 30.504358, "lon": -90.4612, "name": "Hammond, Louisiana, United States"}, {"lat": 29.989993, "lon": -90.150543, "name": "Metairie, Louisiana, United States"}, {"lat": 39.3812661305678, "lon": -97.9222112121185, "name": "United States"}, {"lat": 32.3305706594, "lon": -83.2572560296474, "name": "Georgia, United States"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
    //console.log($(`${target} span`).first())

   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
else if (!locations[0].bbox){

  console.log('no box')
  console.log(locations[0].data[0].lat)
  let lat = locations[0].data[0].lat
  let lon = locations[0].data[0].lon
map.setView([lat, lon], 20);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
</script>
</body>
</html>