<!DOCTYPE html>
<html lang="en" dir="ltr">
<%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>

  <body class="film-location">
    <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
    <![endif]-->

    <noscript>
      <h3>Please enable JavaScript in order to view this site properly.</h3>
    </noscript>

    <%- include(`${partials}/nav`); -%>

     <main class="mb-4 mt-5">



        <div class="container px-4 px-lg-5">


            <div class="row align-items-md-stretch">
                
              <div class="col-md-12">

                <div class="card mb-3" id="film-details">
                  <div class="row g-0">
                    <div class="col-md-8 px-3 py-3">
                      <div class="card-body">
                      <h3 class="card-title">Batman Begins</h3>
          <p class="card-text mb-0">


  <span > After training with his mentor, Batman begins his fight to free crime-ridden Gotham City from corruption.  </span>
                          <span > When his parents are killed, billionaire playboy Bruce Wayne relocates to Asia, where he is mentored by Henri Ducard and Ra's Al Ghul in how to fight evil. When learning about the plan to wipe out evil in Gotham City by Ducard, Bruce prevents this plan from getting any further and heads back to his home. Back in his original surroundings, Bruce adopts the image of a bat to strike fear into the criminals and the corrupt as the icon known as "Batman". But it doesn't stay quiet for long. -konstantinwe.  </span>
                          <span > As a child, a young Bruce Wayne witnesses the death of his parents at the hands of a crazed criminal. As an adult, Bruce travels the world seeking the means to fight injustice. He lives amongst the boroughs of criminals and thieves in central Asia. Eventually, he meets a mysterious figure named Ra's Al Guhl and joins his gang called the League of Shadows. Using his training, he is able to defeat his trainer. Finally meeting up with his estate caretaker Alfred Pennyworth, Bruce Wayne returns to Gotham. There, he becomes the new head of Wayne Enterprises. Together, with the help of the C.E.O. of the Wayne Enterprises Applied Sciences division, a man name Lucius Fox, he dons a new persona: Batman. As Batman takes on the criminals and organized crime underworld of Gotham, a sinister new underbelly of the city is exposed, and a new class of criminal is born. Will Batman be the one to stop them all, or does Gotham need a hero with a face? -halo1k.  </span>
                          
                <div class="collapse" id="myCollapsible">
                    <div id = "module">



                    </div>
<span class="additional-information" > Bruce Wayne, who experiences the death of his parents at a very young age, relocates to Asia and trains with his mentors, Henri Ducard and Ra's Al Ghul in fighting injustice. He returns to a crime-ridden Gotham and with the help of his old butler and estate caretaker, Alfred, the C.E.O. of Wayne Enterprises Applied Science Division Lucius Fox, he dons a new persona, Batman, to strike fear into the hearts of the criminals and the corrupt. With the help of rising cop Gordon, and the Assistant District Attorney, and Bruce's love interest Rachel Dawes, he is able to take down the Mafia Don Falcone, and the twisted doctor/drug dealer Jonathan Crane a.k.a. The Scarecrow. With Ra's Al Ghul's return with his evil plan to destroy Gotham by inducing fear into the hearts of the people, Batman must defeat his mentor once again so as to bring peace in Gotham. -srijanarora-152-448595.  </span>
    <span class="additional-information" > As a boy, a young Bruce Wayne watched in horror as his millionaire parents were slain in front of his eyes, a trauma which led him to become obsessed with revenge, but his chance is cruelly taken away from him by fate. After disappearing to the East where he seeks counsel with the dangerous but honorable ninja cult leader known as Ra's Al-Ghul, he returns to his now decaying Gotham City overrun by organized crime and dangerous individuals manipulating the system while the company he inherited is slowly being pulled out from under him. The discovery of a cave under his mansion, and a prototype armored suit leads him to take on a new persona, one which will strike fear into the hearts of men who do wrong, he becomes Batman. In the new guise, and with the help of rising cop Jim Gordon, Batman sets out to take down the various nefarious schemes in motion by individuals such as Mafia Don Falcone, the twisted doctor/drug dealer Jonathan "The Scarecrow" Crane, and a mysterious third party that is quite familiar with Wayne and waiting to strike when the time is right. -Dark Horizons.  </span>
    </div>
                
<p>
  <a class="btn btn-link show-more-less collapsed" data-bs-toggle="collapse" href="#myCollapsible" role="button" aria-expanded="false" aria-controls="myCollapsible">

  </a>

</p>

              

                        </p>
                      </div>
                    </div>
                      <div class="col-md-4 justify-self-end">
                      <img
                                      src="https://m.media-amazon.com/images/M/MV5BOTY4YjI2N2MtYmFlMC00ZjcyLTg3YjEtMDQyM2ZjYzQ5YWFkXkEyXkFqcGdeQXVyMTQxNzMzNDI@.jpg"
                                      class="img-fluid rounded-start"
                                      alt="Batman Begins"
                                    />
                    </div>
                     </div>
                </div>
              </div>
            </div>
          
            <div class="col-lg-12">
  <div class="map-container">
                  <div id="map"></div>
                  <div id="loader">
                    <div class="spinner-border" role="status">
                      <span class="sr-only d-none">Loading...</span>
                    </div>
                  </div>
                </div>

            </div>

 <table class="table">
          <tr class="table__header">

            <th class="table__cell">Location</th>
           <th class="table__cell">Coordiantes</th>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Skaftafell, Skaftafell National Park, Hornafjörður, Eastern 785, Iceland </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">64.0165365</span>, <span class="lon">-16.9668115</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Svínafellsjökull, Skaftafell National Park, Hornafjörður, Eastern 785, Iceland </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">64.007538</span>, <span class="lon">-16.875601</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Mentmore, Buckinghamshire, England, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.87</span>, <span class="lon">-0.684</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Downtown West Chicago, West Chicago, Illinois, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">41.8928</span>, <span class="lon">-88.207</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Chicago Board of Trade, 141 W Jackson Blvd, Chicago, Illinois 60604, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">41.877263</span>, <span class="lon">-87.63204</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Chicago, Illinois, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">41.8756</span>, <span class="lon">-87.6244</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Coalhouse Fort, Princess Margaret Road, Tilbury, England RM18 8QD, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.465123500000004</span>, <span class="lon">0.4319505</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">London, Greater London, England, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.507321899999994</span>, <span class="lon">-0.12764739999999997</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Franklin Street Bridge, 350 North Franklin St, Chicago, Illinois 60606, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">41.8872375</span>, <span class="lon">-87.6359515</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Airship Hangar, Farnborough, England GU14 7JP, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.28478</span>, <span class="lon">-0.760758</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Hatfield House, Great North Rd., Hatfield, England AL9 5NQ, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.761217</span>, <span class="lon">-0.2098325</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Knebworth House, Knebworth, England SG3 6PY, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.873279499999995</span>, <span class="lon">-0.214523</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Saint John Street, Islington, London, EC1V 4UB, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.52316</span>, <span class="lon">-0.102312</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">London, Greater London, England, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.507321899999994</span>, <span class="lon">-0.12764739999999997</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Iceland </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">64.9975884448459</span>, <span class="lon">-18.6054668169534</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Waukegan, Illinois, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">42.3636</span>, <span class="lon">-87.8448</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Shepperton Studios Studios Rd, Shepperton, TW17 8EJ, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.396334</span>, <span class="lon">-0.453109</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Royal Victoria Dock, Western Gateway, London, England E16 1BL, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.507746</span>, <span class="lon">0.019321</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Birkbeck, Malet St, London, England WC1E 7JL, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.522841765625</span>, <span class="lon">-0.1301126953125</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Shepperton Studios Studios Rd, Shepperton, TW17 8EJ, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.396334</span>, <span class="lon">-0.453109</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Shepperton Studios Studios Rd, Shepperton, TW17 8EJ, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.396334</span>, <span class="lon">-0.453109</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Marriott Vacation Club Pulse, 33 West 37th Street, New York, New York 10018, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.751296</span>, <span class="lon">-73.984819</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Shepperton Studios Studios Rd, Shepperton, TW17 8EJ, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.396334</span>, <span class="lon">-0.453109</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Knebworth, Hertfordshire, England, United Kingdom </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">51.866</span>, <span class="lon">-0.184</span></a>
                
            </td>
          </tr>
          </tr>

        </table>
          </div>
        </div>


    </main>



     <%- include(`${partials}/footer`); -%> <%-include(`${partials}/homeScripts`); -%>

  <script type="text/javascript">

var locations =[{"bbox": [[41.8756, -87.6244], [41.877263, -87.63204], [41.8872375, -87.6359515]], "data": [{"lat": 64.0165365, "lon": -16.9668115, "name": "Skaftafell, Skaftafell National Park, Hornafj\u00f6r\u00f0ur, Eastern 785, Iceland"}, {"lat": 64.007538, "lon": -16.875601, "name": "Sv\u00ednafellsj\u00f6kull, Skaftafell National Park, Hornafj\u00f6r\u00f0ur, Eastern 785, Iceland"}, {"lat": 51.87, "lon": -0.684, "name": "Mentmore, Buckinghamshire, England, United Kingdom"}, {"lat": 41.8928, "lon": -88.207, "name": "Downtown West Chicago, West Chicago, Illinois, United States"}, {"lat": 41.877263, "lon": -87.63204, "name": "Chicago Board of Trade, 141 W Jackson Blvd, Chicago, Illinois 60604, United States"}, {"lat": 41.8756, "lon": -87.6244, "name": "Chicago, Illinois, United States"}, {"lat": 51.465123500000004, "lon": 0.4319505, "name": "Coalhouse Fort, Princess Margaret Road, Tilbury, England RM18 8QD, United Kingdom"}, {"lat": 51.507321899999994, "lon": -0.12764739999999997, "name": "London, Greater London, England, United Kingdom"}, {"lat": 41.8872375, "lon": -87.6359515, "name": "Franklin Street Bridge, 350 North Franklin St, Chicago, Illinois 60606, United States"}, {"lat": 51.28478, "lon": -0.760758, "name": "Airship Hangar, Farnborough, England GU14 7JP, United Kingdom"}, {"lat": 51.761217, "lon": -0.2098325, "name": "Hatfield House, Great North Rd., Hatfield, England AL9 5NQ, United Kingdom"}, {"lat": 51.873279499999995, "lon": -0.214523, "name": "Knebworth House, Knebworth, England SG3 6PY, United Kingdom"}, {"lat": 51.52316, "lon": -0.102312, "name": "Saint John Street, Islington, London, EC1V 4UB, United Kingdom"}, {"lat": 51.507321899999994, "lon": -0.12764739999999997, "name": "London, Greater London, England, United Kingdom"}, {"lat": 64.9975884448459, "lon": -18.6054668169534, "name": "Iceland"}, {"lat": 42.3636, "lon": -87.8448, "name": "Waukegan, Illinois, United States"}, {"lat": 51.396334, "lon": -0.453109, "name": "Shepperton Studios Studios Rd, Shepperton, TW17 8EJ, United Kingdom"}, {"lat": 51.507746, "lon": 0.019321, "name": "Royal Victoria Dock, Western Gateway, London, England E16 1BL, United Kingdom"}, {"lat": 51.522841765625, "lon": -0.1301126953125, "name": "Birkbeck, Malet St, London, England WC1E 7JL, United Kingdom"}, {"lat": 51.396334, "lon": -0.453109, "name": "Shepperton Studios Studios Rd, Shepperton, TW17 8EJ, United Kingdom"}, {"lat": 51.396334, "lon": -0.453109, "name": "Shepperton Studios Studios Rd, Shepperton, TW17 8EJ, United Kingdom"}, {"lat": 40.751296, "lon": -73.984819, "name": "Marriott Vacation Club Pulse, 33 West 37th Street, New York, New York 10018, United States"}, {"lat": 51.396334, "lon": -0.453109, "name": "Shepperton Studios Studios Rd, Shepperton, TW17 8EJ, United Kingdom"}, {"lat": 51.866, "lon": -0.184, "name": "Knebworth, Hertfordshire, England, United Kingdom"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
    //console.log($(`${target} span`).first())

   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
</script>
  </body>
</html>