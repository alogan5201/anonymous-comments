<!DOCTYPE html>
<html lang="en" dir="ltr">
<%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>

  <body class="film-location">
    <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
    <![endif]-->

    <noscript>
      <h3>Please enable JavaScript in order to view this site properly.</h3>
    </noscript>

    <%- include(`${partials}/nav`); -%>

     <main class="mb-4 mt-5">



        <div class="container px-4 px-lg-5">


            <div class="row align-items-md-stretch">
                
              <div class="col-md-12">

                <div class="card mb-3" id="film-details">
                  <div class="row g-0">
                    <div class="col-md-8 px-3 py-3">
                      <div class="card-body">
                      <h3 class="card-title">Network</h3>
          <p class="card-text mb-0">


  <span > A television network cynically exploits a deranged former anchor's ravings and revelations about the news media for its own profit, but finds that his message may be difficult to control.  </span>
                          <span > In the 1970s, terrorist violence is the stuff of networks' nightly news programming and the corporate structure of the UBS Television Network is changing. Meanwhile, Howard Beale, the aging UBS news anchor, has lost his once strong ratings share and so the network fires him. Beale reacts in an unexpected way. We then see how this affects the fortunes of Beale, his coworkers (Max Schumacher and Diana Christensen), and the network. -Bruce Janson .  </span>
                          <span > The Union Broadcasting System (UBS) is the floundering fourth place American network of only four. Howard Beale, the once popular news anchor for UBS, has seen his own declining fortunes of late. Personal problems have led to his performance slipping, which in turn has led to declining ratings. The network has fired him, effective in two weeks, the news given to him by the head of the network's news division and his long time friend, Max Schumacher. On his first broadcast following receiving this news, Beale announces on air that he will blow out his brains on the telecast in one week's time, and the reason for doing so. The network brass, incensed, pulls him off effective immediately, but Howard, stating he was drunk at the time over the news of his firing, pleads for one final telecast so that he can exit from news broadcasting with dignity. When on the broadcast Howard instead speaks candidly, emotionally and profanely about what he is feeling, Diana Christensen, the relatively new and ambitious vice-president in charge of programming, thinks that Howard is the panacea to all the network's rating problems as Howard is only stating what the public is feeling. She is interested in counter-establishment programming. With Max's blessing, she wants to hijack from the news division a television news show featuring Howard. Through this process, Diana tries to convince network brass to do what she wants not only with Howard's show but other counter-establishment programming, Max wants to preserve his reputation as a news man with integrity, and Howard tries to convince Max and Diana that he is imbued with messages from higher powers, which is making him seem insane to Max (who cares) and Diana (who cares only if his rantings from these higher powers increase ratings). Despite their differences in views, Max and Diana begin a September-May romance, which plays on Max's conscience as a faithful married man for twenty-five years and which Diana always refers to, as she does everything in life, in terms of a television show plot outline. -Huggo.  </span>
                          
                <div class="collapse" id="myCollapsible">
                    <div id = "module">



                    </div>
<span class="additional-information" > In this lauded satire, veteran news anchorman Howard Beale discovers that he's being put out to pasture, and he's none too happy about it. After threatening to shoot himself on live television, instead he launches into an angry televised rant, which turns out to be a huge ratings boost for the UBS network. This stunt allows ambitious producer Diana Christensen to develop even more outrageous programming, a concept that she takes to unsettling extremes. -Jwelch5742.  </span>
    <span class="additional-information" > Howard Beale is an aging TV anchorman for UBS who is fired, effective in two weeks, after his ratings have been steadily deteriorating. He reacts to this by sensationally announcing on live television his intention to commit suicide on air. In doing so, Beale becomes a major TV icon and one of the most valuable assets to the Communications Corporation of America (CCA), the company that is gradually taking control of UBS. As a result he is given his own show as 'the mad prophet of the air-waves'. He appears live on television every week-day evening to tell the real truth to the people of America. The program is a huge success but Beale uses his power to make startling revelations about CCA, leaving the company executives with a serious problem. -David Claydon .  </span>
    <span class="additional-information" > A fourth network is struggling for ratings and turns its news division over to the entertainment division. As one of the ramifications of this move the news Anchor is fired. He goes on the air with a wonderfully daffy rant and rave session culminating in his insisting that people go to the windows and yell, "I'm as mad as hell, and I'm not going to take it anymore." His ravings make him an Icon as the need to sell begins to overwhelm everyone touched by the network. -John Vogel .  </span>
    </div>
                
<p>
  <a class="btn btn-link show-more-less collapsed" data-bs-toggle="collapse" href="#myCollapsible" role="button" aria-expanded="false" aria-controls="myCollapsible">

  </a>

</p>

              

                        </p>
                      </div>
                    </div>
                      <div class="col-md-4 justify-self-end">
                      <img
                                      src="https://m.media-amazon.com/images/M/MV5BZGNjYjM2MzItZGQzZi00NmY3LTgxOGUtMTQ2MWQxNWQ2MmMwXkEyXkFqcGdeQXVyNzM0MTUwNTY@.jpg"
                                      class="img-fluid rounded-start"
                                      alt="Network"
                                    />
                    </div>
                     </div>
                </div>
              </div>
            </div>
          
            <div class="col-lg-12">
  <div class="map-container">
                  <div id="map"></div>
                  <div id="loader">
                    <div class="spinner-border" role="status">
                      <span class="sr-only d-none">Loading...</span>
                    </div>
                  </div>
                </div>

            </div>

 <table class="table">
          <tr class="table__header">

            <th class="table__cell">Location</th>
           <th class="table__cell">Coordiantes</th>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">CTV Toronto Studios, 9 Channel Nine Ct, Toronto, Ontario M1S 4B5, Canada </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">43.781899</span>, <span class="lon">-79.257699</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Marriott Vacation Club Pulse, 33 West 37th Street, New York, New York 10018, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.751296</span>, <span class="lon">-73.984819</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">101 Ocean Avenue, East Hampton, New York 11937, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.944105</span>, <span class="lon">-72.19429</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">New York, New York, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.7306</span>, <span class="lon">-73.9866</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">39.3812661305678</span>, <span class="lon">-97.9222112121185</span></a>
                
            </td>
          </tr>
          </tr>

        </table>
          </div>
        </div>


    </main>



     <%- include(`${partials}/footer`); -%> <%-include(`${partials}/homeScripts`); -%>

  <script type="text/javascript">

var locations =[{"bbox": null, "data": [{"lat": 43.781899, "lon": -79.257699, "name": "CTV Toronto Studios, 9 Channel Nine Ct, Toronto, Ontario M1S 4B5, Canada"}, {"lat": 40.751296, "lon": -73.984819, "name": "Marriott Vacation Club Pulse, 33 West 37th Street, New York, New York 10018, United States"}, {"lat": 40.944105, "lon": -72.19429, "name": "101 Ocean Avenue, East Hampton, New York 11937, United States"}, {"lat": 40.7306, "lon": -73.9866, "name": "New York, New York, United States"}, {"lat": 39.3812661305678, "lon": -97.9222112121185, "name": "United States"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
    //console.log($(`${target} span`).first())

   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
</script>
  </body>
</html>