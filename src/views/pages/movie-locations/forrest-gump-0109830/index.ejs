<!DOCTYPE html>
<html lang="en" dir="ltr">
    <%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>
    <body class="film-location film-details">
        <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
<![endif]-->
        <noscript>
            <h3>Please enable JavaScript in order to view this site properly.</h3>
        </noscript>
        <%- include(`${partials}/nav`); -%>
        <main class="mb-4 mt-5">
            <div class="container px-4 px-lg-5">
                     <%- include(`${partials}/autocomplete`); -%>
                <div class="row align-items-md-stretch">
                    <div class="col-md-12">
                        <div class="card mb-3" id="film-details">
                            <div class="row g-0">
                                <div class="col-md-8 px-3 py-3">
                                    <div class="card-body">
                                        <h3 class="card-title">Forrest Gump</h3>
                                        <p class="card-text mb-0">
                                            <span id="mainPlotContent">The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75, whose only desire is to be reunited with his childhood sweetheart. Forrest Gump is a simple man with a low I.Q. but good intentions. He is running through childhood with his best and only friend Jenny. His 'mama' teaches him the ways of life and leaves him to choose his destiny. Forrest joins the army for service in Vietnam, finding new friends called Dan and Bubba, he wins medals, creates a famous shrimp fishing fleet, inspires people to jog, starts a ping-pong craze, creates the smiley, writes bumper stickers and songs, donates to people and meets the president several ...</span>
                                                
                                                    <div class="collapse" id="movieLocationCollapsible">
                                                        <div id = "module"></div>
                                                        <span id="metaPlotContent"class="additional-information">times. However, this is all irrelevant to Forrest who can only think of his childhood sweetheart Jenny Curran, who has messed up her life. Although in the end all he wants to prove is that anyone can love anyone. aliw135 The movie Forrest Gump follows the life events of a man who shares the name as the title of the film. Gump faces many tribulations throughout his life, but he never lets any of them interfere with his happiness. From wearing braces on his legs, to having a below average IQ and even being shot, Gump continues to believe that good things will happen and goes after his dreams. While several less than ideal things occur during Gump's life, he manages to turn each setback into something good for him, such as when he finally gets his braces off he discovers that he is capable of running faster than most other people. This skill allows Gump to not only escape his bullies while he is a child in Greenbow, but also to gain a football scholarship, save many soldiers' lives and become famous for his ability. While Gump eventually achieves the majority of the things he hoped to throughout the movie, it proved a much more difficult task to win the heart of his life-long friend Jenny Curran. The movie is centered on Forrest Gump and the incidences that occur during his life, but during each period in his lifetime he thinks back of Jenny and how important she is to him. Although the two characters grew up together and shared a very close friendship, as the movie progresses they grow apart. This upsets Gump who cares immensely for the girl who had a rough start in life, and it seems the two always end up back in each other's lives, often in extraordinary ways like meeting in the Reflection Pond in D.C. Even though Gump is the main character of the film, it similarly tells the story of Curran and the hardships she faces. Kathryn Logue Slow-witted Forrest Gump has never thought of himself as disadvantaged, and thanks to his supportive mother, he leads anything but a restricted life. Whether dominating on the gridiron as a college football star, fighting in Vietnam or captaining a shrimp boat, Forrest inspires people with his childlike optimism. But one person Forrest cares about most may be the most difficult to save -- his childhood love, the sweet but troubled Jenny. Jwelch5742 Forrest Gump, an innocent and kind-hearted Alabama boy, has been dealing with other people's unkindness nearly all his life. Having grown up with beautiful Jenny, his only friend, Forrest yearns to learn all about the ways of the world and embarks on a mission to find his true purpose in life. Thrust into downright extraordinary situations, Forrest finds himself present at some of the most pivotal events in the second half of the 20th century, rubbing shoulders with influential and historical figures, including John F. Kennedy, Richard Nixon, a nice young man from England named John Lennon, and even a handsome but still unknown Elvis Presley. Throughout his existence, Forrest has been encountering life's randomness; however, in this earth, no one is insignificant. With his presence alone, one builds his own place in this world, unknowingly changing the flow of things, while fate floats like a feather in the wind. But, in this life-altering journey, is Forrest meant to find his destiny, and be with Jenny? Nick Riganas</span>
                                                    </div>
                                                    <p>
                                                        <a class="btn btn-link show-more-less collapsed"
                                                               id="myCollapsibleBtn"
                                                      
                                                           role="button"
                                                       >
                                                        </a>
                                                    </p>
                                                
                                            </p>
                                    </div>
                                </div>
                                <div class="col-md-4 justify-self-end">
                                        <img src="https://m.media-amazon.com/images/M/MV5BNWIwODRlZTUtY2U3ZS00Yzg1LWJhNzYtMmZiYmEyNmU1NjMzXkEyXkFqcGdeQXVyMTQxNzMzNDI@.jpg"
                                             class="img-fluid rounded-start"
                                             alt="Forrest Gump"/>
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="map-container">
                        <div id="map"></div>
                        <div id="loader">
                            <div class="spinner-border" role="status">
                                <span class="sr-only d-none">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table">
                    <tr class="table__header">
                        <th class="table__cell">Location</th>
                        <th class="table__cell">Coordiantes</th>
                    </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Chippewa Square, 16 W Hull St, Savannah, Georgia 31401, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.075812</span>, <span class="lon">-81.092963</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Marshall Point Lighthouse, Marshall Point Rd, Saint George, Maine 04860, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">43.9175855</span>, <span class="lon">-69.261014</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Savannah, Georgia, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.080926</span>, <span class="lon">-81.091177</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Pemaquid, Maine, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">43.906906</span>, <span class="lon">-69.514714</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Monument Valley, Utah, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">37.01549</span>, <span class="lon">-110.294671</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Beaufort, South Carolina, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.431581</span>, <span class="lon">-80.669829</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Mexican Hat, Utah, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">37.14827</span>, <span class="lon">-109.861438</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Flagstaff, Arizona, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">35.198752</span>, <span class="lon">-111.651823</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Santa Monica Pier, 200 Santa Monica Pier, Santa Monica, California 90401, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.0084455</span>, <span class="lon">-118.49869375</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Fripp Island, South Carolina, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.322401</span>, <span class="lon">-80.473812</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Twin Arrows, 38 Twin Arrows, Flagstaff, Arizona 86004, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">35.163317</span>, <span class="lon">-111.265803</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">3547 Combahee Road, Yemassee, South Carolina 29945, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.68775</span>, <span class="lon">-80.73423</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Traditions At Antler Hill Village, Asheville, North Carolina 28803, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">35.555438</span>, <span class="lon">-82.582552</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Grandfather Mountain, 2050 Blowing Rock Hwy, Linville, North Carolina 28646, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">36.095927</span>, <span class="lon">-81.832008</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Pritchardville, Bluffton, South Carolina, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.237978</span>, <span class="lon">-80.964277</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Orange, California, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">33.787257</span>, <span class="lon">-117.850309</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">743 South Lucerne Boulevard, Los Angeles, California 90005, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.06071</span>, <span class="lon">-118.32483</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Montana, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">47.0725146587</span>, <span class="lon">-109.172599073804</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">5555 Melrose Avenue, Los Angeles, California 90038, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.08363</span>, <span class="lon">-118.32191</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">University of Southern California, U S C, Los Angeles, California 90089, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.022018</span>, <span class="lon">-118.2853775</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Varnville, South Carolina, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">32.850445</span>, <span class="lon">-81.079272</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Glacier National Park, Browning, Montana 59417, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">48.75981</span>, <span class="lon">-113.788147</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">3400 Wilshire Boulevard, Los Angeles, California 90010, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.06159</span>, <span class="lon">-118.29758</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">1301 Avenida Cesar Chavez, Monterey Park, California 91754, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.04045</span>, <span class="lon">-118.15007</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">The Monument Valley, Page, Arizona 86040, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">36.917952</span>, <span class="lon">-111.462945</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">6925 Hollywood Boulevard, Los Angeles, California 90028, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.10171</span>, <span class="lon">-118.34113</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Lincoln Memorial, 2 Lincoln Memorial Circle NW, Washington, District of Columbia 20037, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">38.8892725</span>, <span class="lon">-77.0501525</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Los Angeles, California, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.053691</span>, <span class="lon">-118.242766</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Los Angeles, California, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">34.053691</span>, <span class="lon">-118.242766</span></a>
                            </td>
                        </tr>
                    </tr>
            </table>
        </div>
    </div>
</main>
    <%- include(`${partials}/footer`); -%> <%- include(`${partials}/page-scripts/movie-location-scripts`); -%>

<script type="text/javascript">
var locations =[{"bbox": [[32.075812, -81.092963], [32.080926, -81.091177], [32.237978, -80.964277]], "data": [{"lat": 32.075812, "lon": -81.092963, "name": "Chippewa Square, 16 W Hull St, Savannah, Georgia 31401, United States"}, {"lat": 43.9175855, "lon": -69.261014, "name": "Marshall Point Lighthouse, Marshall Point Rd, Saint George, Maine 04860, United States"}, {"lat": 32.080926, "lon": -81.091177, "name": "Savannah, Georgia, United States"}, {"lat": 43.906906, "lon": -69.514714, "name": "Pemaquid, Maine, United States"}, {"lat": 37.01549, "lon": -110.294671, "name": "Monument Valley, Utah, United States"}, {"lat": 32.431581, "lon": -80.669829, "name": "Beaufort, South Carolina, United States"}, {"lat": 37.14827, "lon": -109.861438, "name": "Mexican Hat, Utah, United States"}, {"lat": 35.198752, "lon": -111.651823, "name": "Flagstaff, Arizona, United States"}, {"lat": 34.0084455, "lon": -118.49869375, "name": "Santa Monica Pier, 200 Santa Monica Pier, Santa Monica, California 90401, United States"}, {"lat": 32.322401, "lon": -80.473812, "name": "Fripp Island, South Carolina, United States"}, {"lat": 35.163317, "lon": -111.265803, "name": "Twin Arrows, 38 Twin Arrows, Flagstaff, Arizona 86004, United States"}, {"lat": 32.68775, "lon": -80.73423, "name": "3547 Combahee Road, Yemassee, South Carolina 29945, United States"}, {"lat": 35.555438, "lon": -82.582552, "name": "Traditions At Antler Hill Village, Asheville, North Carolina 28803, United States"}, {"lat": 36.095927, "lon": -81.832008, "name": "Grandfather Mountain, 2050 Blowing Rock Hwy, Linville, North Carolina 28646, United States"}, {"lat": 32.237978, "lon": -80.964277, "name": "Pritchardville, Bluffton, South Carolina, United States"}, {"lat": 33.787257, "lon": -117.850309, "name": "Orange, California, United States"}, {"lat": 34.06071, "lon": -118.32483, "name": "743 South Lucerne Boulevard, Los Angeles, California 90005, United States"}, {"lat": 47.0725146587, "lon": -109.172599073804, "name": "Montana, United States"}, {"lat": 34.08363, "lon": -118.32191, "name": "5555 Melrose Avenue, Los Angeles, California 90038, United States"}, {"lat": 34.022018, "lon": -118.2853775, "name": "University of Southern California, U S C, Los Angeles, California 90089, United States"}, {"lat": 32.850445, "lon": -81.079272, "name": "Varnville, South Carolina, United States"}, {"lat": 48.75981, "lon": -113.788147, "name": "Glacier National Park, Browning, Montana 59417, United States"}, {"lat": 34.06159, "lon": -118.29758, "name": "3400 Wilshire Boulevard, Los Angeles, California 90010, United States"}, {"lat": 34.04045, "lon": -118.15007, "name": "1301 Avenida Cesar Chavez, Monterey Park, California 91754, United States"}, {"lat": 36.917952, "lon": -111.462945, "name": "The Monument Valley, Page, Arizona 86040, United States"}, {"lat": 34.10171, "lon": -118.34113, "name": "6925 Hollywood Boulevard, Los Angeles, California 90028, United States"}, {"lat": 38.8892725, "lon": -77.0501525, "name": "Lincoln Memorial, 2 Lincoln Memorial Circle NW, Washington, District of Columbia 20037, United States"}, {"lat": 34.053691, "lon": -118.242766, "name": "Los Angeles, California, United States"}, {"lat": 34.053691, "lon": -118.242766, "name": "Los Angeles, California, United States"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
    //console.log($(`${target} span`).first())

   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
else if (!locations[0].bbox){

  console.log('no box')
  console.log(locations[0].data[0].lat)
  let lat = locations[0].data[0].lat
  let lon = locations[0].data[0].lon
map.setView([lat, lon], 20);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
</script>
</body>
</html>