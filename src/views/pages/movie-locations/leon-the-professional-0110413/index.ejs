<!DOCTYPE html>
<html lang="en" dir="ltr">
<%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>

  <body class="film-location">
    <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
    <![endif]-->

    <noscript>
      <h3>Please enable JavaScript in order to view this site properly.</h3>
    </noscript>

    <%- include(`${partials}/nav`); -%>

     <main class="mb-4 mt-5">



        <div class="container px-4 px-lg-5">


            <div class="row align-items-md-stretch">
                
              <div class="col-md-12">

                <div class="card mb-3" id="film-details">
                  <div class="row g-0">
                    <div class="col-md-8 px-3 py-3">
                      <div class="card-body">
                      <h3 class="card-title">Léon: The Professional</h3>
          <p class="card-text mb-0">


  <span > 12-year-old Mathilda is reluctantly taken in by Léon, a professional assassin, after her family is murdered. An unusual relationship forms as she becomes his protégée and learns the assassin's trade.  </span>
                          <span > After her father, step-mother, step-sister and little brother are killed by her father's employers, the 12-year-old daughter of an abject drug dealer manages to take refuge in the apartment of a professional hitman who at her request teaches her the methods of his job so she can take her revenge on the corrupt DEA agent who ruined her life by killing her beloved brother. -J. S. Golden.  </span>
                          <span > Leon (played by Jean Reno) lives in New York and is a professional hit man. One of his neighbors, Mathilda (Natalie Portman), is a 12-year old girl with family problems, one of which is that her father is a petty criminal. One day, a drug kingpin, Stansfield (Gary Oldman), kills her entire family due to something her father did. Mathilda turns to Leon for help...and revenge. -grantss.  </span>
                          
                <div class="collapse" id="myCollapsible">
                    <div id = "module">



                    </div>
<span class="additional-information" > Reclusive, taciturn, and lethally efficient, the plant-loving New Yorker and professional hitman, or "cleaner", Léon, sees his world turn upside down, when the entire family of his tough twelve-year-old neighbour, Mathilda, is wiped out by a corrupt DEA agent. Having no one else to turn to, the streetwise teenager worms her way into Léon's otherwise quiet life, going as far as to make a preposterous deal with her new surrogate father: in exchange for Léon's extensive knowledge in the cruel art of killing, Mathilda will do the housework. Now, a fervent desire to avenge her little brother is the only thing that keeps Mathilda going. However, has she what it takes to taste the ambrosial juice of retribution? -Nick Riganas.  </span>
    <span class="additional-information" > Mathilda, a twelve-year old New York girl, is living an undesirable life among her half-family. Her father stores drugs for two-faced cop Norman Stansfield. Only her little brother keeps Mathilda from breaking apart. One day, Stansfield and his team take cruel revenge on her father for stretching the drugs a little, thus killing the whole family. Only Mathilda, who was out shopping, survives by finding shelter in Léon's apartment in the moment of highest need. Soon, she finds out about the strange neighbour's unusual profession - killing - and desperately seeks his help in taking revenge for her little brother. Léon, who is completely unexperienced in fatherly tasks, and in friendships, does his best to keep Mathilda out of trouble - unsuccessfully. Now, the conflict between a killer, who slowly discovers his abilities to live, to feel, to love and a corrupt police officer, who does anything in his might to get rid of an eye witness, arises to unmeasurable proportions - all for the sake of a little twelve-year old girl, who has nearly nothing to lose. -Julian Reischl .  </span>
    <span class="additional-information" > Léon is an Italian immigrant who fled Italy after having committed a crime there. He now resides in New York City and is working for the mob boss "Uncle" Tony. He lives with his favorite plant in a small apartment in the city next door to a girl he occasionally speaks to whose father is a drug dealer working with crooked DEA officers. One day when she's out getting groceries the crooked agents murder her entire family in a botched drug deal and upon discovering the massacre upon her return home she walks to the end of the hall to Léon's apartment who lets her into not only his home, but into his life as well. Soon enough he's teaching Mathilda, a young girl, how to be a professional hitman in order for her to learn enough to get revenge on the crooked cops who murdered her family. But when she goes in for revenge and is captured by the crooked agents, Léon comes and saves her and so begins the ultimate theme in the movie: Will Léon and Mathilda live happily ever after now that she's opened up his heart, or will the crooked cops have something to say about it? -Joseph.  </span>
    </div>
                
<p>
  <a class="btn btn-link show-more-less collapsed" data-bs-toggle="collapse" href="#myCollapsible" role="button" aria-expanded="false" aria-controls="myCollapsible">

  </a>

</p>

              

                        </p>
                      </div>
                    </div>
                      <div class="col-md-4 justify-self-end">
                      <img
                                      src="https://m.media-amazon.com/images/M/MV5BODllNWE0MmEtYjUwZi00ZjY3LThmNmQtZjZlMjI2YTZjYmQ0XkEyXkFqcGdeQXVyNTc1NTQxODI@.jpg"
                                      class="img-fluid rounded-start"
                                      alt="Léon: The Professional"
                                    />
                    </div>
                     </div>
                </div>
              </div>
            </div>
          
            <div class="col-lg-12">
  <div class="map-container">
                  <div id="map"></div>
                  <div id="loader">
                    <div class="spinner-border" role="status">
                      <span class="sr-only d-none">Loading...</span>
                    </div>
                  </div>
                </div>

            </div>

 <table class="table">
          <tr class="table__header">

            <th class="table__cell">Location</th>
           <th class="table__cell">Coordiantes</th>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Paris, France </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.85658</span>, <span class="lon">2.35183</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Chelsea, New York, New York, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.7447</span>, <span class="lon">-73.9954</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">71 East 97th Street, New York, New York 10029, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.78748</span>, <span class="lon">-73.95223</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">222 West 23rd Street, New York, New York 10011, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.74441</span>, <span class="lon">-73.99679</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">9th Ave, Queens, New York 11357, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.79063</span>, <span class="lon">-73.827405</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">East Harlem, New York, New York, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.7947</span>, <span class="lon">-73.9425</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Hoboken, New Jersey, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.7433</span>, <span class="lon">-74.0324</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Chinatown, New York, New York, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.716</span>, <span class="lon">-73.9974</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">El Barrio Cleaners, 211 E 106th St, New York, New York 10029, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.79154</span>, <span class="lon">-73.943886</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Spanish Harlem, New York, New York, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.79</span>, <span class="lon">-73.95</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Upper East Side, New York, New York, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.78</span>, <span class="lon">-73.96</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Club Quarters Hotel, 52 William St, New York, New York 10005, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.707113</span>, <span class="lon">-74.008742</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Manhattan Municipal Building, 1 Centre St, New York, New York 10007, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.713043</span>, <span class="lon">-74.00404649999999</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">West New York, New Jersey, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.788</span>, <span class="lon">-74.0143</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">7 W 54th St, Manhattan, New York 10019, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.76181</span>, <span class="lon">-73.97696</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Mulberry Street and Grand Street, New York, New York 10002, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.7193363</span>, <span class="lon">-73.9972995</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">East Broadway and Market Street, New York, New York 10002, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.7136968</span>, <span class="lon">-73.9945593</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Prison Ship Martyrs Monument, Fort Greene Park, New York, New York 11201, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.68917359673309</span>, <span class="lon">-73.9826731487689</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Marriott Vacation Club Pulse, 33 West 37th Street, New York, New York 10018, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.751296</span>, <span class="lon">-73.984819</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">New Jersey, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.1502478924</span>, <span class="lon">-74.3893168105238</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">New York, New York, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">40.7306</span>, <span class="lon">-73.9866</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">39.3812661305678</span>, <span class="lon">-97.9222112121185</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">France </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.8249046208979</span>, <span class="lon">2.61878695312962</span></a>
                
            </td>
          </tr>
          </tr>

        </table>
          </div>
        </div>


    </main>



     <%- include(`${partials}/footer`); -%> <%-include(`${partials}/homeScripts`); -%>

  <script type="text/javascript">

var locations =[{"bbox": [[40.1502478924, -74.3893168105238], [40.68917359673309, -73.9826731487689], [40.707113, -74.008742]], "data": [{"lat": 48.85658, "lon": 2.35183, "name": "Paris, France"}, {"lat": 40.7447, "lon": -73.9954, "name": "Chelsea, New York, New York, United States"}, {"lat": 40.78748, "lon": -73.95223, "name": "71 East 97th Street, New York, New York 10029, United States"}, {"lat": 40.74441, "lon": -73.99679, "name": "222 West 23rd Street, New York, New York 10011, United States"}, {"lat": 40.79063, "lon": -73.827405, "name": "9th Ave, Queens, New York 11357, United States"}, {"lat": 40.7947, "lon": -73.9425, "name": "East Harlem, New York, New York, United States"}, {"lat": 40.7433, "lon": -74.0324, "name": "Hoboken, New Jersey, United States"}, {"lat": 40.716, "lon": -73.9974, "name": "Chinatown, New York, New York, United States"}, {"lat": 40.79154, "lon": -73.943886, "name": "El Barrio Cleaners, 211 E 106th St, New York, New York 10029, United States"}, {"lat": 40.79, "lon": -73.95, "name": "Spanish Harlem, New York, New York, United States"}, {"lat": 40.78, "lon": -73.96, "name": "Upper East Side, New York, New York, United States"}, {"lat": 40.707113, "lon": -74.008742, "name": "Club Quarters Hotel, 52 William St, New York, New York 10005, United States"}, {"lat": 40.713043, "lon": -74.00404649999999, "name": "Manhattan Municipal Building, 1 Centre St, New York, New York 10007, United States"}, {"lat": 40.788, "lon": -74.0143, "name": "West New York, New Jersey, United States"}, {"lat": 40.76181, "lon": -73.97696, "name": "7 W 54th St, Manhattan, New York 10019, United States"}, {"lat": 40.7193363, "lon": -73.9972995, "name": "Mulberry Street and Grand Street, New York, New York 10002, United States"}, {"lat": 40.7136968, "lon": -73.9945593, "name": "East Broadway and Market Street, New York, New York 10002, United States"}, {"lat": 40.68917359673309, "lon": -73.9826731487689, "name": "Prison Ship Martyrs Monument, Fort Greene Park, New York, New York 11201, United States"}, {"lat": 40.751296, "lon": -73.984819, "name": "Marriott Vacation Club Pulse, 33 West 37th Street, New York, New York 10018, United States"}, {"lat": 40.1502478924, "lon": -74.3893168105238, "name": "New Jersey, United States"}, {"lat": 40.7306, "lon": -73.9866, "name": "New York, New York, United States"}, {"lat": 39.3812661305678, "lon": -97.9222112121185, "name": "United States"}, {"lat": 47.8249046208979, "lon": 2.61878695312962, "name": "France"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
    //console.log($(`${target} span`).first())

   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
else if (!locations[0].bbox){

  console.log('no box')
  console.log(locations[0].data[0].lat)
  let lat = locations[0].data[0].lat
  let lon = locations[0].data[0].lon
map.setView([lat, lon], 20);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
</script>
  </body>
</html>