<!DOCTYPE html>
<html lang="en" dir="ltr">
<%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>

  <body class="film-location">
    <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
    <![endif]-->

    <noscript>
      <h3>Please enable JavaScript in order to view this site properly.</h3>
    </noscript>

    <%- include(`${partials}/nav`); -%>

     <main class="mb-4 mt-5">



        <div class="container px-4 px-lg-5">


            <div class="row align-items-md-stretch">
                
              <div class="col-md-12">

                <div class="card mb-3" id="film-details">
                  <div class="row g-0">
                    <div class="col-md-8 px-3 py-3">
                      <div class="card-body">
                      <h3 class="card-title">Chinatown</h3>
          <p class="card-text mb-0">


  <span > A private detective hired to expose an adulterer in 1930s Los Angeles finds himself caught up in a web of deceit, corruption, and murder.  </span>
                          <span > In 1937 Los Angeles, private investigator Jake 'J.J.' Gittes specializes in cheating-spouse cases. His current target is Hollis Mulwray, high-profile chief engineer for the Los Angeles Department of Water and Power, whose wife suspects him of infidelity. In following Mulwray, Gittes witnesses some usual business dealings, such as a public meeting for construction of a new dam to create additional water supply for Los Angeles, as fresh water is vital to the growing community during the chronic drought; Mulwray opposes the dam. Eventually Gittes sees Mulwray meeting with an unknown young woman who isn't his wife. Once news of the supposed tryst between Mulwray and this woman hits the media, additional information comes to light that makes Gittes believe that Mulwray is being framed for something and that he himself is being set up. In his investigation of the issue behind Mulwray's framing and his own setup, Gittes is assisted by Mulwray's wife Evelyn, but he thinks she isn't being forthright with him. The further he gets into the investigation, the more secrets he uncovers about the Mulwrays' professional and personal dealings, including Mulwray's former business-partnership with Evelyn's father, Noah Cross. The identity of the unknown woman may be the key to uncovering the whole story. -Huggo.  </span>
                          <span > In 1937 Los Angeles, private detective J.J. Gittes is hired by a woman to investigate whether her husband is having an affair. The husband, Hollis Mulwray, is the chief water engineer for the city of Los Angeles. Soon after Gittes delivers the photos that seem to confirm her suspicions, he meets the man's real wife and, intrigued, investigates further. Then Hollis Mulwray turns up dead. -grantss.  </span>
                          
                <div class="collapse" id="myCollapsible">
                    <div id = "module">



                    </div>
<span class="additional-information" > Profoundly cynical but also empathetic, 1937 Los Angeles' well-dressed private investigator and expert in adultery cases, Jake Gittes, runs a successful business. Then, all of a sudden, a cryptic blonde walks into his office, convinced that her husband, Hollis Mulwray, the chief engineer for the Los Angeles Department of Water and Power, is having an affair. And, just like that, Gittes finds himself entangled in a murky case of deceit and murder. As a result, corrupt government officials and murderous henchmen are after Gittes for sticking his nose into an elaborate and dangerous conspiracy, and as if that weren't enough, Jake is now starting to believe that he's been had. However, in this thorny case, almost everybody has a skeleton in the closet. Can Gittes get to the bottom of it before it is too late? -Nick Riganas.  </span>
    <span class="additional-information" > In 1937, in Los Angeles, the private investigator J.J. Gittes is hired by a woman called Evelyn Mulwray to follow her husband Hollis Mulwray to know if he is having an affair. Hollis is the Los Angeles Department of Water and Power Chief Engineer, who is refusing to create a new water reservoir that he considers unsafe. Soon Gittes sees Hollis with a girl and photographs them. Then he follows Hollis, and he sees water being released from the reservoir during the night. On the next morning, his photos of Hollis are published on a newspaper but when he returns to his office, he meets the real Evelyn Mulwray with her lawyer to sue him. Gittes realizes that he was deceived by someone that wanted to harm Hollis Mulwray, but soon he finds that the chief engineer was drowned in the reservoir. His further investigation shows that the water supply is disrupted to the local farmers and someone is buying the cheap lands to profit in the near future. -Claudio Carvalho, Rio de Janeiro, Brazil.  </span>
    <span class="additional-information" > Los Angeles detective Jake Gittes is hired by a "Mrs. Mulwray" to spy on her husband. Shortly after Gittes is hired, the real Mrs. Mulwray appears in his office threatening to sue if he doesn't drop the case immediately. Gittes pursues the case anyway, slowly uncovering a vast conspiracy centering on water management, state and municipal corruption, land use, and real estate; and involving at least one murder. -filmfactsman.  </span>
    </div>
                
<p>
  <a class="btn btn-link show-more-less collapsed" data-bs-toggle="collapse" href="#myCollapsible" role="button" aria-expanded="false" aria-controls="myCollapsible">

  </a>

</p>

              

                        </p>
                      </div>
                    </div>
                      <div class="col-md-4 justify-self-end">
                      <img
                                      src="https://m.media-amazon.com/images/M/MV5BMjJkMDZhYzItZTFhMi00ZGI4LThlNTAtZDNlYmEwNjFkNDYzXkEyXkFqcGdeQXVyMjUzOTY1NTc@.jpg"
                                      class="img-fluid rounded-start"
                                      alt="Chinatown"
                                    />
                    </div>
                     </div>
                </div>
              </div>
            </div>
          
            <div class="col-lg-12">
  <div class="map-container">
                  <div id="map"></div>
                  <div id="loader">
                    <div class="spinner-border" role="status">
                      <span class="sr-only d-none">Loading...</span>
                    </div>
                  </div>
                </div>

            </div>

 <table class="table">
          <tr class="table__header">

            <th class="table__cell">Location</th>
           <th class="table__cell">Coordiantes</th>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">North Spring Street, Los Angeles, California 90012, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.05843</span>, <span class="lon">-118.23915</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Tujunga, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.2522</span>, <span class="lon">-118.2884</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Koreatown, Los Angeles, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.0578</span>, <span class="lon">-118.3009</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">The Archer School For Girls, 11725 W Sunset Blvd, Los Angeles, California 90049, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.065284500000004</span>, <span class="lon">-118.471472</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Echo Park Lake, 751 Echo Park Ave, Los Angeles, California 90026, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.07314</span>, <span class="lon">-118.260174</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Point Fermin, San Pedro, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">33.72</span>, <span class="lon">-118.29</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">3240 Sunset Valley Road, Moorpark, California 93021, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.252375</span>, <span class="lon">-118.85108</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Ord Street, Los Angeles, California 90012, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.06034</span>, <span class="lon">-118.23965</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Santa Catalina, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">33.35</span>, <span class="lon">-118.33</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Channel Islands, Oxnard, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.18</span>, <span class="lon">-119.23</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">530 Grand Avenue, Pasadena, California 91105, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.13656</span>, <span class="lon">-118.161755</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Portuguese Bend, Rancho Palos Verdes, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">33.74</span>, <span class="lon">-118.36</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Los Angeles, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.0544</span>, <span class="lon">-118.2439</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">West Hollywood, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.09</span>, <span class="lon">-118.3617</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">1972 Canyon Drive, Los Angeles, California 90068, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.10732</span>, <span class="lon">-118.31677</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">848 East Kensington Road, Los Angeles, California 90026, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.07222</span>, <span class="lon">-118.25257</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">5030 Lemon Grove Avenue, Los Angeles, California 90029, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.08601</span>, <span class="lon">-118.30622</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Brentwood, Los Angeles, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.0636</span>, <span class="lon">-118.4748</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Grand Avenue, South Pasadena, California 91030, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.12134</span>, <span class="lon">-118.16284</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">3198 West 7th Street, Los Angeles, California 90005, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.05949</span>, <span class="lon">-118.29504</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">304 Broadway, Santa Monica, California 90404, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.01452</span>, <span class="lon">-118.494297</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Crescent Bay Drive, Laguna Beach, California 92651, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">33.547755</span>, <span class="lon">-117.8033</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">El Rancho, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">36.22</span>, <span class="lon">-119.07</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Glendale, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.1423</span>, <span class="lon">-118.2484</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Hollywood Blvd, Burbank, California 90027, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.15843</span>, <span class="lon">-118.34964</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Santa Monica, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.0196</span>, <span class="lon">-118.487</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Canyon Drive, Los Angeles, California 90068, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.11055</span>, <span class="lon">-118.31685</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Midtown, Agoura Hills, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.15</span>, <span class="lon">-118.76</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Silver Lake, Los Angeles, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.0899</span>, <span class="lon">-118.2684</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">1315 South El Molino Avenue, Pasadena, California 91106, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.12333</span>, <span class="lon">-118.13761</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Lake Hollywood Reservoir, Lake Hollywood Dr, Los Angeles, California 90068, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.122321</span>, <span class="lon">-118.333225</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Downtown, Los Angeles, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.05</span>, <span class="lon">-118.23</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Venice Canals, Dell Ave, Venice, California 90291, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">33.98344</span>, <span class="lon">-118.466314</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Stage 32: Paramount Studios, 5555 Melrose Ave, Los Angeles, California 90038, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.086669</span>, <span class="lon">-118.32107300000001</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Chinatown, Los Angeles, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.0625</span>, <span class="lon">-118.239</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Artists and Fleas, Venice, California 90291, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">33.991325</span>, <span class="lon">-118.470942</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">39.3812661305678</span>, <span class="lon">-97.9222112121185</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Hollywood Hills, Los Angeles, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.1325</span>, <span class="lon">-118.3513</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Los Angeles, California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">34.0544</span>, <span class="lon">-118.2439</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">California, United States </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">37.0743595873</span>, <span class="lon">-119.699375153073</span></a>
                
            </td>
          </tr>
          </tr>

        </table>
          </div>
        </div>


    </main>



     <%- include(`${partials}/footer`); -%> <%-include(`${partials}/homeScripts`); -%>

  <script type="text/javascript">

var locations =[{"bbox": [[33.35, -118.33], [33.547755, -117.8033], [33.72, -118.29]], "data": [{"lat": 34.05843, "lon": -118.23915, "name": "North Spring Street, Los Angeles, California 90012, United States"}, {"lat": 34.2522, "lon": -118.2884, "name": "Tujunga, California, United States"}, {"lat": 34.0578, "lon": -118.3009, "name": "Koreatown, Los Angeles, California, United States"}, {"lat": 34.065284500000004, "lon": -118.471472, "name": "The Archer School For Girls, 11725 W Sunset Blvd, Los Angeles, California 90049, United States"}, {"lat": 34.07314, "lon": -118.260174, "name": "Echo Park Lake, 751 Echo Park Ave, Los Angeles, California 90026, United States"}, {"lat": 33.72, "lon": -118.29, "name": "Point Fermin, San Pedro, California, United States"}, {"lat": 34.252375, "lon": -118.85108, "name": "3240 Sunset Valley Road, Moorpark, California 93021, United States"}, {"lat": 34.06034, "lon": -118.23965, "name": "Ord Street, Los Angeles, California 90012, United States"}, {"lat": 33.35, "lon": -118.33, "name": "Santa Catalina, California, United States"}, {"lat": 34.18, "lon": -119.23, "name": "Channel Islands, Oxnard, California, United States"}, {"lat": 34.13656, "lon": -118.161755, "name": "530 Grand Avenue, Pasadena, California 91105, United States"}, {"lat": 33.74, "lon": -118.36, "name": "Portuguese Bend, Rancho Palos Verdes, California, United States"}, {"lat": 34.0544, "lon": -118.2439, "name": "Los Angeles, California, United States"}, {"lat": 34.09, "lon": -118.3617, "name": "West Hollywood, California, United States"}, {"lat": 34.10732, "lon": -118.31677, "name": "1972 Canyon Drive, Los Angeles, California 90068, United States"}, {"lat": 34.07222, "lon": -118.25257, "name": "848 East Kensington Road, Los Angeles, California 90026, United States"}, {"lat": 34.08601, "lon": -118.30622, "name": "5030 Lemon Grove Avenue, Los Angeles, California 90029, United States"}, {"lat": 34.0636, "lon": -118.4748, "name": "Brentwood, Los Angeles, California, United States"}, {"lat": 34.12134, "lon": -118.16284, "name": "Grand Avenue, South Pasadena, California 91030, United States"}, {"lat": 34.05949, "lon": -118.29504, "name": "3198 West 7th Street, Los Angeles, California 90005, United States"}, {"lat": 34.01452, "lon": -118.494297, "name": "304 Broadway, Santa Monica, California 90404, United States"}, {"lat": 33.547755, "lon": -117.8033, "name": "Crescent Bay Drive, Laguna Beach, California 92651, United States"}, {"lat": 36.22, "lon": -119.07, "name": "El Rancho, California, United States"}, {"lat": 34.1423, "lon": -118.2484, "name": "Glendale, California, United States"}, {"lat": 34.15843, "lon": -118.34964, "name": "Hollywood Blvd, Burbank, California 90027, United States"}, {"lat": 34.0196, "lon": -118.487, "name": "Santa Monica, California, United States"}, {"lat": 34.11055, "lon": -118.31685, "name": "Canyon Drive, Los Angeles, California 90068, United States"}, {"lat": 34.15, "lon": -118.76, "name": "Midtown, Agoura Hills, California, United States"}, {"lat": 34.0899, "lon": -118.2684, "name": "Silver Lake, Los Angeles, California, United States"}, {"lat": 34.12333, "lon": -118.13761, "name": "1315 South El Molino Avenue, Pasadena, California 91106, United States"}, {"lat": 34.122321, "lon": -118.333225, "name": "Lake Hollywood Reservoir, Lake Hollywood Dr, Los Angeles, California 90068, United States"}, {"lat": 34.05, "lon": -118.23, "name": "Downtown, Los Angeles, California, United States"}, {"lat": 33.98344, "lon": -118.466314, "name": "Venice Canals, Dell Ave, Venice, California 90291, United States"}, {"lat": 34.086669, "lon": -118.32107300000001, "name": "Stage 32: Paramount Studios, 5555 Melrose Ave, Los Angeles, California 90038, United States"}, {"lat": 34.0625, "lon": -118.239, "name": "Chinatown, Los Angeles, California, United States"}, {"lat": 33.991325, "lon": -118.470942, "name": "Artists and Fleas, Venice, California 90291, United States"}, {"lat": 39.3812661305678, "lon": -97.9222112121185, "name": "United States"}, {"lat": 34.1325, "lon": -118.3513, "name": "Hollywood Hills, Los Angeles, California, United States"}, {"lat": 34.0544, "lon": -118.2439, "name": "Los Angeles, California, United States"}, {"lat": 37.0743595873, "lon": -119.699375153073, "name": "California, United States"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
    //console.log($(`${target} span`).first())

   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
else if (!locations[0].bbox){

  console.log('no box')
  console.log(locations[0].data[0].lat)
  let lat = locations[0].data[0].lat
  let lon = locations[0].data[0].lon
map.setView([lat, lon], 20);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
</script>
  </body>
</html>