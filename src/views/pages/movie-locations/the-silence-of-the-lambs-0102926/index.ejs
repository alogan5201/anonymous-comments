<!DOCTYPE html>
<html lang="en" dir="ltr">
    <%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>
    <body class="film-location film-details">
        <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
<![endif]-->
        <noscript>
            <h3>Please enable JavaScript in order to view this site properly.</h3>
        </noscript>
        <%- include(`${partials}/nav`); -%>
        <main class="mb-4 mt-5">
            <div class="container px-4 px-lg-5">
                <%- include(`${partials}/autocomplete`); -%>
                <div class="row align-items-md-stretch">
                    <div class="col-md-12">
                        <div class="card mb-3" id="film-details">
                            <div class="row g-0">
                                <div class="col-md-8 px-3 py-3">
                                    <div class="card-body">
                                        <h3 class="card-title">The Silence of the Lambs</h3>
                                        <p class="card-text mb-0">
                                            <span id="mainPlotContent"> A young F.B.I. cadet must receive the help of an incarcerated and manipulative cannibal killer to help catch another serial killer, a madman who skins his victims. F.B.I. trainee Clarice Starling (Jodie Foster) works hard to advance her career, while trying to hide or put behind her West Virginia roots, of which if some knew, would automatically classify her as being backward or white trash. After graduation, she aspires to work in the agency's Behavioral Science Unit under the leadership of Jack Crawford (Scott Glenn). While she is still a trainee, Crawford asks her to question Dr. Hannibal Lecter (Sir Anthony Hopkins), a psychiatrist imprisoned, thus far, for eight years in maximum security isolation for being a serial killer who cannibal... </span>
                                                
                                                    <div class="collapse" id="movieLocationCollapsible">
                                                        <span id="metaPlotContent"class="additional-information"> ized his victims. Clarice is able to figure out the assignment is to pick Lecter's brains to help them solve another serial murder case, that of someone coined by the media as  Buffalo Bill  (Ted Levine), who has so far killed five victims, all located in the eastern U.S., all young women, who are slightly overweight (especially around the hips), all who were drowned in natural bodies of water, and all who were stripped of large swaths of skin. She also figures that Crawford chose her, as a woman, to be able to trigger some emotional response from Lecter. After speaking to Lecter for the first time, she realizes that everything with him will be a psychological game, with her often having to read between the very cryptic lines he provides. She has to decide how much she will play along, as his request in return for talking to him is to expose herself emotionally to him. The case takes a more dire turn when a sixth victim is discovered, this one from who they are able to retrieve a key piece of evidence, if Lecter is being forthright as to its meaning. A potential seventh victim is high profile Catherine Martin (Brooke Smith), the daughter of Senator Ruth Martin (Diane Baker), which places greater scrutiny on the case as they search for a hopefully still alive Catherine. Who may factor into what happens is Dr. Frederick Chilton (Anthony Heald), the warden at the prison, an opportunist who sees the higher profile with Catherine, meaning a higher profile for himself if he can insert himself successfully into the proceedings. Huggo Perplexed by a string of grisly murders elaborately executed by the elusive mass-killer nicknamed  Buffalo Bill , the vulnerable and untried F.B.I. trainee, Clarice Starling, is assigned by the Special Agent, Jack Crawford, to assist in the manhunt. Hoping to attain a clearer perception of the psychopathic serial killer's modus operandi, the young investigator reluctantly accepts the help of another hideous monster: the brilliant psychiatrist and cannibalistic mass-murderer, Dr Hannibal Lecter. Now, with every visit to the manipulative doctor's heavily reinforced prison cell, Clarice delves just a little bit deeper into the dark mind of a homicidal maniac; however, how far is she willing to go to unearth pure evil? Nick Riganas Young F.B.I. trainee Clarice Starling (Jodie Foster) is assigned to help find a missing woman to save her from a psychopathic serial killer (Ted Levine) who skins his victims. Clarice attempts to gain a better insight into the twisted mind of the killer by talking to another psychopath: Dr. Hannibal Lecter (Sir Anthony Hopkins), who used to be a respected psychiatrist. F.B.I. Special Agent Jack Crawford (Scott Glenn) believes that Lecter, who is also a very powerful and clever mind manipulator, has the answers to their questions and can help locate the killer. However, Clarice must first gain Lecter's confidence before the inmate will give away any information. Sami Al-Taher  Clarice Starling (Jodie Foster), a young intelligent F.B.I. trainee, has been sent to the Baltimore state hospital for the criminally insane to interview an inmate, Dr. Hannibal  the cannibal  Lecter (Sir Anthony Hopkins), a brilliant renowned psychiatrist turned infamous psychopathic serial killer. She must match wits with Lecter, who has the darkest of all minds, and trust him to give her clues in the search for  Buffalo Bill  (Ted Levine), a nickname given to a loose, unknown, unstoppable psychopathic serial killer. ahmetkozan A psychopath known as  Buffalo Bill  (Ted Levine) is kidnapping and murdering young women across the Midwest. Believing it takes one to know one, the F.B.I. sends trainee Clarice Starling (Jodie Foster) to interview a demented prisoner who may provide psychological insight and clues to the killer's actions. The prisoner is psychiatrist Dr. Hannibal Lecter (Sir Anthony Hopkins), a brilliant, murderous cannibal who will only help Starling if she feeds his morbid curiosity with details of her own complicated life. This twisted relationship forces Starling to not only confront her psychological demons, but leads her face to face with a demented, heinous killer; an incarnation of evil so powerful, that she may not have the courage, or strength, to stop him. Robert Lynch  </span>
                                                    </div>
                                                    <p>
                                                        <a class="btn btn-link show-more-less collapsed"
                                                           id="myCollapsibleBtn"
                                                           role="button"></a>
                                                    </p>
                                                
                                            </p>
                                    </div>
                                </div>
                                <div class="col-md-4 justify-self-end">
                                        <img src="https://m.media-amazon.com/images/M/MV5BNjNhZTk0ZmEtNjJhMi00YzFlLWE1MmEtYzM1M2ZmMGMwMTU4XkEyXkFqcGdeQXVyNjU0OTQ0OTY@.jpg"
                                             class="img-fluid rounded-start"
                                             alt="The Silence of the Lambs"/>
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="map-container">
                        <div id="map"></div>
                        <div id="loader">
                            <div class="spinner-border" role="status">
                                <span class="sr-only d-none">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table">
                    <tr class="table__header">
                        <th class="table__cell">Location</th>
                        <th class="table__cell">Coordiantes</th>
                    </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Bimini, Bahamas</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">25.73333</span>, <span class="lon">-79.25</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Canonsburg, Pennsylvania, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.26257</span>, <span class="lon">-80.18728</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Bellaire, Ohio, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.016184</span>, <span class="lon">-80.742305</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Lindberg Avenue, Pittsburgh, Pennsylvania 15223, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.51958</span>, <span class="lon">-79.95746</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Pittsburgh, Pennsylvania, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.441694</span>, <span class="lon">-79.990086</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Clay County, West Virginia, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">38.46</span>, <span class="lon">-81.07</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Front Street, Crescent, Pennsylvania 15046, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.55838</span>, <span class="lon">-80.2192</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Cafe Fifth Ave, 818 5th Ave, Pittsburgh, Pennsylvania 15219, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.438926</span>, <span class="lon">-79.992048</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">8 Circle St, Perryopolis, Pennsylvania 15473, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.09041</span>, <span class="lon">-79.72181</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">FBI Academy, Stafford, Virginia 22554, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">38.525299</span>, <span class="lon">-77.439004</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Layton, Pennsylvania, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.090352</span>, <span class="lon">-79.723375</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">McKeesport, Pennsylvania, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.347847</span>, <span class="lon">-79.864215</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">West Homestead, Pennsylvania, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.393958</span>, <span class="lon">-79.911995</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Main Street West, Rural Valley, Pennsylvania 16249, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.79965</span>, <span class="lon">-79.32152</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">4141 Fifth Avenue, Pittsburgh, Pennsylvania 15213, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.44504</span>, <span class="lon">-79.95643</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Carnegie Museum of Natural History, 4400 Forbes Ave, Pittsburgh, Pennsylvania 15213, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.443391500000004</span>, <span class="lon">-79.9502835</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">U.S. Department Of Labor (DOL)  Frances Perkins Building, 200 Constitution Ave NW, Washington, District of Columbia 20001, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">38.894269</span>, <span class="lon">-77.014263</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Pittsburgh, Pennsylvania, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.441694</span>, <span class="lon">-79.990086</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Memphis, Tennessee, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">35.149022</span>, <span class="lon">-90.051629</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Washington, District of Columbia, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">38.895037</span>, <span class="lon">-77.036543</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Tennessee, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">35.9885949444</span>, <span class="lon">-85.9823352140893</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Virginia, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">37.677592044</span>, <span class="lon">-78.6190526172645</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">39.3812661305678</span>, <span class="lon">-97.9222112121185</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Ohio, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">40.4174201146</span>, <span class="lon">-82.7114488167578</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Pennsylvania, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">41.0911397651</span>, <span class="lon">-78.2907462468837</span></a>
                            </td>
                        </tr>
                    </table>
            </div>
        </main>
        <%- include(`${partials}/footer`); -%> <%- include(`${partials}/page-scripts/movie-location-scripts`); -%>
        <script type="text/javascript">
var locations =[{"bbox": [[38.525299, -77.439004], [38.894269, -77.014263], [38.895037, -77.036543]], "data": [{"lat": 25.73333, "lon": -79.25, "name": "Bimini, Bahamas"}, {"lat": 40.26257, "lon": -80.18728, "name": "Canonsburg, Pennsylvania, United States"}, {"lat": 40.016184, "lon": -80.742305, "name": "Bellaire, Ohio, United States"}, {"lat": 40.51958, "lon": -79.95746, "name": "Lindberg Avenue, Pittsburgh, Pennsylvania 15223, United States"}, {"lat": 40.441694, "lon": -79.990086, "name": "Pittsburgh, Pennsylvania, United States"}, {"lat": 38.46, "lon": -81.07, "name": "Clay County, West Virginia, United States"}, {"lat": 40.55838, "lon": -80.2192, "name": "Front Street, Crescent, Pennsylvania 15046, United States"}, {"lat": 40.438926, "lon": -79.992048, "name": "Cafe Fifth Ave, 818 5th Ave, Pittsburgh, Pennsylvania 15219, United States"}, {"lat": 40.09041, "lon": -79.72181, "name": "8 Circle St, Perryopolis, Pennsylvania 15473, United States"}, {"lat": 38.525299, "lon": -77.439004, "name": "FBI Academy, Stafford, Virginia 22554, United States"}, {"lat": 40.090352, "lon": -79.723375, "name": "Layton, Pennsylvania, United States"}, {"lat": 40.347847, "lon": -79.864215, "name": "McKeesport, Pennsylvania, United States"}, {"lat": 40.393958, "lon": -79.911995, "name": "West Homestead, Pennsylvania, United States"}, {"lat": 40.79965, "lon": -79.32152, "name": "Main Street West, Rural Valley, Pennsylvania 16249, United States"}, {"lat": 40.44504, "lon": -79.95643, "name": "4141 Fifth Avenue, Pittsburgh, Pennsylvania 15213, United States"}, {"lat": 40.443391500000004, "lon": -79.9502835, "name": "Carnegie Museum of Natural History, 4400 Forbes Ave, Pittsburgh, Pennsylvania 15213, United States"}, {"lat": 38.894269, "lon": -77.014263, "name": "U.S. Department Of Labor (DOL)  Frances Perkins Building, 200 Constitution Ave NW, Washington, District of Columbia 20001, United States"}, {"lat": 40.441694, "lon": -79.990086, "name": "Pittsburgh, Pennsylvania, United States"}, {"lat": 35.149022, "lon": -90.051629, "name": "Memphis, Tennessee, United States"}, {"lat": 38.895037, "lon": -77.036543, "name": "Washington, District of Columbia, United States"}, {"lat": 35.9885949444, "lon": -85.9823352140893, "name": "Tennessee, United States"}, {"lat": 37.677592044, "lon": -78.6190526172645, "name": "Virginia, United States"}, {"lat": 39.3812661305678, "lon": -97.9222112121185, "name": "United States"}, {"lat": 40.4174201146, "lon": -82.7114488167578, "name": "Ohio, United States"}, {"lat": 41.0911397651, "lon": -78.2907462468837, "name": "Pennsylvania, United States"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                          
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
else if (!locations[0].bbox){

  console.log('no box')
  console.log(locations[0].data[0].lat)
  let lat = locations[0].data[0].lat
  let lon = locations[0].data[0].lon
map.setView([lat, lon], 20);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
        </script>
    </body>
</html>