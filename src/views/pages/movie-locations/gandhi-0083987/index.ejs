<!DOCTYPE html>
<html lang="en" dir="ltr">
    <%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>
    <body class="film-location film-details">
        <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
<![endif]-->
        <noscript>
            <h3>Please enable JavaScript in order to view this site properly.</h3>
        </noscript>
        <%- include(`${partials}/nav`); -%>
        <main class="mb-4 mt-5">
            <div class="container px-4 px-lg-5">
                <%- include(`${partials}/autocomplete`); -%>
                <div class="row align-items-md-stretch">
                    <div class="col-md-12">
                        <div class="card mb-3" id="film-details">
                            <div class="row g-0">
                                <div class="col-md-8 px-3 py-3">
                                    <div class="card-body">
                                        <h3 class="card-title">Gandhi</h3>
                                        <p class="card-text mb-0">
                                            <span id="mainPlotContent"> The life of the lawyer who became the famed leader of the Indian revolts against the British rule through his philosophy of nonviolent protest. In 1893, Mohandas K. Gandhi is thrown off a South African train for being an Indian and traveling in a first class compartment. Gandhi realizes that the laws are biased against Indians and decides to start a non-violent protest campaign for the rights of all Indians in South Africa. After numerous arrests and the unwanted attention of the world, the government finally relents by recognizing rights for Indians, though not for the native blacks of South Africa. After this victory, Gandhi is invited back to India, where he is now considered something of a national hero. He is urged to take up the fight... </span>
                                                
                                                    <div class="collapse" id="movieLocationCollapsible">
                                                        <span id="metaPlotContent"class="additional-information">  for India's independence from the British Empire. Gandhi agrees, and mounts a non-violent non-cooperation campaign of unprecedented scale, coordinating millions of Indians nationwide. There are some setbacks, such as violence against the protesters and Gandhi's occasional imprisonment. Nevertheless, the campaign generates great attention, and Britain faces intense public pressure. Too weak from World War II to continue enforcing its will in India, Britain finally grants India's independence. Indians celebrate this victory, but their troubles are far from over. Religious tensions between Hindus and Muslims erupt into nation-wide violence. Gandhi declares a hunger strike, saying he will not eat until the fighting stops. The fighting does stop eventually, but the country is divided. It is decided that the northwest area of India, and eastern part of India (current day Bangladesh), both places where Muslims are in the majority, will become a new country called Pakistan (West and East Pakistan respectively). It is hoped that by encouraging the Muslims to live in a separate country, violence will abate. Gandhi is opposed to the idea, and is even willing to allow Muhammad Ali Jinnah to become the first prime minister of India, but the Partition of India is carried out nevertheless. Gandhi spends his last days trying to bring about peace between both nations. He thereby angers many dissidents on both sides, one of whom finally gets close enough to assassinate him. gavin (gunmasterM@hotmail.com) The last fifty years of the life of Mahatma Gandhi leading to his assassination in 1948 is portrayed. In the late 1800's South Africa, then Indian-British attorney Mohandas K. Gandhi takes up the cause of fighting what he sees as racially discriminatory laws against colored people such as himself and other ethnic Indians. Being that South Africa is part of the British Empire, he is hoping that news of such in the British press will support his cause. Although violence is used against him by the authorities, his protests are only by peaceful means. Having made a name for himself as a motivator of peaceful action which he does not want confused with passivity, Gandhi returns to India in 1915, when he has now abandoned his western clothing for more basic self-made garb of shawls and loincloths. He is asked by prominent Indian figures of the day, such as Jawaharlal Nehru, Vallabhbhai Patel and Muhammad Ali Jinnah, to join the fight for Indian independence from the British, despite some within that group believing Gandhi's methods ineffective. Because of internal religious conflicts between the Hindus and minority Muslims among others, the British believe that an Indian self-government would lead to chaos, which to Gandhi is beside the point. But Gandhi's ability to rally the troops is enough to strike fear in the British controlled authorities, who do whatever they feel they need to quash his quiet revolution while trying not to make him appear the martyr. Even if Gandhi and his cohorts are able to achieve independence for their homeland, Gandhi must figure out how to control the dissent between the Hindus and the Muslims. Among those documenting the process are American journalist Vince Walker and American photojournalist Margaret Bourke-White, both on the most part sympathetic to Gandhi's cause. Huggo This acclaimed biographical drama presents major events in the life of Mohandas K. Gandhi, the beloved Indian leader who stood against British rule over his country. Dedicated to the concept of nonviolent resistance, Gandhi is initially dismissed by English officials, including the influential Lord Irwin, but eventually he and his cause become internationally renowned, and his gatherings of passive protest move India towards independence. Jwelch5742 When Mohandas Gandhi first set foot in British India, he had already been to Britain and South Africa, and had created quite a stir for the betterment of the people. But in India, he realized that he had first to live the life of a peasant to understand what it is to be an Indian. This resolve will lead him to shed his westerners clothing, don a simple loincloth, mobilize awareness of local industry, lessen dependence on imported clothing and material, the historic Dandee march for withdrawal of the salt tax, a fast unto death to stop the virtual slaughter of British troops, and be imprisoned several times. His resolve was to work with stalwarts such as Mohammed Ali Jinnah, Sardar Valabhbhai Patel, Professor Gokhale, J.B. Kripalani, Maulana Azad, and Pandit Jawaharlal Nehru to ensure first of all to get the British to quit India, and then run an Indian Government under the Congress party. Gandhi will soon realize that it is not enough to be just an Indian, for India has many facets - Muslim, Hindu, Sikh, Jewish, and Christian. The British relied on these many facets as an excuse for their continuance as they wanted to ensure that the minorities are not oppressed. Concerned over the inroads made by Gandhi to unite the Hindus, Muslims, and all others under a common umbrella, the British invited Jinnah for talks, and it is here that a seed was laid for a separate country called Pakistan. When Gandhi came to know about this, he pleaded with Jinnah to unite the Muslims, even take over as the first Prime Minister with his choice of Muslim candidates for Parliament, but separatist Jinnah had already made up his mind. The World Wars of 1914 and 1944 having taken its toll on Europe, and on Britain in particular, the weary British finally decided to leave India in 1947 - not the India they had conquered - but an India that was ready to be divided in East Pakistan and West Pakistan. Now after the much awaited independence was the real test for Gandhi - a test that will make him or break him - as he started a fast unto death to try and stop the violence that was threatening to break out into a civil war. rAjOo (gunwanti@hotmail.com) </span>
                                                    </div>
                                                    <p>
                                                        <a class="btn btn-link show-more-less collapsed"
                                                           id="myCollapsibleBtn"
                                                           role="button"></a>
                                                    </p>
                                                
                                            </p>
                                    </div>
                                </div>
                                <div class="col-md-4 justify-self-end">
                                        <img src="https://m.media-amazon.com/images/M/MV5BMzJiZDRmOWUtYjE2MS00Mjc1LTg1ZDYtNTQxYWJkZTg1OTM4XkEyXkFqcGdeQXVyNjUwNzk3NDc@.jpg"
                                             class="img-fluid rounded-start"
                                             alt="Gandhi"/>
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="map-container">
                        <div id="map"></div>
                        <div id="loader">
                            <div class="spinner-border" role="status">
                                <span class="sr-only d-none">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table">
                    <tr class="table__header">
                        <th class="table__cell">Location</th>
                        <th class="table__cell">Coordiantes</th>
                    </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Pune, Maharashtra, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">18.521428</span>, <span class="lon">73.854454</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Buckingham Palace, Buckingham Palace Rd, London, England SW1A 1AA, United Kingdom</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">51.500978</span>, <span class="lon">-0.1425615</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Kolkata, West Bengal, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">22.572672</span>, <span class="lon">88.363881</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Bromley, Greater London, England, United Kingdom</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">51.3897</span>, <span class="lon">0.0286</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Pune, Maharashtra, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">18.521428</span>, <span class="lon">73.854454</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Delhi, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">28.66667</span>, <span class="lon">77.21667</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">New Delhi, Delhi, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">28.613895</span>, <span class="lon">77.209006</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Bihar, Bihar, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">25.193957</span>, <span class="lon">85.517487</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Mumbai, Maharashtra, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">19.07599</span>, <span class="lon">72.877393</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Rajasthan, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">26.9710515219598</span>, <span class="lon">73.19536770545</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Shepperton Studios, Studios Rd, Shepperton, England TW17 0QD, United Kingdom</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">51.407444</span>, <span class="lon">-0.465177</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Delhi, India</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">28.66667</span>, <span class="lon">77.21667</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">High Commission of Malaysia, Islamabad, Islamabad Capital Territory, Pakistan</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">33.720283</span>, <span class="lon">73.111434</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">England, United Kingdom</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">52.38145972</span>, <span class="lon">-0.676181762467007</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">United Kingdom</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">54.2379333607472</span>, <span class="lon">-2.36966957036279</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Yangon, Yangon, Myanmar</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">16.8</span>, <span class="lon">96.15</span></a>
                            </td>
                        </tr>
                    <tr class="table__row">
                            <td class="table__cell">
                                <a href="#">Austin, Texas, United States</a>
                            </td>
                            <td class="table__cell">
                                <a href="#"><span class="lat">30.271129</span>, <span class="lon">-97.7437</span></a>
                            </td>
                        </tr>
                    </table>
            </div>
        </main>
        <%- include(`${partials}/footer`); -%> <%- include(`${partials}/page-scripts/movie-location-scripts`); -%>
        <script type="text/javascript">
var locations =[{"bbox": [[28.613895, 77.209006], [28.66667, 77.21667], [28.66667, 77.21667]], "data": [{"lat": 18.521428, "lon": 73.854454, "name": "Pune, Maharashtra, India"}, {"lat": 51.500978, "lon": -0.1425615, "name": "Buckingham Palace, Buckingham Palace Rd, London, England SW1A 1AA, United Kingdom"}, {"lat": 22.572672, "lon": 88.363881, "name": "Kolkata, West Bengal, India"}, {"lat": 51.3897, "lon": 0.0286, "name": "Bromley, Greater London, England, United Kingdom"}, {"lat": 18.521428, "lon": 73.854454, "name": "Pune, Maharashtra, India"}, {"lat": 28.66667, "lon": 77.21667, "name": "Delhi, India"}, {"lat": 28.613895, "lon": 77.209006, "name": "New Delhi, Delhi, India"}, {"lat": 25.193957, "lon": 85.517487, "name": "Bihar, Bihar, India"}, {"lat": 19.07599, "lon": 72.877393, "name": "Mumbai, Maharashtra, India"}, {"lat": 26.9710515219598, "lon": 73.19536770545, "name": "Rajasthan, India"}, {"lat": 51.407444, "lon": -0.465177, "name": "Shepperton Studios, Studios Rd, Shepperton, England TW17 0QD, United Kingdom"}, {"lat": 28.66667, "lon": 77.21667, "name": "Delhi, India"}, {"lat": 33.720283, "lon": 73.111434, "name": "High Commission of Malaysia, Islamabad, Islamabad Capital Territory, Pakistan"}, {"lat": 52.38145972, "lon": -0.676181762467007, "name": "England, United Kingdom"}, {"lat": 54.2379333607472, "lon": -2.36966957036279, "name": "United Kingdom"}, {"lat": 16.8, "lon": 96.15, "name": "Yangon, Yangon, Myanmar"}, {"lat": 30.271129, "lon": -97.7437, "name": "Austin, Texas, United States"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                          
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
else if (!locations[0].bbox){

  console.log('no box')
  console.log(locations[0].data[0].lat)
  let lat = locations[0].data[0].lat
  let lon = locations[0].data[0].lon
map.setView([lat, lon], 20);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
        </script>
    </body>
</html>