<!DOCTYPE html>
<html lang="en" dir="ltr">
<%- include(`${partials}/movieLocationHead.ejs`, {pageTitle: 'Film Locations'}); -%>

  <body class="film-location">
    <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
    <![endif]-->

    <noscript>
      <h3>Please enable JavaScript in order to view this site properly.</h3>
    </noscript>

    <%- include(`${partials}/nav`); -%>

     <main class="mb-4 mt-5">



        <div class="container px-4 px-lg-5">


            <div class="row align-items-md-stretch">
                
              <div class="col-md-12">

                <div class="card mb-3" id="film-details">
                  <div class="row g-0">
                    <div class="col-md-8 px-3 py-3">
                      <div class="card-body">
                      <h3 class="card-title">The Great Escape</h3>
          <p class="card-text mb-0">


  <span > Allied prisoners of war plan for several hundred of their number to escape from a German camp during World War II.  </span>
                          <span > Based on a true story, a group of allied escape artist-type prisoners-of-war are all put in an "escape proof" camp. Their leader decides to try to take out several hundred all at once. The first half of the movie is played for comedy, as the prisoners mostly outwit their jailers to dig the escape tunnel. The second half is high adventure as they use planes, trains, and boats to get out of occupied Europe. -John Vogel .  </span>
                          <span > In 1942, the Germans have built what they consider an escape-proof P.O.W. camp, where they plan to house all the problem P.O.W.s (those that have made multiple escape attempts in the past). What the Germans don't realize is that they've put all the best escape minds in one location. If they can't escape, these P.O.W.s believe it is their military duty to make the enemy place as much effort into their confinement as possible to divert them from other war-related pursuits. Royal Air Force Squadron Leader Bartlett plans not just a one or two man escape at a time like most escape attempts in the past have been, but a massive escape of two hundred fifty men through a series of tunnels. If one tunnel is found, they can focus on the others. Each escapee will be provided with a complete set of forged documents and standard clothing. With their reputations preceding them, each P.O.W. is assigned a specific task in carrying out the plan. Somewhat outside of the plot are Captain Hilts and Flying Officer Ives, who spent their first thirty days in camp in the cooler together. They who are unofficially assigned as the decoys who will make more rudimentary escape attempts. They ask Hilts to make a more serious task of reconnaissance of the local town if he ever does successfully escape, which of course means his recapture to bring the information back into camp and more time in the cooler. Beyond basic logistical problems and the Germans finding out what's going on, they have potential problems in certain P.O.W.s who may become liabilities dealing with their own personal issues. -Huggo.  </span>
                          
                <div class="collapse" id="myCollapsible">
                    <div id = "module">



                    </div>
<span class="additional-information" > The Nazis, exasperated at the number of escapes from their prison camps by a relatively small number of Allied prisoners, relocate them to a high-security "escape-proof" camp to sit out the remainder of the war. Undaunted, the prisoners plan one of the most ambitious escape attempts of World War II. Based on a true story. -Kevin Ackley .  </span>
    <span class="additional-information" > Based on a true story, this movie deals with the largest Allied escape attempt from a German P.O.W. camp during World War II. The first part of the movie focuses on the escape efforts within the camp and the process of secretly digging an escape tunnel. The second half deals with the massive effort by the German Gestapo to track down the over seventy escaped prisoners, who are at this point, throughout the Third Reich attempting to make their way to England and various neutral countries. -Anthony Hughes .  </span>
    </div>
                
<p>
  <a class="btn btn-link show-more-less collapsed" data-bs-toggle="collapse" href="#myCollapsible" role="button" aria-expanded="false" aria-controls="myCollapsible">

  </a>

</p>

              

                        </p>
                      </div>
                    </div>
                      <div class="col-md-4 justify-self-end">
                      <img
                                      src="https://m.media-amazon.com/images/M/MV5BNzA2NmYxMWUtNzBlMC00MWM2LTkwNmQtYTFlZjQwODNhOWE0XkEyXkFqcGdeQXVyNTIzOTk5ODM@.jpg"
                                      class="img-fluid rounded-start"
                                      alt="The Great Escape"
                                    />
                    </div>
                     </div>
                </div>
              </div>
            </div>
          
            <div class="col-lg-12">
  <div class="map-container">
                  <div id="map"></div>
                  <div id="loader">
                    <div class="spinner-border" role="status">
                      <span class="sr-only d-none">Loading...</span>
                    </div>
                  </div>
                </div>

            </div>

 <table class="table">
          <tr class="table__header">

            <th class="table__cell">Location</th>
           <th class="table__cell">Coordiantes</th>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Füssen, Bavaria, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.56667</span>, <span class="lon">10.7</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Bavaria, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.7775</span>, <span class="lon">11.43111</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Geiselgasteig, Grünwald, Bavaria, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.062632</span>, <span class="lon">11.547945</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">München, Bavaria, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.13333</span>, <span class="lon">11.56667</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">München, Bavaria, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.13333</span>, <span class="lon">11.56667</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Bavariafilmplatz 7, 82031 Grünwald, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.066591</span>, <span class="lon">11.549117</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Geiselgasteig, Grünwald, Bavaria, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.062632</span>, <span class="lon">11.547945</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Schloss Neuschwanstein, Neuschwansteinstr. 20, Schwangau, Bavaria 87645, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.557638</span>, <span class="lon">10.749785</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Perlacher Forst, Perlacher Forst, Perlacher Forst, Bavaria 82041, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.063827</span>, <span class="lon">11.576672</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">S Großhesselohe-Isartalbahnhof, Kreuzeckstr. 23-25, Pullach im Isartal, Bavaria 82049, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.0707675</span>, <span class="lon">11.530719</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Ebersberger Straße, 85570 Markt Schwaben, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.1871298</span>, <span class="lon">11.8694147</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Sebastianstraße, 87629 Füssen, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.5687795</span>, <span class="lon">10.7021456</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Speiden, Eisenberg, Bavaria, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.61056</span>, <span class="lon">10.61275</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Lechhalde, 87629 Füssen, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.5669033</span>, <span class="lon">10.7003286</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Bahnhof Pfronten-Ried, Bahnhofstr. 1, Pfronten, Bavaria 87459, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.583759</span>, <span class="lon">10.560715</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Bahnhof Füssen, Ruprechtstr., Füssen, Bavaria 87629, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.5704035</span>, <span class="lon">10.697481</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Füssener Straße, 87459 Pfronten, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.5956548</span>, <span class="lon">10.5588013</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Malerweg, 87459 Pfronten, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.5946098</span>, <span class="lon">10.5530338</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Penzing, Babensham, Bavaria, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.071479</span>, <span class="lon">12.249645</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Mariahilferstraße, 87637 Eisenberg, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.6108398</span>, <span class="lon">10.6123573</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Frauenried, 83730 Fischbachau, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.7769049</span>, <span class="lon">11.940954</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Theresienbrücke, Füssen, Bavaria 87629, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">47.565564</span>, <span class="lon">10.700114</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">Emden, Lower Saxony, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">53.37009</span>, <span class="lon">7.2031</span></a>
                
            </td>
          </tr>
          <tr class="table__row">
            <td class="table__cell">
             <a href="#">H Grünwald, Grünwald, Bavaria 82031, Germany </a>
               
            </td>
                <td class="table__cell">
                <a href="#"><span class="lat">48.067312</span>, <span class="lon">11.546399</span></a>
                
            </td>
          </tr>
          </tr>

        </table>
          </div>
        </div>


    </main>



     <%- include(`${partials}/footer`); -%> <%-include(`${partials}/homeScripts`); -%>

  <script type="text/javascript">

var locations =[{"bbox": [[47.557638, 10.749785], [47.565564, 10.700114], [47.56667, 10.7]], "data": [{"lat": 47.56667, "lon": 10.7, "name": "F\u00fcssen, Bavaria, Germany"}, {"lat": 48.7775, "lon": 11.43111, "name": "Bavaria, Germany"}, {"lat": 48.062632, "lon": 11.547945, "name": "Geiselgasteig, Gr\u00fcnwald, Bavaria, Germany"}, {"lat": 48.13333, "lon": 11.56667, "name": "M\u00fcnchen, Bavaria, Germany"}, {"lat": 48.13333, "lon": 11.56667, "name": "M\u00fcnchen, Bavaria, Germany"}, {"lat": 48.066591, "lon": 11.549117, "name": "Bavariafilmplatz 7, 82031 Gr\u00fcnwald, Germany"}, {"lat": 48.062632, "lon": 11.547945, "name": "Geiselgasteig, Gr\u00fcnwald, Bavaria, Germany"}, {"lat": 47.557638, "lon": 10.749785, "name": "Schloss Neuschwanstein, Neuschwansteinstr. 20, Schwangau, Bavaria 87645, Germany"}, {"lat": 48.063827, "lon": 11.576672, "name": "Perlacher Forst, Perlacher Forst, Perlacher Forst, Bavaria 82041, Germany"}, {"lat": 48.0707675, "lon": 11.530719, "name": "S Gro\u00dfhesselohe-Isartalbahnhof, Kreuzeckstr. 23-25, Pullach im Isartal, Bavaria 82049, Germany"}, {"lat": 48.1871298, "lon": 11.8694147, "name": "Ebersberger Stra\u00dfe, 85570 Markt Schwaben, Germany"}, {"lat": 47.5687795, "lon": 10.7021456, "name": "Sebastianstra\u00dfe, 87629 F\u00fcssen, Germany"}, {"lat": 47.61056, "lon": 10.61275, "name": "Speiden, Eisenberg, Bavaria, Germany"}, {"lat": 47.5669033, "lon": 10.7003286, "name": "Lechhalde, 87629 F\u00fcssen, Germany"}, {"lat": 47.583759, "lon": 10.560715, "name": "Bahnhof Pfronten-Ried, Bahnhofstr. 1, Pfronten, Bavaria 87459, Germany"}, {"lat": 47.5704035, "lon": 10.697481, "name": "Bahnhof F\u00fcssen, Ruprechtstr., F\u00fcssen, Bavaria 87629, Germany"}, {"lat": 47.5956548, "lon": 10.5588013, "name": "F\u00fcssener Stra\u00dfe, 87459 Pfronten, Germany"}, {"lat": 47.5946098, "lon": 10.5530338, "name": "Malerweg, 87459 Pfronten, Germany"}, {"lat": 48.071479, "lon": 12.249645, "name": "Penzing, Babensham, Bavaria, Germany"}, {"lat": 47.6108398, "lon": 10.6123573, "name": "Mariahilferstra\u00dfe, 87637 Eisenberg, Germany"}, {"lat": 47.7769049, "lon": 11.940954, "name": "Frauenried, 83730 Fischbachau, Germany"}, {"lat": 47.565564, "lon": 10.700114, "name": "Theresienbr\u00fccke, F\u00fcssen, Bavaria 87629, Germany"}, {"lat": 53.37009, "lon": 7.2031, "name": "Emden, Lower Saxony, Germany"}, {"lat": 48.067312, "lon": 11.546399, "name": "H Gr\u00fcnwald, Gr\u00fcnwald, Bavaria 82031, Germany"}]}];
var map = L.map('map').setView([0,0], 20);

const layer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
})


let locationData = locations[0].data
let tableCell = document.querySelectorAll('.table__cell a')

tableCell.forEach(box => {
  box.addEventListener('click', function handleClick(event) {
    event.preventDefault()
    let target = event.target
    //console.log($(`${target} span`).first())

   let boxChildren = $(this).children()
   if(boxChildren.length < 1 ){
const found = locationData.find(element => element.name == target.innerText);

    let lat = found.lat
    let lon = found.lon
    let name = found.name
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');

   } else {

     let first = $(this).children().first().text()
     let second = $(this).children().last().text()
     let lat = parseFloat(first)
     let lon = parseFloat(second)
     console.log(lat,lon)
   map.flyTo([lat, lon])

    $('html,body').animate({                                                          //  fine in moz, still quicker in chrome.
        scrollTop: $("#map").offset().top},
        'slow');
   }


});
});



const coords = []
    for (let index = 0; index < locations[0].data.length; index++) {
  const element = locations[0].data[index];
 coords.push([element.lat, element.lon])

  let marker = L.marker([element.lat, element.lon]);
  marker.bindPopup(element.name);
marker.addTo(map);

}

if(locations[0].bbox){

const box = locations[0].bbox
  console.log(JSON.stringify(box))
  map.fitBounds(box)
map.zoomOut(1);
}
else if (!locations[0].bbox){

  console.log('no box')
  console.log(locations[0].data[0].lat)
  let lat = locations[0].data[0].lat
  let lon = locations[0].data[0].lon
map.setView([lat, lon], 20);
}
layer.on('load', function (event) {
     document.getElementById('loader').classList.add('d-none')



});
layer.addTo(map);
</script>
  </body>
</html>