<!DOCTYPE html> <html lang=en dir=ltr> <head> <meta charset=utf-8> <meta http-equiv=x-ua-compatible content="ie=edge"> <meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"> <title> GeoTools | page </title> <!-- 55 character limit --> <link rel=canonical href=example.com> <meta name=description content="Boilerplate for a Static website using EJS and SASS"> <!-- 150 character limit --> <meta property=og:url content=example.com> <meta property=og:site_name content=GeoTools> <meta property=og:locale content=en_US> <meta property=og:type content=website> <meta property=og:title content=GeoTools> <meta property=og:description content="Boilerplate for a Static website using EJS and SASS"> <meta property=og:image content=""> <!-- generate image at https://realfavicongenerator.net/social/ --> <meta name=googlebot content=noarchive> <meta name=twitter:card content=summary> <meta name=twitter:title content=GeoTools> <meta name=twitter:description content="Boilerplate for a Static website using EJS and SASS"> <meta name=twitter:image content=""> <!-- generate image at https://realfavicongenerator.net/social/ --> <meta name=twitter:image:alt content=GeoTools> <meta name=twitter:site content=example.com> <meta name=author content="Brenton Cozby. https://brentoncozby.com"> <!-- favicons --> <link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png> <link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png> <link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png> <link rel=manifest href=/manifest.json> <link rel=mask-icon href=/safari-pinned-tab.svg color=#2b5797> <link href=https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css rel=stylesheet> <link rel=stylesheet href=./leaflet-bookmarks/dist/leaflet.bookmarks.min.css> <meta name=theme-color content=#ffffff> <link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css integrity="sha512-BnbUDfEUfV0Slx6TunuB042k9tuKe3xrD6q4mg5Ed72LTgzDIcLPxg6yI2gcMFRyomt+yJJxE+zJwNmxki6/RA==" crossorigin=anonymous referrerpolicy=no-referrer> <!-- Disable tap highlight on IE --> <meta name=msapplication-tap-highlight content=no> <!--[if lt IE 9]>
    <script
      src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"
      type="text/javascript"
    ></script>
    <script
      src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"
      type="text/javascript"
    ></script>
  <![endif]--> <link rel=stylesheet href=/css/index.181f67a0dad3d29e032a0df35837f330.css> <link rel=preload href=/js/vendor.9fa8f1e63fc9c96b1e784cecd87b25de.js as=script> <link rel=prefetch href=/js/vendor.9fa8f1e63fc9c96b1e784cecd87b25de.js> <link rel=preload href=/js/app.29e80a06c515447d81bd086eed2e4ada.js as=script> <link rel=prefetch href=/js/app.29e80a06c515447d81bd086eed2e4ada.js> </head> <body class=address-to-latlon> <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
    <![endif]--> <noscript> <h3>Please enable JavaScript in order to view this site properly.</h3> </noscript> <nav id=mainNav class="navbar navbar-expand-lg navbar-dark bg-dark"> <div class=container-fluid> <a class=navbar-brand href=/ >GeoTools</a> <button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> <div class="collapse navbar-collapse" id=navbarSupportedContent> <ul class="navbar-nav me-auto mb-2 mb-lg-0"> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false> Tools </a> <ul class=dropdown-menu aria-labelledby=navbarDropdown> <li> <a class=dropdown-item href=/ > <svg xmlns=http://www.w3.org/2000/svg class="bi me-2" width=16 height=16 viewBox="0 0 512 512"> <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --> <path d="M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36
                    74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62
                    3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64
                    39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99
                    65.51 0 90.5 24.99 24.99 65.51 24.99 90.5
                    0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22
                    37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25
                    0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0
                    13.25-10.75 24-24 24z"/> </svg> All Tools</a> </li> <hr class=dropdown-divider> <li> <a class=dropdown-item href=address-to-latlon.html> <svg class="bi me-2" width=16 height=16 xmlns=http://www.w3.org/2000/svg viewBox="0 0 576 512"> <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --> <path d="M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160
                      416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192
                      416l192 64V96L192 32v384zM554.06 33.16L416
                      96v384l139.88-55.95A31.996 31.996 0 0 0 576
                      394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"/> </svg> Address to Latitude Longitude</a> </li> <li> <a class=dropdown-item href=lat-lon-to-address.html> <svg class="bi me-2" width=16 height=16 xmlns=http://www.w3.org/2000/svg viewBox="0 0 384 512"> <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --> <path d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0
                        85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97
                        99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464
                        0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80
                        35.817-80 80 35.817 80 80 80z"/> </svg> Latitude and Longitude to Address</a> </li> <li> <a href=latlon-to-dms.html class=dropdown-item> <svg class="bi me-2" width=16 height=16 xmlns=http://www.w3.org/2000/svg viewBox="0 0 496 512"> <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --> <path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5
                          152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5
                          3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3
                          41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6
                          24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8
                          39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8
                          49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3
                          64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8
                          8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43
                          3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6
                          64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7
                          152 88.5 152s74-62.7 88.5-152h-177zm159.3
                          141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8
                          56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5
                          120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"/> </svg> Latitude and Longitude to DMS </a> </li> <li> <a href=address-distance.html class=dropdown-item> <svg class="bi me-2" width=16 height=16 xmlns=http://www.w3.org/2000/svg viewBox="0 0 288 512"> <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --> <path d="M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22
                            7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06
                            3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0
                            64.47 0 144s64.47 144 144 144 144-64.47
                            144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0
                            6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92
                            92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"/> </svg> Distance to/from Address </a> </li> <li> <a href=lat-lon-distance.html class=dropdown-item> <svg class="bi me-2" width=16 height=16 xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"> <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --> <path d="M367.9 329.76c-4.62 5.3-9.78 10.1-15.9
                              13.65v22.94c66.52 9.34 112 28.05 112 49.65 0
                              30.93-93.12 56-208 56S48 446.93 48 416c0-21.6
                              45.48-40.3
                              112-49.65v-22.94c-6.12-3.55-11.28-8.35-15.9-13.65C58.87
                              345.34 0 378.05 0 416c0 53.02 114.62 96 256
                              96s256-42.98
                              256-96c0-37.95-58.87-70.66-144.1-86.24zM256
                              128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64
                              28.65-64 64 28.65 64 64 64zm-64 192v96c0 17.67
                              14.33 32 32 32h64c17.67 0 32-14.33 32-32v-96c17.67
                              0 32-14.33
                              32-32v-96c0-26.51-21.49-48-48-48h-11.8c-11.07
                              5.03-23.26 8-36.2 8s-25.13-2.97-36.2-8H208c-26.51
                              0-48 21.49-48 48v96c0 17.67 14.33 32 32 32z"/> </svg> Distance Calculator between Latitude and Longitude</a> </li> <li> <a href=travel.html class=dropdown-item> <svg class="bi me-2" width=16 height=16 xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"> <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --> <path d="M499.99 176h-59.87l-16.64-41.6C406.38 91.63
                                365.57 64 319.5 64h-127c-46.06 0-86.88
                                27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53
                                183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01
                                224h20.07C24.65 235.73 16 252.78 16 272v48c0
                                16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32
                                32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0
                                17.67 14.33 32 32 32h32c17.67 0 32-14.33
                                32-32v-54.07c9.84-11.25 16-25.8
                                16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51
                                0 10.31-3.75
                                11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22
                                24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95
                                44.57 30.17L384 208H128l19.93-49.83zM96
                                319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96
                                256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320
                                0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32
                                12.76 32 31.9-12.8 31.9-32 31.9z"/> </svg> Travel time for Latitude Address</a> </li> <hr class=dropdown-divider> <li> <a href=converter.html class=dropdown-item aria-current=page> <svg class="bi me-2" width=16 height=16 xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"> <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --> <path d="M444.52 3.52L28.74 195.42c-47.97
                                  22.39-31.98 92.75 19.19 92.75h175.91v175.91c0
                                  51.17 70.36 67.17 92.75
                                  19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"/> </svg> Quick Tool </a> </li> </ul> </li> <li class=nav-item> <a class=nav-link href=/pricing.html>Pricing</a> </li> <li class=nav-item> <a class=nav-link href=/travel.html>Travel</a> </li> <li class=nav-item> <a class=nav-link href=/weather.html>Weather</a> </li> <li class=nav-item> <a class=nav-link href=/movie-locations/1>Movies</a> </li> </ul> <div class=right-nav> <ul class="navbar-nav ms-auto mb-2 mb-lg-0 profile-menu"> <li id=sign-in-elm class=nav-item> <a href=/login.html id=sign-in class=btn tabindex=-1 role=button aria-disabled=true style=color:#fff!important> <i class="fas fa-user"></i></a> </li> <li id=sign-out-elm class="nav-item dropdown" style=display:none> <a class=nav-link href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false> <i class="fas fa-user"></i> </a> <ul class=dropdown-menu aria-labelledby=navbarDropdown> <li> <a class=dropdown-item href=#> <i class="fas fa-sliders-h"></i>Account</a> </li> <li> <a class=dropdown-item href=#><i class="fas fa-cog"></i>Settings</a> </li> <li> <hr class=dropdown-divider> </li> <li> <a id=sign-out class=dropdown-item href=#> <i class="fas fa-sign-out-alt"></i>Log Out</a> </li> </ul> </li> </ul> </div> </div> </div> </nav> <!-- Modal --> <!--   !! MAIN --------------------------> <!-- Main Content--> <main class="mb-4 mt-5"> <div class="container px-4 px-lg-5"> <div class="row gx-5 align-items-center justify-content-center"> <div class=col-lg-5 style=position:relative> <h5 class="text-start mb-4">Address</h5> <form class="row justify-content-between align-items-center" autocomplete=off id=getTravelForm> <div class="row justify-content-between align-items-center pe-0"> <label class="col-sm-2 col-form-label mb-3" for=latInputField>Address</label> <div class=col-sm-9> <div class="input-group mb-3"> <div class=input-group-prepend> <button id=searchButton type=button class="btn btn-outline-primary text-info border border-end-0 ps-3 pe-1 disabled"> <i class="fa fa-search"></i> </button> </div> <input type=search id=searchInput class="form-control border border-start-0 target-address" aria-label="Sizing example input" aria-describedby=inputGroup-sizing-default> </div> </div> </div> <div class="row mb-3 justify-content-end"> <div class="col-sm-8 position-relative text-end pe-0" style=z-index:0!important> <button class="btn btn-primary" id=getRoute type=submit> Find </button> </div> </div> </form> <form class="row mb-3 justify-content-between align-items-center d-none" action=post id=geocoderAddressForm> <label class="col-sm-2 col-form-label">Address</label> <div class="col-sm-9 position-relative" style=z-index:2!important> <div class=geocoder id=geocoder></div> </div> <div class="row mt-3 mb-3 px-0 justify-content-end"> <div class="col-12 px-0 position-relative text-end" style=z-index:0!important> <button class="btn btn-primary" id=convertLocationData type=submit> Find </button> </div> </div> </form> <h5 class="text-start mb-4">Latitude and Longitude</h5> <form class="row g-3 mb-3 justify-content-between align-items-center" id=latlonForm> <div> <div class="row justify-content-between align-items-center"> <label class="col-sm-2 col-form-label" for=latInputField>Latitude</label> <div class=col-sm-9> <input class=form-control id=latInputField type=number step=any aria-describedby=latInputFeedback required=""> </div> </div> </div> <div> <div class="row justify-content-between align-items-center"> <label class="col-sm-2 col-form-label" for=lonInputField>Longitude</label> <div class=col-sm-9> <input class=form-control id=lonInputField type=number step=any aria-describedby=lonInputFieldFeedback required=""> </div> </div> </div> </form> <hr class=mb-4> <div class="row mb-3"> <div id=liveAlertPlaceholder> <div class=alerts></div> <div class=history></div> </div> </div> </div> <div class="col-lg-7 align-self-start"> <h4 class=travel-time></h4> <div class=map-container><div id=map></div></div> </div> </div> <section class="mb-5 mt-3"> <div class="card bg-light"> <div class=card-body> <!-- Comment form--> <form id=comment-form class=mb-3> <div class=mb-3> <label for=exampleInputEmail1 class=form-label>Share your comment</label> <div id=emailHelp class=form-text> Name (Optional) </div> <input class=form-control id=exampleInputEmail1 aria-describedby=emailHelp> </div> <div class=mb-3> <textarea class=form-control rows=3 placeholder="Join the discussion and leave a comment!"></textarea> </div> <button type=submit id=comment-btn class="btn btn-primary"> Submit </button> </form> <!-- Comment with nested comments--> <div class="d-flex mb-4"> <!-- Parent comment--> <div class=flex-shrink-0> <img class=rounded-circle src=https://dummyimage.com/50x50/ced4da/6c757d.jpg alt=...> </div> <div class=ms-3> <div class=fw-bold>Commenter Name</div> If you're going to lead a space frontier, it has to be government; it'll never be private enterprise. Because the space frontier is dangerous, and it's expensive, and it has unquantified risks. <!-- Child comment 1--> <div class="d-flex mt-4"> <div class=flex-shrink-0> <img class=rounded-circle src=https://dummyimage.com/50x50/ced4da/6c757d.jpg alt=...> </div> <div class=ms-3> <div class=fw-bold>Commenter Name</div> And under those conditions, you cannot establish a capital-market evaluation of that enterprise. You can't get investors. </div> </div> <!-- Child comment 2--> <div class="d-flex mt-4"> <div class=flex-shrink-0> <img class=rounded-circle src=https://dummyimage.com/50x50/ced4da/6c757d.jpg alt=...> </div> <div class=ms-3> <div class=fw-bold>Commenter Name</div> When you put money directly to a problem, it makes a good headline. </div> </div> </div> </div> <!-- Single comment--> <div class=d-flex> <div class=flex-shrink-0> <img class=rounded-circle src=https://dummyimage.com/50x50/ced4da/6c757d.jpg alt=...> </div> <div class=ms-3> <div class=fw-bold>Commenter Name</div> When I look at the universe and all the ways the universe wants to kill us, I find it hard to reconcile that with statements of beneficence. </div> </div> </div> </div> </section> </div> </main> <!-- Footer--> <footer class=border-top> <div class="container px-4 px-lg-5"> <div class="row gx-4 gx-lg-5 justify-content-center"> <div class="col-md-10 col-lg-8 col-xl-7"> <ul class="list-inline text-center"> <li class=list-inline-item> <a href=#!> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class=list-inline-item> <a href=#!> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class=list-inline-item> <a href=#!> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i> </span> </a> </li> </ul> <div class="small text-center text-muted fst-italic"> Copyright &copy; Your Website 2022 </div> </div> </div> </div> </footer> <script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script> <script src=https://cdn.polyfill.io/v3/polyfill.min.js></script> <!--[if lt IE 9]>
  <link
    href="https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.ie.css"
    rel="stylesheet"
  />
<![endif]--> <script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js></script> <script src=https://cdn.rawgit.com/botmonster/jquery-bootpag/master/lib/jquery.bootpag.min.js></script> <script src=/js/ ></script> <script defer=defer src=/__/firebase/9.6.8/firebase-app-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-auth-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-database-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-firestore-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-functions-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-messaging-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-storage-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-analytics-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-remote-config-compat.js></script> <script defer=defer src=/__/firebase/9.6.8/firebase-performance-compat.js></script> <script defer=defer src="/__/firebase/init.js?useEmulator=true"></script> <script src=/js/app.29e80a06c515447d81bd086eed2e4ada.js></script> <script src=/js/vendor.9fa8f1e63fc9c96b1e784cecd87b25de.js></script> <script src=https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js></script> <script src=https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.min.js></script> <link href=https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.mapbox.css rel=stylesheet> <script src=/leaflet-bookmarks/dist/L.Control.Bookmarks.min.js></script> <script> /*jshint esversion: 8 */
      function test(e) {
        e.preventDefault();
      }

      async function convertLatLon(lat, lon) {
        const query = await fetch(
          `https://api.mapbox.com/geocoding/v5/mapbox.places/${lon},${lat}.json?access_token=pk.eyJ1IjoibG9nYW41MjAxIiwiYSI6ImNrcTQycnlhMDBlb2kydXBwZHoyOGNsY3EifQ.E8N4lPy6tiI0xY3nor3MTg`,
          { method: "GET" }
        );
        if (query.status !== 200) {
          return;
        }

        const data = await query.json();
        if (data.features.length == 0) {
          $(".alert-warning").removeClass("invisible").addClass("visible");
        } else if (
          data.features.length > 0 &&
          $(".alert-warning").hasClass("visible")
        ) {
          $(".alert-warning").removeClass("visible").addClass("invisible");
        }
        return data;
      }

      /*

https://api.mapbox.com/geocoding/v5/mapbox.places/$Atlanta,GA.json?access_token=pk.eyJ1IjoibG9nYW41MjAxIiwiYSI6ImNrcTQybTFoZzE0aDQyeXM1aGNmYnR1MnoifQ.4kRWNfEH_Yao_mmdgrgjPA

*/

      async function convertAddress(city) {
        const query = await fetch(
          `https://api.mapbox.com/geocoding/v5/mapbox.places/${city}.json?access_token=pk.eyJ1IjoibG9nYW41MjAxIiwiYSI6ImNrcTQybTFoZzE0aDQyeXM1aGNmYnR1MnoifQ.4kRWNfEH_Yao_mmdgrgjPA`,
          { method: "GET" }
        );
        if (query.status !== 200) {
          alert(query.status);
          return;
        }

        const data = await query.json();

        return data;
      }
      window.addEventListener("DOMContentLoaded", () => {
        let scrollPos = 0;
        const mainNav = document.getElementById("mainNav");
        const headerHeight = mainNav.clientHeight;
      });

      $(document).ready(function () {
        const outputInputField = document.getElementById("output-field-input");
        const latInputField = document.getElementById("latInputField");
        const lonInputField = document.getElementById("lonInputField");

        function DDtoDMS(lat, lon) {
          //

          let latitude = Math.abs(lat);
          let longitude = Math.abs(lon);
          let dLat = Math.floor(latitude);
          let mLat = Math.floor((latitude - dLat) * 60);

          sLat = Math.round((latitude - dLat - mLat / 60) * 1e3 * 3600) / 1e3;
          dLon = Math.floor(longitude);
          mLon = Math.floor((longitude - dLon) * 60);
          sLon = Math.floor((longitude - dLon - mLon / 60) * 1e3 * 3600) / 1e3;
          let degreesLatitude = dLat;
          let minutesLatitude = mLat;
          let secondsLatitude = sLat;
          let degreesLongitude = dLon;
          let minutesLongitude = mLon;
          let secondsLongitude = sLon;

          let latResult = `${degreesLatitude}° ${minutesLatitude}' ${secondsLatitude}''`;

          let lonResult = `${degreesLongitude}° ${minutesLongitude}' ${secondsLongitude}''`;
          let result = { lat: latResult, lon: lonResult };
          return result;
        }

        const CoordsApp = function _CoordsApp() {
          return `
     <h1>Origin State = [${CoordsApp.state.origin}] </h1> </br>
     <h1>Destination State = [${CoordsApp.state.destination}] </h1>
     <h1>User Location = [${CoordsApp.state.userLocation}] </h1>
     <h1>trackingUser =  ${CoordsApp.state.trackingUser}</h1>
    `;
        };

        const myhandler = {
          set: function (obj, prop, value) {
            obj[prop] = value;
          },
        };

        CoordsApp.state = new Proxy(
          {
            origin: [],
            destination: [],
            userLocation: [],
            trackingUser: false,
          },
          myhandler
        );

        const finishedLoading = () => {
          setTimeout(function () {
            // then, after a half-second, add the class 'hide', which hides
            // it completely and ensures that the user can interact with the
          }, 500);
        };

        L.mapbox.accessToken =
          "pk.eyJ1IjoibG9nYW41MjAxIiwiYSI6ImNrcTQybTFoZzE0aDQyeXM1aGNmYnR1MnoifQ.4kRWNfEH_Yao_mmdgrgjPA";
        const map = L.mapbox.map("map").setView([37.9, -77], 6);

        L.mapbox
          .styleLayer("mapbox://styles/mapbox/streets-v11")
          .addTo(map) // add your tiles to the map
          .on("load", finishedLoading);

        const marker = L.marker([0, 0], {
          icon: L.mapbox.marker.icon({
            "marker-size": "large",

            "marker-color": "blue",
          }),
        }).addTo(map);
        var locationControl = L.control
          .locate({
            circleStyle: { opacity: 0 },
            followCircleStyle: { opacity: 0 },
            drawCircle: false,
            follow: false,
            icon: "fas fa-map-marker-alt", // follow the user's location
            setView: false,
            remainActive: false,
          })
          .addTo(map);

        map.on("locationfound", async function (e) {
          let lat = e.latitude;
          let lon = e.longitude;
          var radius = e.accuracy;

          localStorage.setItem("userLatLon", `${lat}, ${lon}`);

          const address = await convertLatLon(lat, lon);
          setTimeout(() => {
            if (address.features.length > 0) {
              $("form")
                .first()
                .find("input:eq(0)")
                .val(address.features[0].place_name);

              $("#latlonForm").find("input:eq(0)").val(lat);
              $("#latlonForm").find("input:eq(1)").val(lon);
            }

            map.fitBounds([[lat, lon]], { padding: [50, 50] });

            const dmsCalculated = DDtoDMS(lat, lon);

            var popup = L.popup({ autoPan: true, keepInView: true })
              .setContent(`
            <div class="row">
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">${address.features[0].place_name}</h5>
                  <p class="card-text">



                  <span><strong> Latitude: </strong> <span class="lat">${lat} </span></span> <span> <strong>
                  Longitude: <span class="lon">${lon}</span></strong> </span>
                  <br>
                  <div class= "mt-1">
                  ${dmsCalculated.lat} ${dmsCalculated.lon}
                </div>
                  </p>
                  <div class=" mt-2 altitude">
                  <button class="btn btn-primary btn-sm" id="getAltitude" type="button ">
                      Get Altitude
                  </button>
              </div>
                </div>
              </div>
            </div>
        </div>


          `);

            marker.setLatLng([lat, lon]).bindPopup(popup).openPopup();
          }, 500);
          locationControl.stop();
          // geocoder.query(`${lat}, ${lon}`);

          // map.stopLocate();
        });

        const coordinatesGeocoder = function (query) {
          // Match anything which looks like
          // decimal degrees coordinate pair.
          const matches = query.match(
            /^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i
          );
          if (!matches) {
            return null;
          }

          function coordinateFeature(lng, lat) {
            return {
              center: [lng, lat],
              geometry: {
                type: "Point",
                coordinates: [lng, lat],
              },
              place_name: "Lat: " + lat + " Lng: " + lng,
              place_type: ["coordinate"],
              properties: {},
              type: "Feature",
            };
          }

          const coord1 = Number(matches[1]);
          const coord2 = Number(matches[2]);
          const geocodes = [];

          if (coord1 < -90 || coord1 > 90) {
            // must be lng, lat
            geocodes.push(coordinateFeature(coord1, coord2));
          }

          if (coord2 < -90 || coord2 > 90) {
            // must be lat, lng
            geocodes.push(coordinateFeature(coord2, coord1));
          }

          if (geocodes.length === 0) {
            // else could be either lng, lat or lat, lng
            geocodes.push(coordinateFeature(coord1, coord2));
            geocodes.push(coordinateFeature(coord2, coord1));
          }

          return geocodes;
        };

        async function getElevation(lon, lat) {
          // Construct the API request
          const query = await fetch(
            `https://api.mapbox.com/v4/mapbox.mapbox-terrain-v2/tilequery/${lon},${lat}.json?layers=contour&limit=50&access_token=pk.eyJ1IjoibG9nYW41MjAxIiwiYSI6ImNrcTQycnlhMDBlb2kydXBwZHoyOGNsY3EifQ.E8N4lPy6tiI0xY3nor3MTg`,
            { method: "GET" }
          );
          if (query.status !== 200) return;
          const data = await query.json();
          // Display the longitude and latitude values

          // Get all the returned features
          const allFeatures = data.features;
          // For each returned feature, add elevation data to the elevations array
          const elevations = allFeatures.map(
            (feature) => feature.properties.ele
          );
          // In the elevations array, find the largest value
          const highestElevation = Math.max(...elevations);
          $(".altitude").html(`<div> ${highestElevation} meters </div>`);
        }
        $(document).on("click", "#getAltitude", function (e) {
          e.preventDefault();
          let lat = $(".lat").html();
          let lon = $(".lon").html();
          getElevation(lon, lat);
        });

        $("#getTravelForm").on("submit", async function (e) {
          e.preventDefault();
          //
          const value = $(this).find("input:eq(0)").val();
          const fetchResponse = await convertAddress(value);

          setTimeout(() => {
            if (fetchResponse.features.length > 0) {
              let lat = fetchResponse.features[0].geometry.coordinates[1];
              let lon = fetchResponse.features[0].geometry.coordinates[0];

              $("#latlonForm").find("input:eq(0)").val(lat);
              $("#latlonForm").find("input:eq(1)").val(lon);

              const dmsCalculated = DDtoDMS(lat, lon);

              map.fitBounds([[lat, lon]], { padding: [50, 50] });

              var popup = L.popup({ autoPan: true, keepInView: true })
                .setContent(`
    <div class="row">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">${value}</h5>
          <p class="card-text">



          <span><strong> Latitude: </strong> <span class="lat">${lat} </span></span> <span> <strong>
          Longitude: <span class="lon">${lon}</span></strong> </span>
          <br>
          <div class= "mt-1">
          ${dmsCalculated.lat} ${dmsCalculated.lon}
        </div>
          </p>
          <div class=" mt-2 altitude">
          <button class="btn btn-primary btn-sm" id="getAltitude" type="button ">
              Get Altitude
          </button>
      </div>
        </div>
      </div>
    </div>
</div>


  `);

              marker.setLatLng([lat, lon]).bindPopup(popup).openPopup();
            }
          }, 200);
        });

        const title = $("title").html();

        const pageTitle = title.slice(11);

        let bookmarkControl = new L.Control.Bookmarks({
          name: pageTitle,
        }).addTo(map);

        $("#comment-form").on("submit", function (e) {
          e.preventDefault();

          let name = e.currentTarget[0].value;
          let message = e.currentTarget[1].value;

          $("#comment-btn").disabled = true;
        });
      }); </script> </body> </html> <!-- IE needs 512+ bytes: http://blogs.msdn.com/b/ieinternals/archive/2010/08/19/http-error-pages-in-internet-explorer.aspx --> 