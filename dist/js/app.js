/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({"lazy-module.cards":"lazy-module.cards","lazy-module.login":"lazy-module.login","login.lazy":"login.lazy"}[chunkId]||chunkId) + ".js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/js/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([1,"vendor"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/index.js":
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dompurify */ \"./node_modules/dompurify/dist/purify.js\");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/app */ \"./node_modules/firebase/app/dist/index.esm.js\");\n/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/database */ \"./node_modules/firebase/database/dist/index.esm.js\");\n/* harmony import */ var firebase_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/functions */ \"./node_modules/firebase/functions/dist/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\n/* harmony import */ var bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bootstrap/dist/js/bootstrap.bundle */ \"./node_modules/bootstrap/dist/js/bootstrap.bundle.js\");\n/* harmony import */ var bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.esm.js\");\n/* harmony import */ var picturefill__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! picturefill */ \"./node_modules/picturefill/dist/picturefill.js\");\n/* harmony import */ var picturefill__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(picturefill__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var utils_errors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! utils/errors */ \"./src/js/utils/errors.js\");\n/* harmony import */ var utils_errors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(utils_errors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);\n/** letiables available in all js files:\n * all the exported constants from globals.js\n */\n\n/** Directories available as aliases\n * all the paths within Dir in globals.js\n */\n\n\n\n\n\n\n\n\n\n\nlet url = window.location.href;\n\nDate.prototype.toShortFormat = function () {\n  let monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  let day = this.getDate();\n  let monthIndex = this.getMonth();\n  let monthName = monthNames[monthIndex];\n  let year = this.getFullYear();\n  return `${monthName} ${year}`;\n}; // Now any Date object can be declared\n\n\nlet anyDate = new Date(1528578000000); // and it can represent itself in the custom format defined above.\n\nlet today = new Date();\nconst prettyDate = today.toShortFormat();\nconst app = Object(firebase_app__WEBPACK_IMPORTED_MODULE_1__[\"initializeApp\"])({\n  apiKey: \"AIzaSyBCU8RRxV3qaSyxOgc4ObSWmUhlfnJsYTo\",\n  authDomain: \"geotools-bc75a.firebaseapp.com\",\n  projectId: \"geotools-bc75a\",\n  storageBucket: \"geotools-bc75a.appspot.com\",\n  messagingSenderId: \"106157954659\",\n  appId: \"1:106157954659:web:3e189110236a2138438a56\",\n  measurementId: \"G-Z6GK19K3L0\"\n}); //const functions = getFunctions(app);\n\nconst auth = Object(firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"getAuth\"])(); // Get a reference to the database service\n\nconst googleProvider = new firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"GoogleAuthProvider\"]();\nconst functions = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_3__[\"getFunctions\"])(app);\n\nif (location.hostname === \"localhost\") {\n  Object(firebase_functions__WEBPACK_IMPORTED_MODULE_3__[\"connectFunctionsEmulator\"])(functions, \"localhost\", 5001);\n  Object(firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"connectAuthEmulator\"])(auth, \"http://localhost:9099\");\n}\n\nif (window.location.href.includes(\"login\")) {\n  const App = function _App() {\n    return `\n\n       <div class=\"container w-100 h-100 position-relative ${_App.state.class}\" style=\"    min-width: 100vw !important;\n    min-height: 100vh !important; \">\n    <div class=\"spinner-container position-absolute top-50\n                left-50\" style= \"width: 100%; text-align: center\">\n\n       <div class=\"spinner-grow text-primary \" role=\"status\">\n                <span class=\"visually-hidden\">Loading...</span>\n            </div>\n\n    </div>\n\n        </div>\n\n\n    `;\n  };\n\n  App.state = {\n    loading: false,\n    class: \"d-none\",\n    count: 0,\n    toggleState: () => {\n      setState(() => {\n        App.state.loading = App.state.loading ? false : true;\n      });\n    }\n  };\n\n  function toggleLoading() {\n    if (App.state.loading == true) {\n      App.state.loading = false;\n      App.state.class = \"d-none\";\n    } else {\n      App.state.loading = true;\n      App.state.class = \"\";\n    }\n  }\n\n  $(\"#google-sign-in\").on(\"click\", function (e) {\n    e.preventDefault();\n    $(\"main\").addClass(\"d-none\");\n    $(\"#spinner-box\").removeClass(\"d-none\");\n    Object(firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"signInWithRedirect\"])(auth, googleProvider);\n  });\n  Object(firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"onAuthStateChanged\"])(auth, user => {\n    if (user) {\n      Object(firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"getRedirectResult\"])(auth).then(result => {\n        const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"GoogleAuthProvider\"].credentialFromResult(result);\n        const token = credential.accessToken;\n        const user = result.user;\n      }).catch(error => {\n        // Handle Errors here.\n        const errorCode = error.code;\n        const errorMessage = error.message; // The email of the user's account used.\n\n        const email = error.email; // The AuthCredential type that was used.\n\n        const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"GoogleAuthProvider\"].credentialFromError(error); // ...\n      }).finally(() => {\n        window.location.replace(\"/\");\n      });\n    } else {\n      $(\"#spinner-box\").addClass(\"d-none\");\n      $(\"main\").removeClass(\"d-none\");\n    }\n  });\n  __webpack_require__.e(/*! import() | lazy-module.login */ \"lazy-module.login\").then(__webpack_require__.bind(null, /*! ./lazy-module */ \"./src/js/lazy-module.js\")).then(module => {\n    const login = module.default;\n    login();\n  });\n}\n\nconst mainCard = (id, name, date, message, likes, dislikes) => {\n  let data = `\n  <div class=\"col-md-12 col-lg-12 col-xl-12\">\n    <div class=\"card border-0 \" id=${id} style=\"background-color: transparent\">\n      <div class=\"card-body\">\n        <div class=\"d-flex justify-content-between align-items-center border-bottom pb-2\">\n          <h6 class=\"fw-bold text-primary mb-1 \">${name}</h6>\n          <p class=\"text-muted small m-0\">\n            ${date}\n          </p>\n        </div>\n        <p class=\"mt-3 mb-0 pb-2\">\n          ${message}\n        </p>\n\n        <div class=\"small d-flex justify-content-start\">\n          <a href=\"#!\" id=\"thumbs-up\" class=\"d-flex align-items-center me-3\">\n            <i class=\"far fa-thumbs-up me-2\"></i> <span id=\"count\">${likes}</span>\n          </a>\n          <a href=\"#!\" id=\"thumbs-down\" class=\"d-flex align-items-center me-3\">\n            <i class=\"far fa-thumbs-down me-2\"></i>\n            <span id=\"count\">${dislikes}</span>\n          </a>\n          <a href=\"#!\" class=\"d-flex align-items-center me-3 reply-btn\">\n            <i class=\"far fa-comment-dots me-2\"></i>\n            <p class=\"m-0\">Reply</p>\n          </a>\n\n        </div>\n      </div>\n      <div class=\"card-footer py-3 border-0  row \" style=\"background-color: transparent !important\">\n        <div class=\"other-comments\">\n\n        </div>\n      </div>\n    </div>\n  </div>`;\n  return data;\n};\n\nlet test = mainCard(123, 'andrew', '12-14', 'hello there', '1', '2');\nwindow.addEventListener(\"DOMContentLoaded\", event => {\n  const db = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"getDatabase\"])();\n\n  if (document.getElementById(\"comment-form\")) {\n    __webpack_require__.e(/*! import() | lazy-module.cards */ \"lazy-module.cards\").then(__webpack_require__.bind(null, /*! ./html-components/cards */ \"./src/js/html-components/cards.js\")).then(module => {\n      const cards = module.default;\n      const replyCard = cards.commentReply; //commentReply( name, id, date, message)\n\n      const commentCard = cards.commentCard; //function commentCard (id, name, date, message, likes, dislikes)\n\n      function extractReplies(replies) {\n        let response = [];\n        const map = new Map(Object.entries(replies));\n\n        for (const [key, value] of map.entries()) {\n          let newObject = {\n            \"id\": key,\n            \"name\": value.name,\n            \"message\": value.message,\n            \"date\": value.date,\n            \"recipient\": value.recipient\n          };\n          response.push(newObject);\n        }\n\n        return response;\n      }\n\n      let filterCommentSuccess = new bootstrap.Modal(document.getElementById('filterCommentSuccess'), {\n        keyboard: false\n      });\n      let filterCommentFail = new bootstrap.Modal(document.getElementById('filterCommentFail'), {\n        keyboard: false\n      });\n      const messageRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, 'messages/');\n      Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"get\"])(messageRef).then(snapshot => {\n        if (snapshot.exists()) {\n          const data = snapshot.val();\n          const map = new Map(Object.entries(data));\n\n          for (const [key, value] of map.entries()) {\n            let likes = value.likes && value.likes.likes ? value.likes.likes : '';\n            let dislikes = value.dislikes && value.dislikes.dislikes ? value.dislikes.dislikes : '';\n            console.log(likes);\n            const dateinfo = value.date ? value.date : \"\";\n            let commentsList = commentCard(value.id, value.name, dateinfo, value.message, likes, dislikes);\n            $(\"#comment-section\").append(commentsList);\n\n            if (value.replies) {\n              let ex = extractReplies(value.replies);\n\n              for (let index = 0; index < ex.length; index++) {\n                const element = ex[index];\n                let recipient = $(`#${element.recipient} .other-comments`);\n                let replies = replyCard(element.name, element.id, element.date, element.message);\n                $(recipient[0]).append(`  <div class=\"col-md-11 p-3 mb-3\" >\n      <div class=\"row \">\n      <div class=\"col-lg-12 border-start\">\n         <div class=\"d-flex justify-content-between align-items-center border-bottom pb-2\">\n        <h6 class=\"fw-bold text-primary mb-1 \">${element.name}</h6>\n        <p class=\"text-muted small m-0\">\n         ${element.date}\n        </p>\n        </div>\n        <p class=\"mt-3 mb-0 pb-2\">\n        ${element.message}\n        </p>\n      </div>\n      </div>\n        </div>\n\n\n`);\n              }\n            }\n          }\n        } else {\n          console.log('no data');\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n      $(\"#comment-form\").on(\"submit\", function (e) {\n        e.preventDefault();\n        const inputs = $('#comment-form :input');\n        let children = $(this).children();\n        $(\"#comment-btn\").disabled = true;\n        $(\"#comment-btn\").html(` <span class=\"spinner-grow spinner-grow-sm\" role=\"status\" aria-hidden=\"true\"></span>\n  Verifying..`);\n        let name = e.currentTarget[0].value.length > 0 ? e.currentTarget[0].value : \"Guest\";\n        let message = e.currentTarget[1].value;\n        let commentSection = document.getElementById(\"comment-section\");\n        let cleanMessage = dompurify__WEBPACK_IMPORTED_MODULE_0___default.a.sanitize(message);\n        let cleanName = dompurify__WEBPACK_IMPORTED_MODULE_0___default.a.sanitize(name);\n        const addMessage = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_3__[\"httpsCallable\"])(functions, 'addMessage');\n        let messageText = `${cleanName} ${cleanMessage}`;\n        addMessage({\n          text: messageText\n        }).then(function (result) {\n          // Read result of the Cloud Function.\n          let sanitizedMessage = result.data.text;\n          let anonymousUid = result.data.id;\n          console.log(anonymousUid);\n\n          if (messageText !== sanitizedMessage) {\n            filterCommentFail.toggle();\n            $(\"#comment-btn\").disabled = false;\n            $(\"#comment-btn\").html('Submit');\n\n            for (let index = 0; index < inputs.length; index++) {\n              const element = inputs[index];\n              element.value = '';\n            }\n          } else {\n            $(\"#comment-btn\").disabled = false;\n            $(\"#comment-btn\").html('Submit');\n\n            for (let index = 0; index < inputs.length; index++) {\n              const element = inputs[index];\n              element.value = '';\n            }\n\n            filterCommentSuccess.toggle();\n            const postListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, 'messages');\n            const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"push\"])(postListRef);\n            Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"set\"])(newPostRef, {\n              name: cleanName,\n              id: anonymousUid,\n              message: cleanMessage,\n              date: prettyDate\n            });\n            $(\"#comment-section\").append(`  <div class=\"col-md-12 col-lg-12 col-xl-12\" >\n          <div class=\"card border-0 \"  style=\"background-color: transparent\" id=${anonymousUid} >\n             <div class=\"card-body\" >\n             <div class=\"d-flex justify-content-between align-items-center border-bottom pb-2\">\n        <h6 class=\"fw-bold text-primary mb-1 \">${cleanName}</h6>\n        <p class=\"text-muted small m-0\">\n         ${prettyDate}\n        </p>\n\n\n        </div>\n\n\n              <p class=\"mt-3 mb-0 pb-2\">\n             ${cleanMessage}\n              </p>\n\n              <div class=\"small d-flex justify-content-start\">\n                <a href=\"#!\" id=\"thumbs-up\" class=\"d-flex align-items-center me-3\">\n                  <i class=\"far fa-thumbs-up me-2\"></i>\n              <span id=\"count\"></span>\n                </a>\n                <a href=\"#!\" id=\"thumbs-down\" class=\"d-flex align-items-center me-3\">\n                  <i class=\"far fa-thumbs-down me-2\"></i>\n      <span id=\"count\"></span>\n                </a>\n                <a href=\"#!\" class=\"d-flex align-items-center me-3 reply-btn\">\n                  <i class=\"far fa-comment-dots me-2\"></i>\n                  <p class=\"m-0\">Reply</p>\n                </a>\n\n              </div>\n            </div>\n            <div class=\"card-footer py-3 border-0  row \" style = \"background-color: transparent !important\">\n            <div class = \"other-comments\">\n\n            </div>\n            </div>\n          </div>\n        </div>`);\n            $(\"#comment-btn\").disabled = false;\n          }\n        }).catch(function (error) {\n          // Getting the Error details.\n          let code = error.code;\n          let message = error.message;\n          let details = error.details;\n          console.error('There was an error when calling the Cloud Function', error);\n          window.alert('There was an error when calling the Cloud Function:\\n\\nError Code: ' + code + '\\nError Message:' + message + '\\nError Details:' + details);\n          addMessageButton.disabled = false;\n        });\n      });\n\n      const addLike = async id => {\n        await Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"set\"])(Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, `messages/${id}/likes`), {\n          likes: Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"increment\"])(1)\n        });\n      };\n\n      const addDislike = async id => {\n        await Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"set\"])(Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, `messages/${id}/dislikes`), {\n          dislikes: Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"increment\"])(1)\n        });\n      };\n\n      const addReply = async () => {\n        const dbRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, 'messages');\n        Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"onValue\"])(dbRef, snapshot => {\n          snapshot.forEach(childSnapshot => {\n            const childKey = childSnapshot.key;\n            const childData = childSnapshot.val();\n            console.log(childKey, childData);\n          });\n        }, {\n          onlyOnce: true\n        });\n      };\n\n      $('#comment-section').on('click', '#thumbs-up', function (e) {\n        e.preventDefault();\n        let t = $(this);\n        let anchor = t[0];\n        let countText = $(this).children().last().text();\n        let parentTag = $(this).parent().parent().parent().attr('id');\n        const dbRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, 'messages');\n        Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"onValue\"])(dbRef, snapshot => {\n          snapshot.forEach(childSnapshot => {\n            const childKey = childSnapshot.key;\n            const childData = childSnapshot.val(); // console.log(childKey, childData)\n\n            if (childData.id == parentTag) {\n              const postListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, `messages/${childKey}/likes`);\n              const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"push\"])(postListRef);\n              Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"set\"])(Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, `messages/${childKey}/likes`), {\n                likes: Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"increment\"])(1)\n              });\n            }\n          });\n        }, {\n          onlyOnce: true\n        });\n        let newCount = parseInt(countText) + 1 || 1;\n        $(this).children().first().removeClass('far fa-thumbs-up me-2').addClass('fas fa-thumbs-up me-2');\n        $(this).children().first().css('color', '#0085A1');\n        console.log($(this).children().last().text());\n        $(this).children().last().html(newCount);\n      });\n      $('#comment-section').on('click', '#thumbs-down', function (e) {\n        e.preventDefault();\n        let t = $(this);\n        let anchor = t[0];\n        let countText = $(this).children().last().text();\n        let parentTag = $(this).parent().parent().parent().attr('id');\n        const dbRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, 'messages');\n        Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"onValue\"])(dbRef, snapshot => {\n          snapshot.forEach(childSnapshot => {\n            const childKey = childSnapshot.key;\n            const childData = childSnapshot.val(); // console.log(childKey, childData)\n\n            if (childData.id == parentTag) {\n              const postListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, `messages/${childKey}/likes`);\n              const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"push\"])(postListRef);\n              Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"set\"])(Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, `messages/${childKey}/dislikes`), {\n                dislikes: Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"increment\"])(1)\n              });\n            }\n          });\n        }, {\n          onlyOnce: true\n        });\n        console.log($(this).children());\n        let newCount = parseInt(countText) + 1 || 1;\n        $(this).children().first().removeClass('far fa-thumbs-down me-2').addClass('fas fa-thumbs-down me-2');\n        $(this).children().first().css('color', '#0085A1');\n        $(this).children().last().html(newCount);\n      });\n      $('#comment-section').on('click', '.reply-btn', function (e) {\n        e.preventDefault();\n        let siblings = $(this).parent().parent().siblings();\n        let otherComments = siblings[0]; //let parentTag = $(this).parent().parent().attr('id');\n\n        let parentTag = $(this).parent().parent().attr('id');\n        let grandFather = $(this).parent().parent().parent().children().last().children();\n        let footer = $(this).parent().parent().parent().children().last();\n        let replySection = $(this).parent().parent().parent().children().last().children();\n        $(replySection).addClass('d-none');\n        $(footer).append(`\n\n  <form class=\"reply-form\">\n    <div class=\"d-flex flex-start w-100 \">\n        <div class=\"col-md-11 p-3 mb-3\">\n       <div class=\"form-outline w-100\">\n\n         <div class=\"mb-3\">\n\n           <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"replyName\" placeholder=\"Name (Optional)\">\n\n\n         </div>\n\n         <textarea class=\"form-control\" id=\"textAreaExample\" rows=\"4\" style=\"background: #fff;\" placeholder=\"Write a comment.\"></textarea>\n\n       </div>\n\n       <button type=\"submit\" id=\"reply-btn\" class=\"btn btn-primary btn-sm mt-3\">Send <i class=\"far fa-paper-plane\"></i></button>\n      </div>\n\n       </div>\n\n\n  </form>\n\n\n\n  `);\n        $('.reply-form').on('submit', function (e) {\n          e.preventDefault();\n          const inputs = $('.reply-form :input');\n          $(\"#reply-btn\").disabled = true;\n          let name = inputs[0].value.length > 0 ? inputs[0].value : \"Guest\";\n          let message = inputs[1];\n          let parent = $(this).parent();\n          let siblings = $(this).siblings();\n          let otherComments = siblings[1];\n          let cleanMessage = dompurify__WEBPACK_IMPORTED_MODULE_0___default.a.sanitize(message.value);\n          let cleanName = dompurify__WEBPACK_IMPORTED_MODULE_0___default.a.sanitize(name);\n          const docId = $(this).parent().parent().attr('id');\n          const dbRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, 'messages');\n          let messageText = `${cleanName} ${cleanMessage}`;\n          let replyForm = $(this);\n          let otherSiblings = siblings[0];\n          const addMessage = Object(firebase_functions__WEBPACK_IMPORTED_MODULE_3__[\"httpsCallable\"])(functions, 'addMessage');\n          addMessage({\n            text: messageText\n          }).then(function (result) {\n            // Read result of the Cloud Function.\n            let sanitizedMessage = result.data.text;\n            let id = result.data.id;\n\n            if (messageText !== sanitizedMessage) {\n              setTimeout(() => {\n                filterCommentFail.toggle();\n                $(\"#reply-btn\").disabled = false;\n                $(\"#reply-btn\").html('Send');\n\n                for (let index = 0; index < inputs.length; index++) {\n                  const element = inputs[index];\n                  element.value = '';\n                }\n              }, 500);\n            } else {\n              Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"onValue\"])(dbRef, snapshot => {\n                snapshot.forEach(childSnapshot => {\n                  const childKey = childSnapshot.key;\n                  const childData = childSnapshot.val(); // console.log(childKey, childData)\n\n                  if (childData.id == docId) {\n                    const postData = {\n                      name: cleanName,\n                      id: id,\n                      message: cleanMessage,\n                      date: prettyDate\n                    };\n                    const postListRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"ref\"])(db, `messages/${childKey}/replies`);\n                    console.log(childKey, childData);\n                    const newPostRef = Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"push\"])(postListRef);\n                    Object(firebase_database__WEBPACK_IMPORTED_MODULE_2__[\"set\"])(newPostRef, {\n                      name: cleanName,\n                      id: id,\n                      message: cleanMessage,\n                      date: prettyDate,\n                      recipient: childData.id\n                    });\n                  }\n                });\n              }, {\n                onlyOnce: true\n              });\n              setTimeout(() => {\n                $(replyForm).animate({\n                  opacity: 0\n                }, function () {\n                  $(replyForm).css('display', 'none');\n                  $(otherSiblings).removeClass(\"d-none\");\n                  $(otherSiblings).append(`\n          <div class=\"col-md-11 p-3 mb-3\" >\n      <div class=\"row \">\n      <div class=\"col-lg-12 border-start\">\n         <div class=\"d-flex justify-content-between align-items-center border-bottom pb-2\">\n        <h6 class=\"fw-bold text-primary mb-1 \">${cleanName}</h6>\n        <p class=\"text-muted small m-0\">\n         ${prettyDate}\n        </p>\n\n\n        </div>\n        <p class=\"mt-3 mb-0 pb-2\">\n        ${cleanMessage}\n        </p>\n      </div>\n      </div>\n\n        </div>\n        `);\n                  $(otherComments).animate({\n                    opacity: 1\n                  }, 500);\n                  filterCommentSuccess.toggle();\n                });\n              }, 500);\n            }\n          }).catch(function (error) {\n            // Getting the Error details.\n            let code = error.code;\n            let message = error.message;\n            let details = error.details;\n            console.error('There was an error when calling the Cloud Function', error);\n            window.alert('There was an error when calling the Cloud Function:\\n\\nError Code: ' + code + '\\nError Message:' + message + '\\nError Details:' + details);\n            addMessageButton.disabled = false;\n          });\n        });\n      });\n    });\n  }\n\n  $(\"#testBtn\").on(\"click\", function () {\n    let myModal = new bootstrap.Modal(document.getElementById(\"modalSignOut\"));\n    myModal.toggle();\n  });\n  Object(firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"onAuthStateChanged\"])(auth, user => {\n    if (user) {\n      $(\"#sign-in-elm\").css(\"display\", \"none\");\n      $(\"#sign-out-elm\").css(\"display\", \"block\");\n    } else {\n      $(\"#sign-out-elm\").css(\"display\", \"none\");\n      $(\"#sign-in-elm\").css(\"display\", \"block\");\n    }\n  });\n  $(\"#sign-out\").on(\"click\", async function (e) {\n    e.preventDefault();\n    Object(firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"signOut\"])(auth).then(() => {\n      let myModal = new bootstrap.Modal(document.getElementById(\"modalSignOut\"));\n      myModal.toggle();\n    }).catch(error => {});\n  });\n  $(\"#user-btn\").on(\"click\", function (e) {\n    e.preventDefault();\n  }); // Movie Directory\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanM/N2JhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogbGV0aWFibGVzIGF2YWlsYWJsZSBpbiBhbGwganMgZmlsZXM6XG4gKiBhbGwgdGhlIGV4cG9ydGVkIGNvbnN0YW50cyBmcm9tIGdsb2JhbHMuanNcbiAqL1xuXG4vKiogRGlyZWN0b3JpZXMgYXZhaWxhYmxlIGFzIGFsaWFzZXNcbiAqIGFsbCB0aGUgcGF0aHMgd2l0aGluIERpciBpbiBnbG9iYWxzLmpzXG4gKi9cblxuaW1wb3J0IGRvbXB1cmlmeSBmcm9tIFwiZG9tcHVyaWZ5XCI7XG5pbXBvcnQgeyBpbml0aWFsaXplQXBwIH0gZnJvbSBcImZpcmViYXNlL2FwcFwiO1xuaW1wb3J0IHsgZ2V0RGF0YWJhc2UsIHJlZiwgc2V0LCBnZXQsICBvblZhbHVlLCBwdXNoLCBxdWVyeSwgb3JkZXJCeVZhbHVlLCBpbmNyZW1lbnQsIG9yZGVyQnlDaGlsZCB9IGZyb20gXCJmaXJlYmFzZS9kYXRhYmFzZVwiO1xuIGltcG9ydCB7IGdldEZ1bmN0aW9ucywgaHR0cHNDYWxsYWJsZSAsIGNvbm5lY3RGdW5jdGlvbnNFbXVsYXRvcn0gZnJvbSAnZmlyZWJhc2UvZnVuY3Rpb25zJztcbmltcG9ydCB7XG4gIGdldEF1dGgsXG4gIHNpZ25JbldpdGhSZWRpcmVjdCxcbiAgZ2V0UmVkaXJlY3RSZXN1bHQsXG4gIHNpZ25PdXQsXG4gIEdvb2dsZUF1dGhQcm92aWRlcixcbiAgb25BdXRoU3RhdGVDaGFuZ2VkLFxuICBjb25uZWN0QXV0aEVtdWxhdG9yLFxufSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuaW1wb3J0ICdib290c3RyYXAvZGlzdC9qcy9ib290c3RyYXAuYnVuZGxlJztcblxuXG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJ2Jvb3RzdHJhcCdcbmltcG9ydCBcInBpY3R1cmVmaWxsXCI7XG5pbXBvcnQgXCJ1dGlscy9lcnJvcnNcIjtcblxuaW1wb3J0IHsgcmVzdWx0IH0gZnJvbSBcImxvZGFzaFwiO1xuXG5cblxuXG5sZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5EYXRlLnByb3RvdHlwZS50b1Nob3J0Rm9ybWF0ID0gZnVuY3Rpb24oKSB7XG5cbiAgbGV0IG1vbnRoTmFtZXMgPVtcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFxuICAgICAgICAgICAgICAgICAgICBcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFxuICAgICAgICAgICAgICAgICAgICBcIlNlcFwiLCBcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl07XG5cbiAgbGV0IGRheSA9IHRoaXMuZ2V0RGF0ZSgpO1xuXG4gIGxldCBtb250aEluZGV4ID0gdGhpcy5nZXRNb250aCgpO1xuICBsZXQgbW9udGhOYW1lID0gbW9udGhOYW1lc1ttb250aEluZGV4XTtcblxuICBsZXQgeWVhciA9IHRoaXMuZ2V0RnVsbFllYXIoKTtcblxuICByZXR1cm4gYCR7bW9udGhOYW1lfSAke3llYXJ9YDtcbn1cblxuLy8gTm93IGFueSBEYXRlIG9iamVjdCBjYW4gYmUgZGVjbGFyZWRcbmxldCBhbnlEYXRlID0gbmV3IERhdGUoMTUyODU3ODAwMDAwMCk7XG5cbi8vIGFuZCBpdCBjYW4gcmVwcmVzZW50IGl0c2VsZiBpbiB0aGUgY3VzdG9tIGZvcm1hdCBkZWZpbmVkIGFib3ZlLlxuXG5sZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG5jb25zdCBwcmV0dHlEYXRlID0gdG9kYXkudG9TaG9ydEZvcm1hdCgpXG5cblxuIGNvbnN0IGFwcCA9IGluaXRpYWxpemVBcHAoe1xuICBhcGlLZXk6IFwiQUl6YVN5QkNVOFJSeFYzcWFTeXhPZ2M0T2JTV21VaGxmbkpzWVRvXCIsXG4gIGF1dGhEb21haW46IFwiZ2VvdG9vbHMtYmM3NWEuZmlyZWJhc2VhcHAuY29tXCIsXG4gIHByb2plY3RJZDogXCJnZW90b29scy1iYzc1YVwiLFxuICBzdG9yYWdlQnVja2V0OiBcImdlb3Rvb2xzLWJjNzVhLmFwcHNwb3QuY29tXCIsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjEwNjE1Nzk1NDY1OVwiLFxuICBhcHBJZDogXCIxOjEwNjE1Nzk1NDY1OTp3ZWI6M2UxODkxMTAyMzZhMjEzODQzOGE1NlwiLFxuICBtZWFzdXJlbWVudElkOiBcIkctWjZHSzE5SzNMMFwiLFxufSk7XG4vL2NvbnN0IGZ1bmN0aW9ucyA9IGdldEZ1bmN0aW9ucyhhcHApO1xuY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbi8vIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgZGF0YWJhc2Ugc2VydmljZVxuXG5jb25zdCBnb29nbGVQcm92aWRlciA9IG5ldyBHb29nbGVBdXRoUHJvdmlkZXIoKTtcblxuIGNvbnN0IGZ1bmN0aW9ucyA9IGdldEZ1bmN0aW9ucyhhcHApO1xuaWYgKGxvY2F0aW9uLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiKSB7XG5cbmNvbm5lY3RGdW5jdGlvbnNFbXVsYXRvcihmdW5jdGlvbnMsIFwibG9jYWxob3N0XCIsIDUwMDEpO1xuY29ubmVjdEF1dGhFbXVsYXRvcihhdXRoLCBcImh0dHA6Ly9sb2NhbGhvc3Q6OTA5OVwiKTtcbn1cblxuaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwibG9naW5cIikpIHtcbiAgY29uc3QgQXBwID0gZnVuY3Rpb24gX0FwcCgpIHtcbiAgICByZXR1cm4gYFxuXG4gICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciB3LTEwMCBoLTEwMCBwb3NpdGlvbi1yZWxhdGl2ZSAke19BcHAuc3RhdGUuY2xhc3N9XCIgc3R5bGU9XCIgICAgbWluLXdpZHRoOiAxMDB2dyAhaW1wb3J0YW50O1xuICAgIG1pbi1oZWlnaHQ6IDEwMHZoICFpbXBvcnRhbnQ7IFwiPlxuICAgIDxkaXYgY2xhc3M9XCJzcGlubmVyLWNvbnRhaW5lciBwb3NpdGlvbi1hYnNvbHV0ZSB0b3AtNTBcbiAgICAgICAgICAgICAgICBsZWZ0LTUwXCIgc3R5bGU9IFwid2lkdGg6IDEwMCU7IHRleHQtYWxpZ246IGNlbnRlclwiPlxuXG4gICAgICAgPGRpdiBjbGFzcz1cInNwaW5uZXItZ3JvdyB0ZXh0LXByaW1hcnkgXCIgcm9sZT1cInN0YXR1c1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidmlzdWFsbHktaGlkZGVuXCI+TG9hZGluZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG5cblxuICAgIGA7XG4gIH07XG4gIEFwcC5zdGF0ZSA9IHtcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBjbGFzczogXCJkLW5vbmVcIixcbiAgICBjb3VudDogMCxcbiAgICB0b2dnbGVTdGF0ZTogKCkgPT4ge1xuICAgICAgc2V0U3RhdGUoKCkgPT4ge1xuICAgICAgICBBcHAuc3RhdGUubG9hZGluZyA9IEFwcC5zdGF0ZS5sb2FkaW5nID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgfTtcblxuICBmdW5jdGlvbiB0b2dnbGVMb2FkaW5nKCkge1xuICAgIGlmIChBcHAuc3RhdGUubG9hZGluZyA9PSB0cnVlKSB7XG4gICAgICBBcHAuc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgQXBwLnN0YXRlLmNsYXNzID0gXCJkLW5vbmVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgQXBwLnN0YXRlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgQXBwLnN0YXRlLmNsYXNzID0gXCJcIjtcbiAgICB9XG4gIH1cblxuICAkKFwiI2dvb2dsZS1zaWduLWluXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkKFwibWFpblwiKS5hZGRDbGFzcyhcImQtbm9uZVwiKTtcblxuICAgICQoXCIjc3Bpbm5lci1ib3hcIikucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XG4gICAgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIGdvb2dsZVByb3ZpZGVyKTtcbiAgfSk7XG4gIG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAodXNlcikgPT4ge1xuICAgIGlmICh1c2VyKSB7XG4gICAgICBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAvLyBIYW5kbGUgRXJyb3JzIGhlcmUuXG4gICAgICAgICAgY29uc3QgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcbiAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgIC8vIFRoZSBlbWFpbCBvZiB0aGUgdXNlcidzIGFjY291bnQgdXNlZC5cbiAgICAgICAgICBjb25zdCBlbWFpbCA9IGVycm9yLmVtYWlsO1xuICAgICAgICAgIC8vIFRoZSBBdXRoQ3JlZGVudGlhbCB0eXBlIHRoYXQgd2FzIHVzZWQuXG4gICAgICAgICAgY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbUVycm9yKGVycm9yKTtcbiAgICAgICAgICAvLyAuLi5cbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKFwiL1wiKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoXCIjc3Bpbm5lci1ib3hcIikuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XG4gICAgICAkKFwibWFpblwiKS5yZW1vdmVDbGFzcyhcImQtbm9uZVwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImxhenktbW9kdWxlLmxvZ2luXCIgKi8gXCIuL2xhenktbW9kdWxlXCIpLnRoZW4oXG4gICAgKG1vZHVsZSkgPT4ge1xuICAgICAgY29uc3QgbG9naW4gPSBtb2R1bGUuZGVmYXVsdDtcblxuICAgICAgbG9naW4oKTtcbiAgICB9XG4gICk7XG59XG5cblxuY29uc3QgbWFpbkNhcmQgPSAgKGlkLCBuYW1lLCBkYXRlLCBtZXNzYWdlLCBsaWtlcywgZGlzbGlrZXMpID0+IHtcblxuICBsZXQgZGF0YSA9IGBcbiAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBjb2wtbGctMTIgY29sLXhsLTEyXCI+XG4gICAgPGRpdiBjbGFzcz1cImNhcmQgYm9yZGVyLTAgXCIgaWQ9JHtpZH0gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBib3JkZXItYm90dG9tIHBiLTJcIj5cbiAgICAgICAgICA8aDYgY2xhc3M9XCJmdy1ib2xkIHRleHQtcHJpbWFyeSBtYi0xIFwiPiR7bmFtZX08L2g2PlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1tdXRlZCBzbWFsbCBtLTBcIj5cbiAgICAgICAgICAgICR7ZGF0ZX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cIm10LTMgbWItMCBwYi0yXCI+XG4gICAgICAgICAgJHttZXNzYWdlfVxuICAgICAgICA8L3A+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNtYWxsIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtc3RhcnRcIj5cbiAgICAgICAgICA8YSBocmVmPVwiIyFcIiBpZD1cInRodW1icy11cFwiIGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtZS0zXCI+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS10aHVtYnMtdXAgbWUtMlwiPjwvaT4gPHNwYW4gaWQ9XCJjb3VudFwiPiR7bGlrZXN9PC9zcGFuPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8YSBocmVmPVwiIyFcIiBpZD1cInRodW1icy1kb3duXCIgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG1lLTNcIj5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFyIGZhLXRodW1icy1kb3duIG1lLTJcIj48L2k+XG4gICAgICAgICAgICA8c3BhbiBpZD1cImNvdW50XCI+JHtkaXNsaWtlc308L3NwYW4+XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxhIGhyZWY9XCIjIVwiIGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtZS0zIHJlcGx5LWJ0blwiPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtY29tbWVudC1kb3RzIG1lLTJcIj48L2k+XG4gICAgICAgICAgICA8cCBjbGFzcz1cIm0tMFwiPlJlcGx5PC9wPlxuICAgICAgICAgIDwvYT5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNhcmQtZm9vdGVyIHB5LTMgYm9yZGVyLTAgIHJvdyBcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm90aGVyLWNvbW1lbnRzXCI+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+YFxuXG4gIHJldHVybiBkYXRhXG5cbn1cblxuXG5cblxuXG5sZXQgdGVzdCA9IG1haW5DYXJkKDEyMywgJ2FuZHJldycsICcxMi0xNCcsICdoZWxsbyB0aGVyZScsICcxJywgJzInKVxuXG5cblxuXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoZXZlbnQpID0+IHtcbiAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xuXG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbW1lbnQtZm9ybVwiKSl7XG5cbiAgICAgIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImxhenktbW9kdWxlLmNhcmRzXCIgKi8gXCIuL2h0bWwtY29tcG9uZW50cy9jYXJkc1wiKS50aGVuKFxuICAgIChtb2R1bGUpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRzID0gbW9kdWxlLmRlZmF1bHQ7XG4gICAgY29uc3QgcmVwbHlDYXJkID0gY2FyZHMuY29tbWVudFJlcGx5XG4gICAgLy9jb21tZW50UmVwbHkoIG5hbWUsIGlkLCBkYXRlLCBtZXNzYWdlKVxuICAgIGNvbnN0IGNvbW1lbnRDYXJkID0gY2FyZHMuY29tbWVudENhcmRcbiAgICAgLy9mdW5jdGlvbiBjb21tZW50Q2FyZCAoaWQsIG5hbWUsIGRhdGUsIG1lc3NhZ2UsIGxpa2VzLCBkaXNsaWtlcylcblxuICAgIGZ1bmN0aW9uIGV4dHJhY3RSZXBsaWVzKHJlcGxpZXMpe1xuICAgICAgbGV0IHJlc3BvbnNlID0gW11cblxuICAgICAgY29uc3QgbWFwID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhyZXBsaWVzKSk7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBtYXAuZW50cmllcygpKSB7XG5cbiAgICAgICAgIGxldCBuZXdPYmplY3Q9IHtcbiAgICAgICAgICBcImlkXCI6IGtleSxcbiAgICAgICAgICBcIm5hbWVcIjogdmFsdWUubmFtZSxcbiAgICAgICAgICBcIm1lc3NhZ2VcIjogdmFsdWUubWVzc2FnZSxcbiAgICAgICAgICBcImRhdGVcIjogdmFsdWUuZGF0ZSxcbiAgICAgICAgICBcInJlY2lwaWVudFwiOiB2YWx1ZS5yZWNpcGllbnRcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3BvbnNlLnB1c2gobmV3T2JqZWN0KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICB9XG5cbmxldCBmaWx0ZXJDb21tZW50U3VjY2VzcyA9IG5ldyBib290c3RyYXAuTW9kYWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlckNvbW1lbnRTdWNjZXNzJyksIHtcbiAga2V5Ym9hcmQ6IGZhbHNlXG59KVxubGV0IGZpbHRlckNvbW1lbnRGYWlsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyQ29tbWVudEZhaWwnKSwge1xuICBrZXlib2FyZDogZmFsc2Vcbn0pXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VSZWY9IHJlZihkYiwgJ21lc3NhZ2VzLycgICk7XG4gICAgZ2V0KG1lc3NhZ2VSZWYpLnRoZW4oKHNuYXBzaG90KSA9PiB7XG4gICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcblxuICAgICAgICBjb25zdCBkYXRhID0gc25hcHNob3QudmFsKCk7XG4gICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGRhdGEpKTtcblxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgbWFwLmVudHJpZXMoKSkge1xuICAgICAgICBsZXQgbGlrZXMgPSB2YWx1ZS5saWtlcyAmJiB2YWx1ZS5saWtlcy5saWtlcyA/IHZhbHVlLmxpa2VzLmxpa2VzIDogJydcbiAgICAgICAgbGV0IGRpc2xpa2VzID0gdmFsdWUuZGlzbGlrZXMgJiYgdmFsdWUuZGlzbGlrZXMuZGlzbGlrZXMgPyB2YWx1ZS5kaXNsaWtlcy5kaXNsaWtlcyA6ICcnXG4gICAgICAgIGNvbnNvbGUubG9nKGxpa2VzKVxuICAgICAgIGNvbnN0IGRhdGVpbmZvID0gdmFsdWUuZGF0ZSA/IHZhbHVlLmRhdGUgOiBcIlwiXG5cbiAgICAgICBsZXQgY29tbWVudHNMaXN0ID0gY29tbWVudENhcmQoIHZhbHVlLmlkLCB2YWx1ZS5uYW1lLCBkYXRlaW5mbywgdmFsdWUubWVzc2FnZSwgbGlrZXMsIGRpc2xpa2VzKVxuICAgICAgICAkKCBcIiNjb21tZW50LXNlY3Rpb25cIiApLmFwcGVuZChjb21tZW50c0xpc3QgKTtcbiAgICAgICAgaWYodmFsdWUucmVwbGllcyl7XG4gICAgICAgICAgbGV0IGV4ID0gZXh0cmFjdFJlcGxpZXModmFsdWUucmVwbGllcylcbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZXgubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGV4W2luZGV4XTtcbiAgICAgICAgICBsZXQgcmVjaXBpZW50ID0gJChgIyR7ZWxlbWVudC5yZWNpcGllbnR9IC5vdGhlci1jb21tZW50c2ApXG4gICAgICAgICAgbGV0IHJlcGxpZXMgPSByZXBseUNhcmQoZWxlbWVudC5uYW1lLCBlbGVtZW50LmlkLCBlbGVtZW50LmRhdGUsIGVsZW1lbnQubWVzc2FnZSlcbiAgICAgICAgICAkKHJlY2lwaWVudFswXSkuYXBwZW5kKFxuYCAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMSBwLTMgbWItM1wiID5cbiAgICAgIDxkaXYgY2xhc3M9XCJyb3cgXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyIGJvcmRlci1zdGFydFwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgYm9yZGVyLWJvdHRvbSBwYi0yXCI+XG4gICAgICAgIDxoNiBjbGFzcz1cImZ3LWJvbGQgdGV4dC1wcmltYXJ5IG1iLTEgXCI+JHtlbGVtZW50Lm5hbWV9PC9oNj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW11dGVkIHNtYWxsIG0tMFwiPlxuICAgICAgICAgJHtlbGVtZW50LmRhdGV9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwibXQtMyBtYi0wIHBiLTJcIj5cbiAgICAgICAgJHtlbGVtZW50Lm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG5cbmBcblxuICAgICAgICAgIClcbiAgICAgIH1cbiAgICAgICAgfVxuXG5cblxuXG5cbiAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ25vIGRhdGEnKVxuICAgICAgfVxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG5cblxuICAgICQoXCIjY29tbWVudC1mb3JtXCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbmNvbnN0IGlucHV0cyA9ICQoJyNjb21tZW50LWZvcm0gOmlucHV0JylcbiAgICBsZXQgY2hpbGRyZW4gPSAkKHRoaXMpLmNoaWxkcmVuKClcbiQoXCIjY29tbWVudC1idG5cIikuZGlzYWJsZWQgPSB0cnVlO1xuICQoXCIjY29tbWVudC1idG5cIikuaHRtbChgIDxzcGFuIGNsYXNzPVwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+XG4gIFZlcmlmeWluZy4uYClcbiAgICAgIGxldCBuYW1lID0gZS5jdXJyZW50VGFyZ2V0WzBdLnZhbHVlLmxlbmd0aCA+IDAgPyBlLmN1cnJlbnRUYXJnZXRbMF0udmFsdWUgOiBcIkd1ZXN0XCI7XG4gICAgICBsZXQgbWVzc2FnZSA9IGUuY3VycmVudFRhcmdldFsxXS52YWx1ZTtcblxuICAgICAgbGV0IGNvbW1lbnRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21tZW50LXNlY3Rpb25cIilcbiAgICAgIGxldCBjbGVhbk1lc3NhZ2U9ICBkb21wdXJpZnkuc2FuaXRpemUobWVzc2FnZSlcbiAgICAgIGxldCBjbGVhbk5hbWUgPSBkb21wdXJpZnkuc2FuaXRpemUobmFtZSlcblxuICAgICAgY29uc3QgYWRkTWVzc2FnZSA9IGh0dHBzQ2FsbGFibGUoZnVuY3Rpb25zLCAnYWRkTWVzc2FnZScpO1xuICAgICAgbGV0IG1lc3NhZ2VUZXh0ID0gYCR7Y2xlYW5OYW1lfSAke2NsZWFuTWVzc2FnZX1gXG4gICAgICAgIGFkZE1lc3NhZ2Uoe3RleHQ6IG1lc3NhZ2VUZXh0fSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAvLyBSZWFkIHJlc3VsdCBvZiB0aGUgQ2xvdWQgRnVuY3Rpb24uXG4gICAgbGV0IHNhbml0aXplZE1lc3NhZ2UgPSByZXN1bHQuZGF0YS50ZXh0O1xuICAgIGxldCBhbm9ueW1vdXNVaWQgPSByZXN1bHQuZGF0YS5pZFxuICAgIGNvbnNvbGUubG9nKGFub255bW91c1VpZClcblxuXG4gICAgaWYgKG1lc3NhZ2VUZXh0ICE9PSBzYW5pdGl6ZWRNZXNzYWdlKSB7XG5cblxuICAgICAgICAgIGZpbHRlckNvbW1lbnRGYWlsLnRvZ2dsZSgpXG4gICAgJChcIiNjb21tZW50LWJ0blwiKS5kaXNhYmxlZCA9IGZhbHNlXG4gICAgJChcIiNjb21tZW50LWJ0blwiKS5odG1sKCdTdWJtaXQnKVxuICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpbnB1dHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGlucHV0c1tpbmRleF07XG4gICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJydcblxuICAgICAgICAgICAgfVxuXG5cblxuICAgIH1cbiAgICBlbHNlIHtcblxuXG5cbiAgICAgICAgJChcIiNjb21tZW50LWJ0blwiKS5kaXNhYmxlZCA9IGZhbHNlXG4gICAgJChcIiNjb21tZW50LWJ0blwiKS5odG1sKCdTdWJtaXQnKVxuICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpbnB1dHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGlucHV0c1tpbmRleF07XG4gICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJydcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIGZpbHRlckNvbW1lbnRTdWNjZXNzLnRvZ2dsZSgpXG4gICAgICAgICAgICAgY29uc3QgcG9zdExpc3RSZWYgPSByZWYoZGIsICdtZXNzYWdlcycpO1xuICAgICAgICBjb25zdCBuZXdQb3N0UmVmID0gcHVzaChwb3N0TGlzdFJlZik7XG4gICAgICAgIHNldChuZXdQb3N0UmVmLCB7XG4gICAgICAgICAgIG5hbWU6IGNsZWFuTmFtZSxcbiAgICAgICAgICAgaWQ6IGFub255bW91c1VpZCxcbiAgICAgICAgICAgbWVzc2FnZTogY2xlYW5NZXNzYWdlLFxuICAgICAgICAgICBkYXRlOiBwcmV0dHlEYXRlXG5cbiAgICAgICAgfSk7XG4gICAgICAgICQoIFwiI2NvbW1lbnQtc2VjdGlvblwiICkuYXBwZW5kKCBgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIGNvbC1sZy0xMiBjb2wteGwtMTJcIiA+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgYm9yZGVyLTAgXCIgIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnRcIiBpZD0ke2Fub255bW91c1VpZH0gPlxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIiA+XG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgYm9yZGVyLWJvdHRvbSBwYi0yXCI+XG4gICAgICAgIDxoNiBjbGFzcz1cImZ3LWJvbGQgdGV4dC1wcmltYXJ5IG1iLTEgXCI+JHtjbGVhbk5hbWV9PC9oNj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW11dGVkIHNtYWxsIG0tMFwiPlxuICAgICAgICAgJHtwcmV0dHlEYXRlfVxuICAgICAgICA8L3A+XG5cblxuICAgICAgICA8L2Rpdj5cblxuXG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwibXQtMyBtYi0wIHBiLTJcIj5cbiAgICAgICAgICAgICAke2NsZWFuTWVzc2FnZX1cbiAgICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbWFsbCBkLWZsZXgganVzdGlmeS1jb250ZW50LXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiMhXCIgaWQ9XCJ0aHVtYnMtdXBcIiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbWUtM1wiPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtdGh1bWJzLXVwIG1lLTJcIj48L2k+XG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiY291bnRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjIVwiIGlkPVwidGh1bWJzLWRvd25cIiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbWUtM1wiPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtdGh1bWJzLWRvd24gbWUtMlwiPjwvaT5cbiAgICAgIDxzcGFuIGlkPVwiY291bnRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjIVwiIGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtZS0zIHJlcGx5LWJ0blwiPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtY29tbWVudC1kb3RzIG1lLTJcIj48L2k+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm0tMFwiPlJlcGx5PC9wPlxuICAgICAgICAgICAgICAgIDwvYT5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtZm9vdGVyIHB5LTMgYm9yZGVyLTAgIHJvdyBcIiBzdHlsZSA9IFwiYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwib3RoZXItY29tbWVudHNcIj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCApO1xuICAkKFwiI2NvbW1lbnQtYnRuXCIpLmRpc2FibGVkID0gZmFsc2U7XG5cblxuXG5cbiAgICB9XG5cblxuICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgIC8vIEdldHRpbmcgdGhlIEVycm9yIGRldGFpbHMuXG4gICAgbGV0IGNvZGUgPSBlcnJvci5jb2RlO1xuICAgIGxldCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICBsZXQgZGV0YWlscyA9IGVycm9yLmRldGFpbHM7XG4gICAgY29uc29sZS5lcnJvcignVGhlcmUgd2FzIGFuIGVycm9yIHdoZW4gY2FsbGluZyB0aGUgQ2xvdWQgRnVuY3Rpb24nLCBlcnJvcik7XG4gICAgd2luZG93LmFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3Igd2hlbiBjYWxsaW5nIHRoZSBDbG91ZCBGdW5jdGlvbjpcXG5cXG5FcnJvciBDb2RlOiAnXG4gICAgICAgICsgY29kZSArICdcXG5FcnJvciBNZXNzYWdlOicgKyBtZXNzYWdlICsgJ1xcbkVycm9yIERldGFpbHM6JyArIGRldGFpbHMpO1xuICAgIGFkZE1lc3NhZ2VCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfSk7XG5cblxuXG5cbiAgICB9KTtcbmNvbnN0IGFkZExpa2UgPSBhc3luYyAoaWQpID0+IHtcblxuICAgIGF3YWl0IHNldChyZWYoZGIsIGBtZXNzYWdlcy8ke2lkfS9saWtlc2ApLCB7XG4gICAgICAgICBsaWtlczogaW5jcmVtZW50KDEpXG4gICAgfSk7XG4gIH1cbmNvbnN0IGFkZERpc2xpa2UgPSBhc3luYyAoaWQpID0+IHtcblxuICAgIGF3YWl0IHNldChyZWYoZGIsIGBtZXNzYWdlcy8ke2lkfS9kaXNsaWtlc2ApLCB7XG4gICAgICAgICBkaXNsaWtlczogaW5jcmVtZW50KDEpXG4gICAgfSk7XG4gIH1cbmNvbnN0IGFkZFJlcGx5ID0gYXN5bmMgKCkgPT4ge1xuXG5jb25zdCBkYlJlZiA9IHJlZihkYiwgJ21lc3NhZ2VzJyk7XG5cbiAgb25WYWx1ZShkYlJlZiwgKHNuYXBzaG90KSA9PiB7XG4gIHNuYXBzaG90LmZvckVhY2goKGNoaWxkU25hcHNob3QpID0+IHtcbiAgICBjb25zdCBjaGlsZEtleSA9IGNoaWxkU25hcHNob3Qua2V5O1xuICAgIGNvbnN0IGNoaWxkRGF0YSA9IGNoaWxkU25hcHNob3QudmFsKCk7XG4gICAgY29uc29sZS5sb2coY2hpbGRLZXksIGNoaWxkRGF0YSlcbiAgfSk7XG59LCB7XG4gIG9ubHlPbmNlOiB0cnVlXG59KTtcblxuICB9XG5cbiAkKCcjY29tbWVudC1zZWN0aW9uJykub24oJ2NsaWNrJywgJyN0aHVtYnMtdXAnLCBmdW5jdGlvbiAoZSkge1xuZS5wcmV2ZW50RGVmYXVsdCgpXG5sZXQgdCA9ICQodGhpcylcbmxldCBhbmNob3IgPSB0WzBdXG5sZXQgY291bnRUZXh0ID0gJCh0aGlzKS5jaGlsZHJlbigpLmxhc3QoKS50ZXh0KClcbiBsZXQgcGFyZW50VGFnID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdpZCcpXG5cbmNvbnN0IGRiUmVmID0gcmVmKGRiLCAnbWVzc2FnZXMnKTtcbiAgICAgICAgICAgIG9uVmFsdWUoZGJSZWYsIChzbmFwc2hvdCkgPT4ge1xuICBzbmFwc2hvdC5mb3JFYWNoKChjaGlsZFNuYXBzaG90KSA9PiB7XG4gICAgY29uc3QgY2hpbGRLZXkgPSBjaGlsZFNuYXBzaG90LmtleTtcbiAgICBjb25zdCBjaGlsZERhdGEgPSBjaGlsZFNuYXBzaG90LnZhbCgpO1xuICAgLy8gY29uc29sZS5sb2coY2hpbGRLZXksIGNoaWxkRGF0YSlcblxuICAgIGlmKGNoaWxkRGF0YS5pZCA9PSBwYXJlbnRUYWcpe1xuXG5jb25zdCBwb3N0TGlzdFJlZiA9IHJlZihkYiwgYG1lc3NhZ2VzLyR7Y2hpbGRLZXl9L2xpa2VzYCk7XG5cblxuY29uc3QgbmV3UG9zdFJlZiA9IHB1c2gocG9zdExpc3RSZWYpO1xuc2V0KHJlZihkYiwgYG1lc3NhZ2VzLyR7Y2hpbGRLZXl9L2xpa2VzYCksIHtcbiAgICAgICAgIGxpa2VzOiBpbmNyZW1lbnQoMSlcbiAgICB9KTtcblxuICAgIH1cblxuICB9KTtcbn0sIHtcbiAgb25seU9uY2U6IHRydWVcbn0pO1xuXG5sZXQgbmV3Q291bnQgPSBwYXJzZUludChjb3VudFRleHQpICsgMSB8fCAxXG4kKHRoaXMpLmNoaWxkcmVuKCkuZmlyc3QoKS5yZW1vdmVDbGFzcygnZmFyIGZhLXRodW1icy11cCBtZS0yJykuYWRkQ2xhc3MoJ2ZhcyBmYS10aHVtYnMtdXAgbWUtMicpXG4kKHRoaXMpLmNoaWxkcmVuKCkuZmlyc3QoKS5jc3MoJ2NvbG9yJywgJyMwMDg1QTEnKVxuXG5jb25zb2xlLmxvZygkKHRoaXMpLmNoaWxkcmVuKCkubGFzdCgpLnRleHQoKSlcbiQodGhpcykuY2hpbGRyZW4oKS5sYXN0KCkuaHRtbChuZXdDb3VudClcblxuXG4gfSlcblxuICQoJyNjb21tZW50LXNlY3Rpb24nKS5vbignY2xpY2snLCAnI3RodW1icy1kb3duJywgZnVuY3Rpb24gKGUpIHtcbmUucHJldmVudERlZmF1bHQoKVxubGV0IHQgPSAkKHRoaXMpXG5sZXQgYW5jaG9yID0gdFswXVxubGV0IGNvdW50VGV4dCA9ICQodGhpcykuY2hpbGRyZW4oKS5sYXN0KCkudGV4dCgpXG4gbGV0IHBhcmVudFRhZyA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkuYXR0cignaWQnKVxuXG5jb25zdCBkYlJlZiA9IHJlZihkYiwgJ21lc3NhZ2VzJyk7XG4gICAgICAgICAgICBvblZhbHVlKGRiUmVmLCAoc25hcHNob3QpID0+IHtcbiAgc25hcHNob3QuZm9yRWFjaCgoY2hpbGRTbmFwc2hvdCkgPT4ge1xuICAgIGNvbnN0IGNoaWxkS2V5ID0gY2hpbGRTbmFwc2hvdC5rZXk7XG4gICAgY29uc3QgY2hpbGREYXRhID0gY2hpbGRTbmFwc2hvdC52YWwoKTtcbiAgIC8vIGNvbnNvbGUubG9nKGNoaWxkS2V5LCBjaGlsZERhdGEpXG5cbiAgICBpZihjaGlsZERhdGEuaWQgPT0gcGFyZW50VGFnKXtcblxuY29uc3QgcG9zdExpc3RSZWYgPSByZWYoZGIsIGBtZXNzYWdlcy8ke2NoaWxkS2V5fS9saWtlc2ApO1xuXG5cbmNvbnN0IG5ld1Bvc3RSZWYgPSBwdXNoKHBvc3RMaXN0UmVmKTtcbnNldChyZWYoZGIsIGBtZXNzYWdlcy8ke2NoaWxkS2V5fS9kaXNsaWtlc2ApLCB7XG4gICAgICAgICBkaXNsaWtlczogaW5jcmVtZW50KDEpXG4gICAgfSk7XG5cbiAgICB9XG5cbiAgfSk7XG59LCB7XG4gIG9ubHlPbmNlOiB0cnVlXG59KTtcbmNvbnNvbGUubG9nKCQodGhpcykuY2hpbGRyZW4oKSlcbmxldCBuZXdDb3VudCA9IHBhcnNlSW50KGNvdW50VGV4dCkgKyAxIHx8IDFcbiQodGhpcykuY2hpbGRyZW4oKS5maXJzdCgpLnJlbW92ZUNsYXNzKCdmYXIgZmEtdGh1bWJzLWRvd24gbWUtMicpLmFkZENsYXNzKCdmYXMgZmEtdGh1bWJzLWRvd24gbWUtMicpXG4kKHRoaXMpLmNoaWxkcmVuKCkuZmlyc3QoKS5jc3MoJ2NvbG9yJywgJyMwMDg1QTEnKVxuJCh0aGlzKS5jaGlsZHJlbigpLmxhc3QoKS5odG1sKG5ld0NvdW50KVxuXG4gfSlcblxuICAgICQoJyNjb21tZW50LXNlY3Rpb24nKS5vbignY2xpY2snLCAnLnJlcGx5LWJ0bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbmxldCBzaWJsaW5ncyA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkuc2libGluZ3MoKVxubGV0IG90aGVyQ29tbWVudHMgPSBzaWJsaW5nc1swXVxuICAgICAgLy9sZXQgcGFyZW50VGFnID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdpZCcpO1xuICAgICAgbGV0IHBhcmVudFRhZyA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYXR0cignaWQnKVxuICAgICAgbGV0IGdyYW5kRmF0aGVyID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5jaGlsZHJlbigpLmxhc3QoKS5jaGlsZHJlbigpXG4gICAgICBsZXQgZm9vdGVyID0gICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmNoaWxkcmVuKCkubGFzdCgpXG4gICAgICBsZXQgcmVwbHlTZWN0aW9uID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5jaGlsZHJlbigpLmxhc3QoKS5jaGlsZHJlbigpXG4gICAgICAkKHJlcGx5U2VjdGlvbikuYWRkQ2xhc3MoJ2Qtbm9uZScpXG5cblxuICAkKGZvb3RlcikuYXBwZW5kKGBcblxuICA8Zm9ybSBjbGFzcz1cInJlcGx5LWZvcm1cIj5cbiAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGZsZXgtc3RhcnQgdy0xMDAgXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTEgcC0zIG1iLTNcIj5cbiAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1vdXRsaW5lIHctMTAwXCI+XG5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XG5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImV4YW1wbGVJbnB1dEVtYWlsMVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJyZXBseU5hbWVcIiBwbGFjZWhvbGRlcj1cIk5hbWUgKE9wdGlvbmFsKVwiPlxuXG5cbiAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInRleHRBcmVhRXhhbXBsZVwiIHJvd3M9XCI0XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmZmO1wiIHBsYWNlaG9sZGVyPVwiV3JpdGUgYSBjb21tZW50LlwiPjwvdGV4dGFyZWE+XG5cbiAgICAgICA8L2Rpdj5cblxuICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGlkPVwicmVwbHktYnRuXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgYnRuLXNtIG10LTNcIj5TZW5kIDxpIGNsYXNzPVwiZmFyIGZhLXBhcGVyLXBsYW5lXCI+PC9pPjwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgICA8L2Rpdj5cblxuXG4gIDwvZm9ybT5cblxuXG5cbiAgYCk7XG5cbiAgJCgnLnJlcGx5LWZvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgY29uc3QgaW5wdXRzID0gJCgnLnJlcGx5LWZvcm0gOmlucHV0JylcblxuICAgICAgJChcIiNyZXBseS1idG5cIikuZGlzYWJsZWQgPSB0cnVlXG4gICAgICBsZXQgbmFtZSA9IGlucHV0c1swXS52YWx1ZS5sZW5ndGggPiAwID8gaW5wdXRzWzBdLnZhbHVlOiBcIkd1ZXN0XCJcblxuICAgICAgbGV0IG1lc3NhZ2UgPSBpbnB1dHNbMV1cbiAgICAgIGxldCBwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpXG4gICAgICBsZXQgc2libGluZ3MgPSAkKHRoaXMpLnNpYmxpbmdzKClcblxuICAgICAgbGV0IG90aGVyQ29tbWVudHMgPSBzaWJsaW5nc1sxXVxuXG4gICAgIGxldCBjbGVhbk1lc3NhZ2U9ICBkb21wdXJpZnkuc2FuaXRpemUobWVzc2FnZS52YWx1ZSlcbiAgICAgIGxldCBjbGVhbk5hbWUgPSBkb21wdXJpZnkuc2FuaXRpemUobmFtZSlcbiAgICAgIGNvbnN0IGRvY0lkID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdpZCcpXG5cbmNvbnN0IGRiUmVmID0gcmVmKGRiLCAnbWVzc2FnZXMnKTtcblxuXG5cblxuXG5cblxuXG4gICAgbGV0IG1lc3NhZ2VUZXh0ID0gYCR7Y2xlYW5OYW1lfSAke2NsZWFuTWVzc2FnZX1gXG4gICAgbGV0IHJlcGx5Rm9ybSA9ICQodGhpcylcbiAgICBsZXQgb3RoZXJTaWJsaW5ncyA9IHNpYmxpbmdzWzBdXG5cbiAgICAgY29uc3QgYWRkTWVzc2FnZSA9IGh0dHBzQ2FsbGFibGUoZnVuY3Rpb25zLCAnYWRkTWVzc2FnZScpO1xuXG4gICAgICAgICAgIGFkZE1lc3NhZ2Uoe3RleHQ6IG1lc3NhZ2VUZXh0fSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAvLyBSZWFkIHJlc3VsdCBvZiB0aGUgQ2xvdWQgRnVuY3Rpb24uXG4gICAgbGV0IHNhbml0aXplZE1lc3NhZ2UgPSByZXN1bHQuZGF0YS50ZXh0O1xuICBsZXQgaWQgPSByZXN1bHQuZGF0YS5pZFxuXG4gICAgaWYgKG1lc3NhZ2VUZXh0ICE9PSBzYW5pdGl6ZWRNZXNzYWdlKSB7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGZpbHRlckNvbW1lbnRGYWlsLnRvZ2dsZSgpXG4gICAgJChcIiNyZXBseS1idG5cIikuZGlzYWJsZWQgPSBmYWxzZVxuICAgICQoXCIjcmVwbHktYnRuXCIpLmh0bWwoJ1NlbmQnKVxuICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpbnB1dHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGlucHV0c1tpbmRleF07XG4gICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJydcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG5cblxuICAgIH1cbiAgICBlbHNlIHtcblxuXG5cbiAgICAgICAgICAgIG9uVmFsdWUoZGJSZWYsIChzbmFwc2hvdCkgPT4ge1xuICBzbmFwc2hvdC5mb3JFYWNoKChjaGlsZFNuYXBzaG90KSA9PiB7XG4gICAgY29uc3QgY2hpbGRLZXkgPSBjaGlsZFNuYXBzaG90LmtleTtcbiAgICBjb25zdCBjaGlsZERhdGEgPSBjaGlsZFNuYXBzaG90LnZhbCgpO1xuICAgLy8gY29uc29sZS5sb2coY2hpbGRLZXksIGNoaWxkRGF0YSlcblxuICAgIGlmKGNoaWxkRGF0YS5pZCA9PSBkb2NJZCl7XG5jb25zdCBwb3N0RGF0YSA9IHtcbiAgbmFtZTogY2xlYW5OYW1lLFxuICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgIG1lc3NhZ2U6IGNsZWFuTWVzc2FnZSxcbiAgICAgICAgICAgZGF0ZTogcHJldHR5RGF0ZX1cbmNvbnN0IHBvc3RMaXN0UmVmID0gcmVmKGRiLCBgbWVzc2FnZXMvJHtjaGlsZEtleX0vcmVwbGllc2ApO1xuXG5jb25zb2xlLmxvZyhjaGlsZEtleSwgY2hpbGREYXRhKVxuY29uc3QgbmV3UG9zdFJlZiA9IHB1c2gocG9zdExpc3RSZWYpO1xuc2V0KG5ld1Bvc3RSZWYsIHtcbiBuYW1lOiBjbGVhbk5hbWUsXG4gICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgbWVzc2FnZTogY2xlYW5NZXNzYWdlLFxuICAgICAgICAgICBkYXRlOiBwcmV0dHlEYXRlLFxuICAgICAgICAgICAgcmVjaXBpZW50OiBjaGlsZERhdGEuaWRcbn0pO1xuXG4gICAgfVxuXG4gIH0pO1xufSwge1xuICBvbmx5T25jZTogdHJ1ZVxufSk7XG5cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG5cblxuICAgICAgICAgICAgICQocmVwbHlGb3JtKS5hbmltYXRlKHtvcGFjaXR5OiAwfSwgZnVuY3Rpb24oKXtcbiAgICAgICQocmVwbHlGb3JtKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XG4gICAgICAgICQob3RoZXJTaWJsaW5ncykucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIilcbiAgICAgICQob3RoZXJTaWJsaW5ncykuYXBwZW5kKFxuICAgICAgICBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMSBwLTMgbWItM1wiID5cbiAgICAgIDxkaXYgY2xhc3M9XCJyb3cgXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyIGJvcmRlci1zdGFydFwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgYm9yZGVyLWJvdHRvbSBwYi0yXCI+XG4gICAgICAgIDxoNiBjbGFzcz1cImZ3LWJvbGQgdGV4dC1wcmltYXJ5IG1iLTEgXCI+JHtjbGVhbk5hbWV9PC9oNj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW11dGVkIHNtYWxsIG0tMFwiPlxuICAgICAgICAgJHtwcmV0dHlEYXRlfVxuICAgICAgICA8L3A+XG5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJtdC0zIG1iLTAgcGItMlwiPlxuICAgICAgICAke2NsZWFuTWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICQob3RoZXJDb21tZW50cykuYW5pbWF0ZSh7b3BhY2l0eTogMX0sIDUwMCk7XG5cbiBmaWx0ZXJDb21tZW50U3VjY2Vzcy50b2dnbGUoKVxuICAgIH0pO1xuICAgICAgfSwgNTAwKTtcblxuICAgIH0gfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAvLyBHZXR0aW5nIHRoZSBFcnJvciBkZXRhaWxzLlxuICAgIGxldCBjb2RlID0gZXJyb3IuY29kZTtcbiAgICBsZXQgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgbGV0IGRldGFpbHMgPSBlcnJvci5kZXRhaWxzO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1RoZXJlIHdhcyBhbiBlcnJvciB3aGVuIGNhbGxpbmcgdGhlIENsb3VkIEZ1bmN0aW9uJywgZXJyb3IpO1xuICAgIHdpbmRvdy5hbGVydCgnVGhlcmUgd2FzIGFuIGVycm9yIHdoZW4gY2FsbGluZyB0aGUgQ2xvdWQgRnVuY3Rpb246XFxuXFxuRXJyb3IgQ29kZTogJ1xuICAgICAgICArIGNvZGUgKyAnXFxuRXJyb3IgTWVzc2FnZTonICsgbWVzc2FnZSArICdcXG5FcnJvciBEZXRhaWxzOicgKyBkZXRhaWxzKTtcbiAgICBhZGRNZXNzYWdlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH0pO1xuXG5cbiAgfSk7XG4gIH0pO1xuXG5cblxuXG5cbiAgICB9XG5cbiAgKTtcblxuXG5cblxuXG5cbiAgfVxuXG5cblxuICAkKFwiI3Rlc3RCdG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG15TW9kYWwgPSBuZXcgYm9vdHN0cmFwLk1vZGFsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWxTaWduT3V0XCIpKTtcbiAgICBteU1vZGFsLnRvZ2dsZSgpO1xuICB9KTtcblxuICBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgKHVzZXIpID0+IHtcbiAgICBpZiAodXNlcikge1xuICAgICAgJChcIiNzaWduLWluLWVsbVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICQoXCIjc2lnbi1vdXQtZWxtXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJChcIiNzaWduLW91dC1lbG1cIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAkKFwiI3NpZ24taW4tZWxtXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoXCIjc2lnbi1vdXRcIikub24oXCJjbGlja1wiLCBhc3luYyBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzaWduT3V0KGF1dGgpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGxldCBteU1vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbChcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsU2lnbk91dFwiKVxuICAgICAgICApO1xuICAgICAgICBteU1vZGFsLnRvZ2dsZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHt9KTtcbiAgfSk7XG5cbiAgJChcIiN1c2VyLWJ0blwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcblxuICAvLyBNb3ZpZSBEaXJlY3Rvcnlcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQUE7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBU0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBS0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFLQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFTQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/index.js\n");

/***/ }),

/***/ "./src/js/utils/errors.js":
/*!********************************!*\
  !*** ./src/js/utils/errors.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Avoid `console` errors in browsers that lack a console.\n(function () {\n  var method;\n\n  var noop = function () {};\n\n  var methods = ['assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error', 'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log', 'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd', 'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'];\n  var length = methods.length;\n  var console = window.console = window.console || {};\n\n  while (length--) {\n    method = methods[length]; // Only stub undefined methods.\n\n    if (!console[method]) {\n      console[method] = noop;\n    }\n  }\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvZXJyb3JzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWxzL2Vycm9ycy5qcz80YjlmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEF2b2lkIGBjb25zb2xlYCBlcnJvcnMgaW4gYnJvd3NlcnMgdGhhdCBsYWNrIGEgY29uc29sZS5cbihmdW5jdGlvbiAoKSB7XG4gIHZhciBtZXRob2Q7XG4gIHZhciBub29wID0gZnVuY3Rpb24gKCkge307XG4gIHZhciBtZXRob2RzID0gW1xuICAgICdhc3NlcnQnLCAnY2xlYXInLCAnY291bnQnLCAnZGVidWcnLCAnZGlyJywgJ2RpcnhtbCcsICdlcnJvcicsXG4gICAgJ2V4Y2VwdGlvbicsICdncm91cCcsICdncm91cENvbGxhcHNlZCcsICdncm91cEVuZCcsICdpbmZvJywgJ2xvZycsXG4gICAgJ21hcmtUaW1lbGluZScsICdwcm9maWxlJywgJ3Byb2ZpbGVFbmQnLCAndGFibGUnLCAndGltZScsICd0aW1lRW5kJyxcbiAgICAndGltZWxpbmUnLCAndGltZWxpbmVFbmQnLCAndGltZVN0YW1wJywgJ3RyYWNlJywgJ3dhcm4nXG4gIF07XG4gIHZhciBsZW5ndGggPSBtZXRob2RzLmxlbmd0aDtcbiAgdmFyIGNvbnNvbGUgPSAod2luZG93LmNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSB8fCB7fSk7XG5cbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgbWV0aG9kID0gbWV0aG9kc1tsZW5ndGhdO1xuXG4gICAgLy8gT25seSBzdHViIHVuZGVmaW5lZCBtZXRob2RzLlxuICAgIGlmICghY29uc29sZVttZXRob2RdKSB7XG4gICAgICBjb25zb2xlW21ldGhvZF0gPSBub29wO1xuICAgIH1cbiAgfVxufSgpKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/utils/errors.js\n");

/***/ }),

/***/ 1:
/*!*******************************!*\
  !*** multi ./src/js/index.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./src/js/index.js */"./src/js/index.js");


/***/ })

/******/ });